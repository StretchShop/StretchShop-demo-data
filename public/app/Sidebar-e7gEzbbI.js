import{v as Q,c as ee,a as te,u as ne,I as re,m as oe}from"./edit-HzgU4kAu.js";import{P as ie,o as A,c as D,a as I,i as z,n as ae,K as se,a3 as le,F as ce,d as ue,t as de,r as X,b as he,h as V,e as fe,w as pe,I as me,f as G}from"./sett-kcacPgfM.js";import{_ as J}from"./index-dpUgND6i.js";const ge={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([f,t])=>{if(!t&&f)return f;const a={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return t=t.slice(1).split("&").map(g=>{const[l,n]=g.split("=");return!f&&l==="v"?(f=n,null):a[l]?`${a[l]}=${n}`:null}).filter(g=>!!g),f+"?"+t.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:f=>f.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:f=>f.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:f=>f.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:f=>f.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:f=>f[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:f=>f.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}};(function(){try{if(typeof document<"u"){var f=document.createElement("style");f.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(f)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const ye='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',be='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',W='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',we='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function H(f,t=null,a={}){const g=document.createElement(f);Array.isArray(t)?g.classList.add(...t):t&&g.classList.add(t);for(const l in a)g[l]=a[l];return g}class R{constructor({api:t,config:a,onSelectFile:g,readOnly:l}){this.api=t,this.config=a,this.onSelectFile=g,this.readOnly=l,this.nodes={wrapper:H("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:H("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:H("div",this.CSS.imagePreloader),caption:H("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(t){return!t.file||Object.keys(t.file).length===0?this.toggleStatus(R.status.EMPTY):this.toggleStatus(R.status.UPLOADING),this.nodes.wrapper}createFileButton(){const t=H("div",[this.CSS.button]);return t.innerHTML=this.config.buttonContent||`${W} ${this.api.i18n.t("Select an Image")}`,t.addEventListener("click",()=>{this.onSelectFile()}),t}showPreloader(t){this.nodes.imagePreloader.style.backgroundImage=`url(${t})`,this.toggleStatus(R.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(R.status.EMPTY)}fillImage(t){const a=/\.mp4$/.test(t)?"VIDEO":"IMG",g={src:t};let l="load";a==="VIDEO"&&(g.autoplay=!0,g.loop=!0,g.muted=!0,g.playsinline=!0,l="loadeddata"),this.nodes.imageEl=H(a,this.CSS.imageEl,g),this.nodes.imageEl.addEventListener(l,()=>{this.toggleStatus(R.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(t){this.nodes.caption&&(this.nodes.caption.innerHTML=t)}toggleStatus(t){for(const a in R.status)Object.prototype.hasOwnProperty.call(R.status,a)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${R.status[a]}`,t===R.status[a])}applyTune(t,a){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${t}`,a)}}function ve(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var Z={exports:{}};(function(f,t){(function(a,g){f.exports=g()})(window,function(){return function(a){var g={};function l(n){if(g[n])return g[n].exports;var r=g[n]={i:n,l:!1,exports:{}};return a[n].call(r.exports,r,r.exports,l),r.l=!0,r.exports}return l.m=a,l.c=g,l.d=function(n,r,d){l.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:d})},l.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.t=function(n,r){if(1&r&&(n=l(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var m in n)l.d(d,m,(function(i){return n[i]}).bind(null,m));return d},l.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(r,"a",r),r},l.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},l.p="",l(l.s=3)}([function(a,g){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}a.exports=l},function(a,g,l){(function(n){var r=l(2),d=setTimeout;function m(){}function i(s){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if(typeof s!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(s,this)}function v(s,p){for(;s._state===3;)s=s._value;s._state!==0?(s._handled=!0,i._immediateFn(function(){var e=s._state===1?p.onFulfilled:p.onRejected;if(e!==null){var o;try{o=e(s._value)}catch(u){return void w(p.promise,u)}y(p.promise,o)}else(s._state===1?y:w)(p.promise,s._value)})):s._deferreds.push(p)}function y(s,p){try{if(p===s)throw new TypeError("A promise cannot be resolved with itself.");if(p&&(typeof p=="object"||typeof p=="function")){var e=p.then;if(p instanceof i)return s._state=3,s._value=p,void b(s);if(typeof e=="function")return void c((o=e,u=p,function(){o.apply(u,arguments)}),s)}s._state=1,s._value=p,b(s)}catch(h){w(s,h)}var o,u}function w(s,p){s._state=2,s._value=p,b(s)}function b(s){s._state===2&&s._deferreds.length===0&&i._immediateFn(function(){s._handled||i._unhandledRejectionFn(s._value)});for(var p=0,e=s._deferreds.length;p<e;p++)v(s,s._deferreds[p]);s._deferreds=null}function E(s,p,e){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof p=="function"?p:null,this.promise=e}function c(s,p){var e=!1;try{s(function(o){e||(e=!0,y(p,o))},function(o){e||(e=!0,w(p,o))})}catch(o){if(e)return;e=!0,w(p,o)}}i.prototype.catch=function(s){return this.then(null,s)},i.prototype.then=function(s,p){var e=new this.constructor(m);return v(this,new E(s,p,e)),e},i.prototype.finally=r.a,i.all=function(s){return new i(function(p,e){if(!s||s.length===void 0)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(s);if(o.length===0)return p([]);var u=o.length;function h(k,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var T=_.then;if(typeof T=="function")return void T.call(_,function(O){h(k,O)},e)}o[k]=_,--u==0&&p(o)}catch(O){e(O)}}for(var x=0;x<o.length;x++)h(x,o[x])})},i.resolve=function(s){return s&&typeof s=="object"&&s.constructor===i?s:new i(function(p){p(s)})},i.reject=function(s){return new i(function(p,e){e(s)})},i.race=function(s){return new i(function(p,e){for(var o=0,u=s.length;o<u;o++)s[o].then(p,e)})},i._immediateFn=typeof n=="function"&&function(s){n(s)}||function(s){d(s,0)},i._unhandledRejectionFn=function(s){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",s)},g.a=i}).call(this,l(5).setImmediate)},function(a,g,l){g.a=function(n){var r=this.constructor;return this.then(function(d){return r.resolve(n()).then(function(){return d})},function(d){return r.resolve(n()).then(function(){return r.reject(d)})})}},function(a,g,l){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(c)}l(4);var r,d,m,i,v,y,w,b=l(8),E=(d=function(c){return new Promise(function(s,p){c=i(c),(c=v(c)).beforeSend&&c.beforeSend();var e=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");e.open(c.method,c.url),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(c.headers).forEach(function(u){var h=c.headers[u];e.setRequestHeader(u,h)});var o=c.ratio;e.upload.addEventListener("progress",function(u){var h=Math.round(u.loaded/u.total*100),x=Math.ceil(h*o/100);c.progress(Math.min(x,100))},!1),e.addEventListener("progress",function(u){var h=Math.round(u.loaded/u.total*100),x=Math.ceil(h*(100-o)/100)+o;c.progress(Math.min(x,100))},!1),e.onreadystatechange=function(){if(e.readyState===4){var u=e.response;try{u=JSON.parse(u)}catch{}var h=b.parseHeaders(e.getAllResponseHeaders()),x={body:u,code:e.status,headers:h};w(e.status)?s(x):p(x)}},e.send(c.data)})},m=function(c){return c.method="POST",d(c)},i=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(c.url&&typeof c.url!="string")throw new Error("Url must be a string");if(c.url=c.url||"",c.method&&typeof c.method!="string")throw new Error("`method` must be a string or null");if(c.method=c.method?c.method.toUpperCase():"GET",c.headers&&n(c.headers)!=="object")throw new Error("`headers` must be an object or null");if(c.headers=c.headers||{},c.type&&(typeof c.type!="string"||!Object.values(r).includes(c.type)))throw new Error("`type` must be taken from module's «contentType» library");if(c.progress&&typeof c.progress!="function")throw new Error("`progress` must be a function or null");if(c.progress=c.progress||function(s){},c.beforeSend=c.beforeSend||function(s){},c.ratio&&typeof c.ratio!="number")throw new Error("`ratio` must be a number");if(c.ratio<0||c.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(c.ratio=c.ratio||90,c.accept&&typeof c.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(c.accept=c.accept||"*/*",c.multiple&&typeof c.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(c.multiple=c.multiple||!1,c.fieldName&&typeof c.fieldName!="string")throw new Error("`fieldName` must be a string");return c.fieldName=c.fieldName||"files",c},v=function(c){switch(c.method){case"GET":var s=y(c.data,r.URLENCODED);delete c.data,c.url=/\?/.test(c.url)?c.url+"&"+s:c.url+"?"+s;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var p=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||r.JSON}(c);(b.isFormData(c.data)||b.isFormElement(c.data))&&(p=r.FORM),c.data=y(c.data,p),p!==E.contentType.FORM&&(c.headers["content-type"]=p)}return c},y=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case r.URLENCODED:return b.urlEncode(c);case r.JSON:return b.jsonEncode(c);case r.FORM:return b.formEncode(c);default:return c}},w=function(c){return c>=200&&c<300},{contentType:r={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:d,get:function(c){return c.method="GET",d(c)},post:m,transport:function(c){return c=i(c),b.selectFiles(c).then(function(s){for(var p=new FormData,e=0;e<s.length;e++)p.append(c.fieldName,s[e],s[e].name);b.isObject(c.data)&&Object.keys(c.data).forEach(function(u){var h=c.data[u];p.append(u,h)});var o=c.beforeSend;return c.beforeSend=function(){return o(s)},c.data=p,m(c)})},selectFiles:function(c){return delete(c=i(c)).beforeSend,b.selectFiles(c)}});a.exports=E},function(a,g,l){l.r(g);var n=l(1);window.Promise=window.Promise||n.a},function(a,g,l){(function(n){var r=n!==void 0&&n||typeof self<"u"&&self||window,d=Function.prototype.apply;function m(i,v){this._id=i,this._clearFn=v}g.setTimeout=function(){return new m(d.call(setTimeout,r,arguments),clearTimeout)},g.setInterval=function(){return new m(d.call(setInterval,r,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(i){i&&i.close()},m.prototype.unref=m.prototype.ref=function(){},m.prototype.close=function(){this._clearFn.call(r,this._id)},g.enroll=function(i,v){clearTimeout(i._idleTimeoutId),i._idleTimeout=v},g.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},g._unrefActive=g.active=function(i){clearTimeout(i._idleTimeoutId);var v=i._idleTimeout;v>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},v))},l(6),g.setImmediate=typeof self<"u"&&self.setImmediate||n!==void 0&&n.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self<"u"&&self.clearImmediate||n!==void 0&&n.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(a,g,l){(function(n,r){(function(d,m){if(!d.setImmediate){var i,v,y,w,b,E=1,c={},s=!1,p=d.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(d);e=e&&e.setTimeout?e:d,{}.toString.call(d.process)==="[object process]"?i=function(h){r.nextTick(function(){u(h)})}:function(){if(d.postMessage&&!d.importScripts){var h=!0,x=d.onmessage;return d.onmessage=function(){h=!1},d.postMessage("","*"),d.onmessage=x,h}}()?(w="setImmediate$"+Math.random()+"$",b=function(h){h.source===d&&typeof h.data=="string"&&h.data.indexOf(w)===0&&u(+h.data.slice(w.length))},d.addEventListener?d.addEventListener("message",b,!1):d.attachEvent("onmessage",b),i=function(h){d.postMessage(w+h,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(h){u(h.data)},i=function(h){y.port2.postMessage(h)}):p&&"onreadystatechange"in p.createElement("script")?(v=p.documentElement,i=function(h){var x=p.createElement("script");x.onreadystatechange=function(){u(h),x.onreadystatechange=null,v.removeChild(x),x=null},v.appendChild(x)}):i=function(h){setTimeout(u,0,h)},e.setImmediate=function(h){typeof h!="function"&&(h=new Function(""+h));for(var x=new Array(arguments.length-1),k=0;k<x.length;k++)x[k]=arguments[k+1];var _={callback:h,args:x};return c[E]=_,i(E),E++},e.clearImmediate=o}function o(h){delete c[h]}function u(h){if(s)setTimeout(u,0,h);else{var x=c[h];if(x){s=!0;try{(function(k){var _=k.callback,T=k.args;switch(T.length){case 0:_();break;case 1:_(T[0]);break;case 2:_(T[0],T[1]);break;case 3:_(T[0],T[1],T[2]);break;default:_.apply(m,T)}})(x)}finally{o(h),s=!1}}}}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,l(0),l(7))},function(a,g){var l,n,r=a.exports={};function d(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch{try{return l.call(null,e,0)}catch{return l.call(this,e,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:d}catch{l=d}try{n=typeof clearTimeout=="function"?clearTimeout:m}catch{n=m}})();var v,y=[],w=!1,b=-1;function E(){w&&v&&(w=!1,v.length?y=v.concat(y):b=-1,y.length&&c())}function c(){if(!w){var e=i(E);w=!0;for(var o=y.length;o;){for(v=y,y=[];++b<o;)v&&v[b].run();b=-1,o=y.length}v=null,w=!1,function(u){if(n===clearTimeout)return clearTimeout(u);if((n===m||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(u);try{n(u)}catch{try{return n.call(null,u)}catch{return n.call(this,u)}}}(e)}}function s(e,o){this.fun=e,this.array=o}function p(){}r.nextTick=function(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)o[u-1]=arguments[u];y.push(new s(e,o)),y.length!==1||w||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(a,g,l){function n(d,m){for(var i=0;i<m.length;i++){var v=m[i];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}var r=l(9);a.exports=function(){function d(){(function(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")})(this,d)}var m,i,v;return m=d,v=[{key:"urlEncode",value:function(y){return r(y)}},{key:"jsonEncode",value:function(y){return JSON.stringify(y)}},{key:"formEncode",value:function(y){if(this.isFormData(y))return y;if(this.isFormElement(y))return new FormData(y);if(this.isObject(y)){var w=new FormData;return Object.keys(y).forEach(function(b){var E=y[b];w.append(b,E)}),w}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(y){return Object.prototype.toString.call(y)==="[object Object]"}},{key:"isFormData",value:function(y){return y instanceof FormData}},{key:"isFormElement",value:function(y){return y instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(w,b){var E=document.createElement("INPUT");E.type="file",y.multiple&&E.setAttribute("multiple","multiple"),y.accept&&E.setAttribute("accept",y.accept),E.style.display="none",document.body.appendChild(E),E.addEventListener("change",function(c){var s=c.target.files;w(s),document.body.removeChild(E)},!1),E.click()})}},{key:"parseHeaders",value:function(y){var w=y.trim().split(/[\r\n]+/),b={};return w.forEach(function(E){var c=E.split(": "),s=c.shift(),p=c.join(": ");s&&(b[s]=p)}),b}}],(i=null)&&n(m.prototype,i),v&&n(m,v),d}()},function(a,g){var l=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},n=function(r,d,m,i){return d=d||null,m=m||"&",i=i||null,r?function(v){for(var y=new Array,w=0;w<v.length;w++)v[w]&&y.push(v[w]);return y}(Object.keys(r).map(function(v){var y,w,b=v;if(i&&(b=i+"["+b+"]"),typeof r[v]=="object"&&r[v]!==null)y=n(r[v],null,m,b);else{d&&(w=b,b=!isNaN(parseFloat(w))&&isFinite(w)?d+Number(b):b);var E=r[v];E=(E=(E=(E=E===!0?"1":E)===!1?"0":E)===0?"0":E)||"",y=l(b)+"="+l(E)}return y})).join(m).replace(/[!'()*]/g,""):""};a.exports=n}])})})(Z);var xe=Z.exports;const N=ve(xe);function q(f){return f&&typeof f.then=="function"}class _e{constructor({config:t,onUpload:a,onError:g}){this.config=t,this.onUpload=a,this.onError=g}uploadSelectedFile({onPreview:t}){const a=function(l){const n=new FileReader;n.readAsDataURL(l),n.onload=r=>{t(r.target.result)}};let g;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?g=N.selectFiles({accept:this.config.types}).then(l=>{a(l[0]);const n=this.config.uploader.uploadByFile(l[0]);return q(n)||console.warn("Custom uploader method uploadByFile should return a Promise"),n}):g=N.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:l=>{a(l[0])},fieldName:this.config.field}).then(l=>l.body),g.then(l=>{this.onUpload(l)}).catch(l=>{this.onError(l)})}uploadByUrl(t){let a;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(a=this.config.uploader.uploadByUrl(t),q(a)||console.warn("Custom uploader method uploadByUrl should return a Promise")):a=N.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:N.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(g=>g.body),a.then(g=>{this.onUpload(g)}).catch(g=>{this.onError(g)})}uploadByFile(t,{onPreview:a}){const g=new FileReader;g.readAsDataURL(t),g.onload=n=>{a(n.target.result)};let l;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")l=this.config.uploader.uploadByFile(t),q(l)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const n=new FormData;n.append(this.config.field,t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([r,d])=>{n.append(r,d)}),l=N.post({url:this.config.endpoints.byFile,data:n,type:N.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body)}l.then(n=>{this.onUpload(n)}).catch(n=>{this.onError(n)})}}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class B{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:W,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:be,title:"With border",toggle:!0},{name:"stretched",icon:we,title:"Stretch image",toggle:!0},{name:"withBackground",icon:ye,title:"With background",toggle:!0}]}constructor({data:t,config:a,api:g,readOnly:l,block:n}){this.api=g,this.readOnly=l,this.block=n,this.config={endpoints:a.endpoints||"",additionalRequestData:a.additionalRequestData||{},additionalRequestHeaders:a.additionalRequestHeaders||{},field:a.field||"image",types:a.types||"image/*",captionPlaceholder:this.api.i18n.t(a.captionPlaceholder||"Caption"),buttonContent:a.buttonContent||"",uploader:a.uploader||void 0,actions:a.actions||[]},this.uploader=new _e({config:this.config,onUpload:r=>this.onUpload(r),onError:r=>this.uploadingFailed(r)}),this.ui=new R({api:g,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:r=>{this.ui.showPreloader(r)}})},readOnly:l}),this._data={},this.data=t}render(){return this.ui.render(this.data)}validate(t){return t.file&&t.file.url}save(){const t=this.ui.nodes.caption;return this._data.caption=t.innerHTML,this.data}renderSettings(){return B.tunes.concat(this.config.actions).map(t=>({icon:t.icon,label:this.api.i18n.t(t.title),name:t.name,toggle:t.toggle,isActive:this.data[t.name],onActivate:()=>{if(typeof t.action=="function"){t.action(t.name);return}this.tuneToggled(t.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(t){switch(t.type){case"tag":{const a=t.detail.data;if(/^blob:/.test(a.src)){const g=await(await fetch(a.src)).blob();this.uploadFile(g);break}this.uploadUrl(a.src);break}case"pattern":{const a=t.detail.data;this.uploadUrl(a);break}case"file":{const a=t.detail.file;this.uploadFile(a);break}}}set data(t){this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),B.tunes.forEach(({name:a})=>{const g=typeof t[a]<"u"?t[a]===!0||t[a]==="true":!1;this.setTune(a,g)})}get data(){return this._data}set image(t){this._data.file=t||{},t&&t.url&&this.ui.fillImage(t.url)}onUpload(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}uploadingFailed(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(t){this.setTune(t,!this._data[t])}setTune(t,a){this._data[t]=a,this.ui.applyTune(t,a),t==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=a}).catch(g=>{console.error(g)})}uploadFile(t){this.uploader.uploadByFile(t,{onPreview:a=>{this.ui.showPreloader(a)}})}uploadUrl(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}}(function(){try{if(typeof document<"u"){var f=document.createElement("style");f.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")),document.head.appendChild(f)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const ke='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>';/**
 * Raw HTML Tool for CodeX Editor
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */let Ce=class Y{static get isReadOnlySupported(){return!0}static get displayInToolbox(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:ke,title:"Raw HTML"}}constructor({data:t,config:a,api:g,readOnly:l}){this.api=g,this.readOnly=l,this.placeholder=a.placeholder||Y.DEFAULT_PLACEHOLDER,this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:t.html||""},this.textarea=null,this.resizeDebounce=null}render(){const t=document.createElement("div"),a=100;return this.textarea=document.createElement("textarea"),t.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",()=>{this.onInput()}),t.appendChild(this.textarea),setTimeout(()=>{this.resize()},a),t}save(t){return{html:t.querySelector("textarea").value}}static get DEFAULT_PLACEHOLDER(){return"Enter HTML code"}static get sanitize(){return{html:!0}}onInput(){this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(()=>{this.resize()},200)}resize(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}};(function(){try{if(typeof document<"u"){var f=document.createElement("style");f.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(f)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const Ee='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */class Se{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:t,config:a,api:g}){this.api=g,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=t}drawView(){let t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t}render(){return this._element}save(t){return{}}static get toolbox(){return{icon:Ee,title:"Delimiter"}}}var K={exports:{}};(function(f,t){(function(a,g){f.exports=g()})(window,function(){return function(a){var g={};function l(n){if(g[n])return g[n].exports;var r=g[n]={i:n,l:!1,exports:{}};return a[n].call(r.exports,r,r.exports,l),r.l=!0,r.exports}return l.m=a,l.c=g,l.d=function(n,r,d){l.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:d})},l.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.t=function(n,r){if(1&r&&(n=l(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var m in n)l.d(d,m,(function(i){return n[i]}).bind(null,m));return d},l.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(r,"a",r),r},l.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},l.p="/",l(l.s=6)}([function(a,g,l){a.exports=function(n){var r={};function d(m){if(r[m])return r[m].exports;var i=r[m]={i:m,l:!1,exports:{}};return n[m].call(i.exports,i,i.exports,d),i.l=!0,i.exports}return d.m=n,d.c=r,d.d=function(m,i,v){d.o(m,i)||Object.defineProperty(m,i,{enumerable:!0,get:v})},d.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},d.t=function(m,i){if(1&i&&(m=d(m)),8&i||4&i&&typeof m=="object"&&m&&m.__esModule)return m;var v=Object.create(null);if(d.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:m}),2&i&&typeof m!="string")for(var y in m)d.d(v,y,(function(w){return m[w]}).bind(null,y));return v},d.n=function(m){var i=m&&m.__esModule?function(){return m.default}:function(){return m};return d.d(i,"a",i),i},d.o=function(m,i){return Object.prototype.hasOwnProperty.call(m,i)},d.p="",d(d.s=3)}([function(n,r){var d;d=function(){return this}();try{d=d||new Function("return this")()}catch{typeof window=="object"&&(d=window)}n.exports=d},function(n,r,d){(function(m){var i=d(2),v=setTimeout;function y(){}function w(o){if(!(this instanceof w))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],e(o,this)}function b(o,u){for(;o._state===3;)o=o._value;o._state!==0?(o._handled=!0,w._immediateFn(function(){var h=o._state===1?u.onFulfilled:u.onRejected;if(h!==null){var x;try{x=h(o._value)}catch(k){return void c(u.promise,k)}E(u.promise,x)}else(o._state===1?E:c)(u.promise,o._value)})):o._deferreds.push(u)}function E(o,u){try{if(u===o)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(u instanceof w)return o._state=3,o._value=u,void s(o);if(typeof h=="function")return void e((x=h,k=u,function(){x.apply(k,arguments)}),o)}o._state=1,o._value=u,s(o)}catch(_){c(o,_)}var x,k}function c(o,u){o._state=2,o._value=u,s(o)}function s(o){o._state===2&&o._deferreds.length===0&&w._immediateFn(function(){o._handled||w._unhandledRejectionFn(o._value)});for(var u=0,h=o._deferreds.length;u<h;u++)b(o,o._deferreds[u]);o._deferreds=null}function p(o,u,h){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof u=="function"?u:null,this.promise=h}function e(o,u){var h=!1;try{o(function(x){h||(h=!0,E(u,x))},function(x){h||(h=!0,c(u,x))})}catch(x){if(h)return;h=!0,c(u,x)}}w.prototype.catch=function(o){return this.then(null,o)},w.prototype.then=function(o,u){var h=new this.constructor(y);return b(this,new p(o,u,h)),h},w.prototype.finally=i.a,w.all=function(o){return new w(function(u,h){if(!o||o.length===void 0)throw new TypeError("Promise.all accepts an array");var x=Array.prototype.slice.call(o);if(x.length===0)return u([]);var k=x.length;function _(O,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var S=C.then;if(typeof S=="function")return void S.call(C,function(j){_(O,j)},h)}x[O]=C,--k==0&&u(x)}catch(j){h(j)}}for(var T=0;T<x.length;T++)_(T,x[T])})},w.resolve=function(o){return o&&typeof o=="object"&&o.constructor===w?o:new w(function(u){u(o)})},w.reject=function(o){return new w(function(u,h){h(o)})},w.race=function(o){return new w(function(u,h){for(var x=0,k=o.length;x<k;x++)o[x].then(u,h)})},w._immediateFn=typeof m=="function"&&function(o){m(o)}||function(o){v(o,0)},w._unhandledRejectionFn=function(o){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",o)},r.a=w}).call(this,d(5).setImmediate)},function(n,r,d){r.a=function(m){var i=this.constructor;return this.then(function(v){return i.resolve(m()).then(function(){return v})},function(v){return i.resolve(m()).then(function(){return i.reject(v)})})}},function(n,r,d){function m(e){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(e)}d(4);var i,v,y,w,b,E,c,s=d(8),p=(v=function(e){return new Promise(function(o,u){e=w(e),(e=b(e)).beforeSend&&e.beforeSend();var h=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");h.open(e.method,e.url),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach(function(k){var _=e.headers[k];h.setRequestHeader(k,_)});var x=e.ratio;h.upload.addEventListener("progress",function(k){var _=Math.round(k.loaded/k.total*100),T=Math.ceil(_*x/100);e.progress(Math.min(T,100))},!1),h.addEventListener("progress",function(k){var _=Math.round(k.loaded/k.total*100),T=Math.ceil(_*(100-x)/100)+x;e.progress(Math.min(T,100))},!1),h.onreadystatechange=function(){if(h.readyState===4){var k=h.response;try{k=JSON.parse(k)}catch{}var _=s.parseHeaders(h.getAllResponseHeaders()),T={body:k,code:h.status,headers:_};c(h.status)?o(T):u(T)}},h.send(e.data)})},y=function(e){return e.method="POST",v(e)},w=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(e.url&&typeof e.url!="string")throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&typeof e.method!="string")throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&m(e.headers)!=="object")throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&(typeof e.type!="string"||!Object.values(i).includes(e.type)))throw new Error("`type` must be taken from module's «contentType» library");if(e.progress&&typeof e.progress!="function")throw new Error("`progress` must be a function or null");if(e.progress=e.progress||function(o){},e.beforeSend=e.beforeSend||function(o){},e.ratio&&typeof e.ratio!="number")throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&typeof e.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&typeof e.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&typeof e.fieldName!="string")throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},b=function(e){switch(e.method){case"GET":var o=E(e.data,i.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+o:e.url+"?"+o;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var u=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||i.JSON}(e);(s.isFormData(e.data)||s.isFormElement(e.data))&&(u=i.FORM),e.data=E(e.data,u),u!==p.contentType.FORM&&(e.headers["content-type"]=u)}return e},E=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return s.urlEncode(e);case i.JSON:return s.jsonEncode(e);case i.FORM:return s.formEncode(e);default:return e}},c=function(e){return e>=200&&e<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:v,get:function(e){return e.method="GET",v(e)},post:y,transport:function(e){return e=w(e),s.selectFiles(e).then(function(o){for(var u=new FormData,h=0;h<o.length;h++)u.append(e.fieldName,o[h],o[h].name);s.isObject(e.data)&&Object.keys(e.data).forEach(function(k){var _=e.data[k];u.append(k,_)});var x=e.beforeSend;return e.beforeSend=function(){return x(o)},e.data=u,y(e)})},selectFiles:function(e){return delete(e=w(e)).beforeSend,s.selectFiles(e)}});n.exports=p},function(n,r,d){d.r(r);var m=d(1);window.Promise=window.Promise||m.a},function(n,r,d){(function(m){var i=m!==void 0&&m||typeof self<"u"&&self||window,v=Function.prototype.apply;function y(w,b){this._id=w,this._clearFn=b}r.setTimeout=function(){return new y(v.call(setTimeout,i,arguments),clearTimeout)},r.setInterval=function(){return new y(v.call(setInterval,i,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(w){w&&w.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(i,this._id)},r.enroll=function(w,b){clearTimeout(w._idleTimeoutId),w._idleTimeout=b},r.unenroll=function(w){clearTimeout(w._idleTimeoutId),w._idleTimeout=-1},r._unrefActive=r.active=function(w){clearTimeout(w._idleTimeoutId);var b=w._idleTimeout;b>=0&&(w._idleTimeoutId=setTimeout(function(){w._onTimeout&&w._onTimeout()},b))},d(6),r.setImmediate=typeof self<"u"&&self.setImmediate||m!==void 0&&m.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||m!==void 0&&m.clearImmediate||this&&this.clearImmediate}).call(this,d(0))},function(n,r,d){(function(m,i){(function(v,y){if(!v.setImmediate){var w,b,E,c,s,p=1,e={},o=!1,u=v.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(v);h=h&&h.setTimeout?h:v,{}.toString.call(v.process)==="[object process]"?w=function(_){i.nextTick(function(){k(_)})}:function(){if(v.postMessage&&!v.importScripts){var _=!0,T=v.onmessage;return v.onmessage=function(){_=!1},v.postMessage("","*"),v.onmessage=T,_}}()?(c="setImmediate$"+Math.random()+"$",s=function(_){_.source===v&&typeof _.data=="string"&&_.data.indexOf(c)===0&&k(+_.data.slice(c.length))},v.addEventListener?v.addEventListener("message",s,!1):v.attachEvent("onmessage",s),w=function(_){v.postMessage(c+_,"*")}):v.MessageChannel?((E=new MessageChannel).port1.onmessage=function(_){k(_.data)},w=function(_){E.port2.postMessage(_)}):u&&"onreadystatechange"in u.createElement("script")?(b=u.documentElement,w=function(_){var T=u.createElement("script");T.onreadystatechange=function(){k(_),T.onreadystatechange=null,b.removeChild(T),T=null},b.appendChild(T)}):w=function(_){setTimeout(k,0,_)},h.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var T=new Array(arguments.length-1),O=0;O<T.length;O++)T[O]=arguments[O+1];var C={callback:_,args:T};return e[p]=C,w(p),p++},h.clearImmediate=x}function x(_){delete e[_]}function k(_){if(o)setTimeout(k,0,_);else{var T=e[_];if(T){o=!0;try{(function(O){var C=O.callback,S=O.args;switch(S.length){case 0:C();break;case 1:C(S[0]);break;case 2:C(S[0],S[1]);break;case 3:C(S[0],S[1],S[2]);break;default:C.apply(void 0,S)}})(T)}finally{x(_),o=!1}}}}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,d(0),d(7))},function(n,r){var d,m,i=n.exports={};function v(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function w(h){if(d===setTimeout)return setTimeout(h,0);if((d===v||!d)&&setTimeout)return d=setTimeout,setTimeout(h,0);try{return d(h,0)}catch{try{return d.call(null,h,0)}catch{return d.call(this,h,0)}}}(function(){try{d=typeof setTimeout=="function"?setTimeout:v}catch{d=v}try{m=typeof clearTimeout=="function"?clearTimeout:y}catch{m=y}})();var b,E=[],c=!1,s=-1;function p(){c&&b&&(c=!1,b.length?E=b.concat(E):s=-1,E.length&&e())}function e(){if(!c){var h=w(p);c=!0;for(var x=E.length;x;){for(b=E,E=[];++s<x;)b&&b[s].run();s=-1,x=E.length}b=null,c=!1,function(k){if(m===clearTimeout)return clearTimeout(k);if((m===y||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(k);try{m(k)}catch{try{return m.call(null,k)}catch{return m.call(this,k)}}}(h)}}function o(h,x){this.fun=h,this.array=x}function u(){}i.nextTick=function(h){var x=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)x[k-1]=arguments[k];E.push(new o(h,x)),E.length!==1||c||w(e)},o.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=u,i.addListener=u,i.once=u,i.off=u,i.removeListener=u,i.removeAllListeners=u,i.emit=u,i.prependListener=u,i.prependOnceListener=u,i.listeners=function(h){return[]},i.binding=function(h){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(h){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,r,d){function m(v,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}var i=d(9);n.exports=function(){function v(){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,v)}var y,w;return y=v,(w=[{key:"urlEncode",value:function(b){return i(b)}},{key:"jsonEncode",value:function(b){return JSON.stringify(b)}},{key:"formEncode",value:function(b){if(this.isFormData(b))return b;if(this.isFormElement(b))return new FormData(b);if(this.isObject(b)){var E=new FormData;return Object.keys(b).forEach(function(c){var s=b[c];E.append(c,s)}),E}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(b){return Object.prototype.toString.call(b)==="[object Object]"}},{key:"isFormData",value:function(b){return b instanceof FormData}},{key:"isFormElement",value:function(b){return b instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E,c){var s=document.createElement("INPUT");s.type="file",b.multiple&&s.setAttribute("multiple","multiple"),b.accept&&s.setAttribute("accept",b.accept),s.style.display="none",document.body.appendChild(s),s.addEventListener("change",function(p){var e=p.target.files;E(e),document.body.removeChild(s)},!1),s.click()})}},{key:"parseHeaders",value:function(b){var E=b.trim().split(/[\r\n]+/),c={};return E.forEach(function(s){var p=s.split(": "),e=p.shift(),o=p.join(": ");e&&(c[e]=o)}),c}}])&&m(y,w),v}()},function(n,r){var d=function(i){return encodeURIComponent(i).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},m=function(i,v,y,w){return v=v||null,y=y||"&",w=w||null,i?function(b){for(var E=new Array,c=0;c<b.length;c++)b[c]&&E.push(b[c]);return E}(Object.keys(i).map(function(b){var E,c,s=b;if(w&&(s=w+"["+s+"]"),typeof i[b]=="object"&&i[b]!==null)E=m(i[b],null,y,s);else{v&&(c=s,s=!isNaN(parseFloat(c))&&isFinite(c)?v+Number(s):s);var p=i[b];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",E=d(s)+"="+d(p)}return E})).join(y).replace(/[!'()*]/g,""):""};n.exports=m}])},function(a,g,l){var n=l(2);typeof n=="string"&&(n=[[a.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};l(4)(n,r),n.locals&&(a.exports=n.locals)},function(a,g,l){(a.exports=l(3)(!1)).push([a.i,`.cdx-attaches {
  --color-line: #EFF0F1;
  --color-bg: #fff;
  --color-bg-secondary: #F8F8F8;
  --color-bg-secondary--hover: #f2f2f2;
  --color-text-secondary: #707684;
}

  .cdx-attaches--with-file {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border: 1px solid var(--color-line);
    border-radius: 7px;
    background: var(--color-bg);
  }

  .cdx-attaches--with-file .cdx-attaches__file-info {
      display: grid;
      grid-gap: 4px;
      max-width: calc(100% - 80px);
      margin: auto 0;
      flex-grow: 2;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button {
      display: flex;
      align-items: center;
      background: var(--color-bg-secondary);
      padding: 6px;
      border-radius: 6px;
      margin: auto 0 auto auto;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button:hover {
        background: var(--color-bg-secondary--hover);
      }

  .cdx-attaches--with-file .cdx-attaches__download-button svg {
        width: 20px;
        height: 20px;
        fill: none;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon {
      position: relative;
    }

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
        background-color: #333;

        width: 27px;
        height: 30px;
        margin-right: 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

  @supports(-webkit-mask-box-image: url('')){

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
          border-radius: 0;
          -webkit-mask-box-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A") 48% 41% 37.9% 53.3%
      };
        }

  .cdx-attaches--with-file .cdx-attaches__file-icon-label {
        position: absolute;
        left: 3px;
        top: 11px;
        background: inherit;
        text-transform: uppercase;
        line-height: 1em;
        color: #fff;
        padding: 1px 2px;
        border-radius: 3px;
        font-size: 10px;
        font-weight: bold;
        /* box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.22); */
        font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
        letter-spacing: 0.02em;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon svg {
        width: 20px;
        height: 20px;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon path {
        stroke: #fff;
      }

  .cdx-attaches--with-file .cdx-attaches__size {
      color: var(--color-text-secondary);
      font-size: 12px;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__size::after {
        content: attr(data-size);
        margin-left: 0.2em;
      }

  .cdx-attaches--with-file .cdx-attaches__title {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      outline: none;
      max-width: 90%;
      font-size: 14px;
      font-weight: 500;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__title:empty::before {
      content: attr(data-placeholder);
      color: #7b7e89;
    }

  .cdx-attaches--loading .cdx-attaches__title,
    .cdx-attaches--loading .cdx-attaches__file-icon,
    .cdx-attaches--loading .cdx-attaches__size,
    .cdx-attaches--loading .cdx-attaches__download-button,
    .cdx-attaches--loading .cdx-attaches__button {
      opacity: 0;
      font-size: 0;
    }

  .cdx-attaches__button {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    border-radius: 7px;
    font-weight: 500;
  }

  .cdx-attaches__button svg {
      margin-top: 0;
    }
`,""])},function(a,g){a.exports=function(l){var n=[];return n.toString=function(){return this.map(function(r){var d=function(m,i){var v=m[1]||"",y=m[3];if(!y)return v;if(i&&typeof btoa=="function"){var w=(E=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(E))))+" */"),b=y.sources.map(function(c){return"/*# sourceURL="+y.sourceRoot+c+" */"});return[v].concat(b).concat([w]).join(`
`)}var E;return[v].join(`
`)}(r,l);return r[2]?"@media "+r[2]+"{"+d+"}":d}).join("")},n.i=function(r,d){typeof r=="string"&&(r=[[null,r,""]]);for(var m={},i=0;i<this.length;i++){var v=this[i][0];typeof v=="number"&&(m[v]=!0)}for(i=0;i<r.length;i++){var y=r[i];typeof y[0]=="number"&&m[y[0]]||(d&&!y[2]?y[2]=d:d&&(y[2]="("+y[2]+") and ("+d+")"),n.push(y))}},n}},function(a,g,l){var n,r,d={},m=(n=function(){return window&&document&&document.all&&!window.atob},function(){return r===void 0&&(r=n.apply(this,arguments)),r}),i=function(C){return document.querySelector(C)},v=function(C){var S={};return function(j){if(typeof j=="function")return j();if(S[j]===void 0){var L=i.call(this,j);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}S[j]=L}return S[j]}}(),y=null,w=0,b=[],E=l(5);function c(C,S){for(var j=0;j<C.length;j++){var L=C[j],M=d[L.id];if(M){M.refs++;for(var F=0;F<M.parts.length;F++)M.parts[F](L.parts[F]);for(;F<L.parts.length;F++)M.parts.push(h(L.parts[F],S))}else{var $=[];for(F=0;F<L.parts.length;F++)$.push(h(L.parts[F],S));d[L.id]={id:L.id,refs:1,parts:$}}}}function s(C,S){for(var j=[],L={},M=0;M<C.length;M++){var F=C[M],$=S.base?F[0]+S.base:F[0],U={css:F[1],media:F[2],sourceMap:F[3]};L[$]?L[$].parts.push(U):j.push(L[$]={id:$,parts:[U]})}return j}function p(C,S){var j=v(C.insertInto);if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=b[b.length-1];if(C.insertAt==="top")L?L.nextSibling?j.insertBefore(S,L.nextSibling):j.appendChild(S):j.insertBefore(S,j.firstChild),b.push(S);else if(C.insertAt==="bottom")j.appendChild(S);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=v(C.insertInto+" "+C.insertAt.before);j.insertBefore(S,M)}}function e(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var S=b.indexOf(C);S>=0&&b.splice(S,1)}function o(C){var S=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),u(S,C.attrs),p(C,S),S}function u(C,S){Object.keys(S).forEach(function(j){C.setAttribute(j,S[j])})}function h(C,S){var j,L,M,F;if(S.transform&&C.css){if(!(F=S.transform(C.css)))return function(){};C.css=F}if(S.singleton){var $=w++;j=y||(y=o(S)),L=_.bind(null,j,$,!1),M=_.bind(null,j,$,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(j=function(U){var P=document.createElement("link");return U.attrs.type===void 0&&(U.attrs.type="text/css"),U.attrs.rel="stylesheet",u(P,U.attrs),p(U,P),P}(S),L=O.bind(null,j,S),M=function(){e(j),j.href&&URL.revokeObjectURL(j.href)}):(j=o(S),L=T.bind(null,j),M=function(){e(j)});return L(C),function(U){if(U){if(U.css===C.css&&U.media===C.media&&U.sourceMap===C.sourceMap)return;L(C=U)}else M()}}a.exports=function(C,S){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(S=S||{}).attrs=typeof S.attrs=="object"?S.attrs:{},S.singleton||typeof S.singleton=="boolean"||(S.singleton=m()),S.insertInto||(S.insertInto="head"),S.insertAt||(S.insertAt="bottom");var j=s(C,S);return c(j,S),function(L){for(var M=[],F=0;F<j.length;F++){var $=j[F];(U=d[$.id]).refs--,M.push(U)}for(L&&c(s(L,S),S),F=0;F<M.length;F++){var U;if((U=M[F]).refs===0){for(var P=0;P<U.parts.length;P++)U.parts[P]();delete d[U.id]}}}};var x,k=(x=[],function(C,S){return x[C]=S,x.filter(Boolean).join(`
`)});function _(C,S,j,L){var M=j?"":L.css;if(C.styleSheet)C.styleSheet.cssText=k(S,M);else{var F=document.createTextNode(M),$=C.childNodes;$[S]&&C.removeChild($[S]),$.length?C.insertBefore(F,$[S]):C.appendChild(F)}}function T(C,S){var j=S.css,L=S.media;if(L&&C.setAttribute("media",L),C.styleSheet)C.styleSheet.cssText=j;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(j))}}function O(C,S,j){var L=j.css,M=j.sourceMap,F=S.convertToAbsoluteUrls===void 0&&M;(S.convertToAbsoluteUrls||F)&&(L=E(L)),M&&(L+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var $=new Blob([L],{type:"text/css"}),U=C.href;C.href=URL.createObjectURL($),U&&URL.revokeObjectURL(U)}},function(a,g){a.exports=function(l){var n=typeof window<"u"&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var r=n.protocol+"//"+n.host,d=r+n.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(m,i){var v,y=i.trim().replace(/^"(.*)"$/,function(w,b){return b}).replace(/^'(.*)'$/,function(w,b){return b});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?m:(v=y.indexOf("//")===0?y:y.indexOf("/")===0?r+y:d+y.replace(/^\.\//,""),"url("+JSON.stringify(v)+")")})}},function(a,g,l){l.r(g),l.d(g,"default",function(){return c}),l(1);var n=l(0),r=l.n(n);function d(s,p){for(var e=0;e<p.length;e++){var o=p[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}var m=function(){function s(o){var u=o.config,h=o.onUpload,x=o.onError;(function(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")})(this,s),this.config=u,this.onUpload=h,this.onError=x}var p,e;return p=s,(e=[{key:"uploadSelectedFile",value:function(o){var u=this,h=o.onPreview;(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?r.a.selectFiles({accept:this.config.types}).then(function(x){h();var k,_=u.config.uploader.uploadByFile(x[0]);return(k=_)&&typeof k.then=="function"||console.warn("Custom uploader method uploadByFile should return a Promise"),_}):r.a.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:function(){return h()},fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then(function(x){return x.body})).then(function(x){u.onUpload(x)}).catch(function(x){var k=x.body,_=k&&k.message?k.message:u.config.errorMessage;u.onError(_)})}}])&&d(p.prototype,e),s}();function i(s){return function(p){if(Array.isArray(p))return v(p)}(s)||function(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}(s)||function(p,e){if(p){if(typeof p=="string")return v(p,e);var o=Object.prototype.toString.call(p).slice(8,-1);if(o==="Object"&&p.constructor&&(o=p.constructor.name),o==="Map"||o==="Set")return Array.from(p);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return v(p,e)}}(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(s,p){(p==null||p>s.length)&&(p=s.length);for(var e=0,o=new Array(p);e<p;e++)o[e]=s[e];return o}function y(s){var p,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=document.createElement(s);Array.isArray(e)?(p=u.classList).add.apply(p,i(e)):e&&u.classList.add(e);for(var h in o)u[h]=o[h];return u}function w(s){return Object.keys(s).length===0}const b='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>';function E(s,p){for(var e=0;e<p.length;e++){var o=p[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}var c=function(){function s(u){var h=this,x=u.data,k=u.config,_=u.api,T=u.readOnly;(function(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=_,this.readOnly=T,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:k.endpoint||"",field:k.field||"file",types:k.types||"*",buttonText:k.buttonText||"Select file to upload",errorMessage:k.errorMessage||"File upload failed",uploader:k.uploader||void 0,additionalRequestHeaders:k.additionalRequestHeaders||{}},x===void 0||w(x)||(this.data=x),this.uploader=new m({config:this.config,onUpload:function(O){return h.onUpload(O)},onError:function(O){return h.uploadingFailed(O)}}),this.enableFileUpload=this.enableFileUpload.bind(this)}var p,e,o;return p=s,o=[{key:"toolbox",get:function(){return{icon:b,title:"Attachment"}}},{key:"isReadOnlySupported",get:function(){return!0}}],(e=[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}},{key:"EXTENSIONS",get:function(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}},{key:"validate",value:function(u){return!w(u.file)}},{key:"save",value:function(u){if(this.pluginHasData()){var h=u.querySelector(".".concat(this.CSS.title));h&&Object.assign(this.data,{title:h.innerHTML})}return this.data}},{key:"render",value:function(){var u=y("div",this.CSS.baseClass);return this.nodes.wrapper=y("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),u.appendChild(this.nodes.wrapper),u}},{key:"prepareUploadButton",value:function(){this.nodes.button=y("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML="".concat(b," ").concat(this.config.buttonText),this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}},{key:"appendCallback",value:function(){this.nodes.button.click()}},{key:"pluginHasData",value:function(){return this.data.title!==""||Object.values(this.data.file).some(function(u){return u!==void 0})}},{key:"enableFileUpload",value:function(){var u=this;this.uploader.uploadSelectedFile({onPreview:function(){u.nodes.wrapper.classList.add(u.CSS.wrapperLoading,u.CSS.loader)}})}},{key:"onUpload",value:function(u){var h,x,k,_=u;try{_.success&&_.file!==void 0&&!w(_.file)?(this.data={file:_.file,title:_.file.title||""},this.nodes.button.remove(),this.showFileData(),h=this.nodes.title,x=document.createRange(),k=window.getSelection(),x.selectNodeContents(h),x.collapse(!1),k.removeAllRanges(),k.addRange(x),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(T){console.error("Attaches tool error:",T),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}},{key:"appendFileIcon",value:function(u){var h,x=u.extension||((h=u.name)===void 0?"":h.split(".").pop()),k=this.EXTENSIONS[x],_=y("div",this.CSS.fileIcon),T=y("div",this.CSS.fileIconBackground);if(k&&(T.style.backgroundColor=k),_.appendChild(T),x){var O=x;x.length>4&&(O=x.substring(0,4)+"…");var C=y("div",this.CSS.fileIconLabel,{textContent:O,title:x});k&&(C.style.backgroundColor=k),_.appendChild(C)}else T.innerHTML=b;this.nodes.wrapper.appendChild(_)}},{key:"removeLoader",value:function(){var u=this;setTimeout(function(){return u.nodes.wrapper.classList.remove(u.CSS.wrapperLoading,u.CSS.loader)},500)}},{key:"showFileData",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);var u=this.data,h=u.file,x=u.title;this.appendFileIcon(h);var k=y("div",this.CSS.fileInfo);if(this.nodes.title=y("div",this.CSS.title,{contentEditable:this.readOnly===!1}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=x||"",k.appendChild(this.nodes.title),h.size){var _,T,O=y("div",this.CSS.size);Math.log10(+h.size)>=6?(_="MiB",T=h.size/Math.pow(2,20)):(_="KiB",T=h.size/Math.pow(2,10)),O.textContent=T.toFixed(1),O.setAttribute("data-size",_),k.appendChild(O)}if(this.nodes.wrapper.appendChild(k),h.url!==void 0){var C=y("a",this.CSS.downloadButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',href:h.url,target:"_blank",rel:"nofollow noindex noreferrer"});this.nodes.wrapper.appendChild(C)}}},{key:"uploadingFailed",value:function(u){this.api.notifier.show({message:u,style:"error"}),this.removeLoader()}},{key:"data",get:function(){return this._data},set:function(u){var h=u.file,x=u.title;this._data={file:h,title:x}}}])&&E(p.prototype,e),o&&E(p,o),s}()}]).default})})(K);var Te=K.exports;const je=ie(Te),Le={name:"EditorJS",props:["config"],data(){return{editor:null,main:null,language:{code:"en",longCode:"en-US",name:"English"}}},created:function(){this.removeEditor(),this.language=this.$parent.$parent.language,this.eventBus.on("runEditor",()=>{var f;this.editor||this.runEditor((f=this.config)==null?void 0:f.setup)}),this.eventBus.on("removeEditor",()=>{this.removeEditor()})},computed:{user(){return this.$store.getters.getUserProfile},sidebarVisible(){return this.$parent.$parent.sidebar?"sidebar-visible":"sidebar-hidden"}},watch:{},mounted:function(){},methods:{toggleSidebar(){this.$parent.$parent.toggleSidebar()},removeEditor(){this.editor&&this.editor.destroy&&typeof this.editor.destroy=="function"&&this.editor.destroy()},runEditor(f){var n,r,d,m;console.debug("runEditor2 INCOMING");const t=this;let a={header:{class:ee,inlineToolbar:!0},paragraph:{class:te,inlineToolbar:!0},nestedlist:{class:ne,inlineToolbar:!0},table:{class:re,inlineToolbar:!0},image:{class:B,inlineToolbar:!0},embed:{class:oe,config:{services:{youtube:!0,vimeo:!0,facebook:!0}},inlineToolbar:!0},delimiter:Se,attaches:{class:je}};((m=(d=(r=(n=this.$store)==null?void 0:n.state)==null?void 0:r.user)==null?void 0:d.profile)==null?void 0:m.type)==="admin"&&(a.raw={class:Ce});let g;f?g=this.$helpers.updateObjectDeep(a,f):g=a,this.editor=new Q({holder:"editorjs",minHeight:30,tools:g});let l=this.editorHTMLtoObj(this.ensureHtmlValue(this.config.data));this.editor.isReady.then(()=>{t.$parent.$parent.editing=!0,t.$parent.$parent.newLanguage=t.$parent.$parent.language,t.editor.render(l)})},ensureHtmlValue(f){var a;let t="<p></p>";return f=(a=f==null?void 0:f.toString())==null?void 0:a.trim(),f&&(t=f,/<\/?[a-z][\s\S]*>/i.test(t)===!1)&&(t=`<p> ${t} </p>`),t},saveEditor(){const f=this;let t="";this.editor?this.editor.save().then(a=>{a.blocks.forEach(g=>{t+=this.editorBlockToTag(g)}),f.$parent.prepareToSave(t)}).catch(a=>{console.error("Saving failed: ",a)}):f.$parent.prepareToSave(t)},editorHTMLtoObj(f){let t={time:new Date().getTime(),blocks:[]};return f&&new DOMParser().parseFromString(f,"text/html").querySelector("body").childNodes.forEach(l=>{if(l.nodeName!=="#text"){const n=this.editorTagToBlock(l.tagName,l);n&&n.type&&t.blocks.push(n)}}),t},editorTagToBlock(f,t){var g,l,n,r;let a={type:null,data:null};switch(f=f.toString().toLowerCase(),f){case"p":a.type="paragraph",a.data={text:this.$helpers.decodeHtml(t.innerHTML)};break;case"img":a.type="image",a.data={file:{url:t.getAttribute("src")||null},caption:t.getAttribute("title")||null,withBorder:!!t.getAttribute("data-ejs-border"),withBackground:!!t.getAttribute("data-ejs-bg"),stretched:!!t.getAttribute("data-ejs-stretched")};break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":a.type="header",a.data={text:this.$helpers.decodeHtml(t.innerHTML),level:parseInt(f.trim().substring(1,2))||1};break;case"iframe":a.type="embed";let d="youtube";const m=t.getAttribute("src").match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im);m&&(d=m[1].split(".")[0]),a.data={service:d,source:t.getAttribute("src"),embed:t.getAttribute("src"),width:parseInt(t.getAttribute("width")),height:parseInt(t.getAttribute("height")),caption:t.getAttribute("data-ejs-caption")|null};break;case"hr":a.type="delimiter";break;case"ul":case"ol":a.type="nestedlist",a.data={style:f==="ol"?"ordered":"unordered",items:this.getListItem(t)};break;case"table":a.type="table",a.data={withHeadings:!!t.querySelector("th"),content:this.tableToJson(t)};break;case"div":if(t.classList,t.hasAttribute("data-ejs-type")){const i=t.getAttribute("data-ejs-type");i==="raw"&&((r=(n=(l=(g=this.$store)==null?void 0:g.state)==null?void 0:l.user)==null?void 0:n.profile)==null?void 0:r.type)==="admin"?(a.type="raw",a.data={html:t.innerHTML}):i==="attaches"&&(a.type="attaches",a.data=this.attachToJson(t))}break;default:console.error("Unknown block type",a.type);break}return a},getCodeFromServiceUrl(f,t){let a=null,g;const l=new RegExp(f.regex,"gi");for(;(g=l.exec(t))!==null;)g.index===l.lastIndex&&l.lastIndex++,g&&g[1]&&(a=g[1]);return a},getListItem(f,t=1){let a={content:null,items:[]};const g=f.childNodes;return g&&g.forEach(l=>{if(l.nodeName.toString().toLowerCase()==="li"){const r=l.childNodes;let d={content:null,items:[]};r&&r.forEach(m=>{var v,y;const i=(v=m.nodeName)==null?void 0:v.toString().toLowerCase();if(i==="ol"||i==="ul"){const w=this.getListItem(m,t+1);d.items=w.items}i==="#text"&&((y=m.nodeValue)==null?void 0:y.trim())!==""&&(d.content=m.nodeValue.trim())}),a.items.push(d)}}),t>1?a:a.items},tableToJson(f){let t=[],a=this;const g=f.childNodes;return g&&g.forEach(l=>{const n=a.tableToJsonGetRow(l);n&&n.length>0&&(t=[...t,...n])}),t},tableToJsonGetRow(f){let t=this,a=[];if(f.nodeName.toString().toLowerCase()==="tr"){const l=f.childNodes;if(l){let n=[];l.forEach(r=>{const d=r.nodeName.toLowerCase();(d==="td"||d==="th")&&r.childNodes.forEach(i=>{var y;((y=i==null?void 0:i.nodeName)==null?void 0:y.toLowerCase())==="#text"&&n.push(this.$helpers.decodeHtml(i.nodeValue))})}),n.length>0&&a.push(n)}}else{const l=f.childNodes;l&&l.forEach(n=>{const r=t.tableToJsonGetRow(n);r!==null&&r.length>0&&(a=[...a,...r])})}return a},attachToJson(f){var g;let t={file:{url:f.querySelector("a").getAttribute("href"),size:parseInt((g=f.querySelector("a [data-ejs-attaches-type=size]"))==null?void 0:g.textContent)},title:f.querySelector("a [data-ejs-attaches-type=title]").textContent};const a=f.querySelectorAll("a .additional-properties [data-ejs-attaches-type]");return a&&a.forEach(l=>{const n=l.getAttribute("data-ejs-attaches-type"),r=l.textContent;t.file[n.trim()]=r.trim()}),t},editorBlockToTag(f){var a,g,l,n,r;let t="";switch(f.type){case"paragraph":t+=`<p>${f.data.text}</p>`;break;case"image":let d=[],m=[];f.withBorder&&(d.push("ejs-border"),m.push("data-ejs-border")),f.withBackground&&(d.push("data-ejs-bg"),m.push("data-ejs-bg")),f.stretched&&(d.push("ejs-stretched"),m.push("data-ejs-stretched")),t+=`<img class="img-fluid ${d.join(" ")}" src="${f.data.file.url}" title="${f.data.caption}" alt="${f.data.caption}" ${m.join(" ")} /><br /><em>${f.data.caption}</em>`;break;case"header":t+=`<h${f.data.level}>${f.data.text}</h${f.data.level}>`;break;case"embded":ge[service],t+=`<iframe width="${f.data.width}" height="${f.data.height}" src="${f.data.embed}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><br /><em>${f.data.caption}</em>`;break;case"delimiter":t+="<hr />";break;case"nestedlist":let i="ul";f.data.style==="ordered"&&(i="ol"),t+=`<${i}>`,f.data.items.forEach(w=>{t+=this.listJsonToHtml(w,i)}),t+=`</${i}>`;break;case"table":t+=this.tableJsonToHtml(f.data.content,f.data.withHeadings);break;case"raw":((n=(l=(g=(a=this.$store)==null?void 0:a.state)==null?void 0:g.user)==null?void 0:l.profile)==null?void 0:n.type)==="admin"&&(t+=`<div data-ejs-type="raw">${f.data.html}</div>`);break;case"attaches":let v=[];Object.keys(f.data.file).forEach(w=>{w!=="size"&&v.push({type:w,value:f.data.file[w]})});let y="";if(v.length>0){let w="";v.forEach(b=>{w+=`
              <span class="${b.type}" data-ejs-attaches-type="${b.type}">${b.value}</span>`}),y=`
            <div class="additional-properties">
              ${w}
	          </div>`}t+=`
          <div data-ejs-type="attaches">
            <a href="${f.data.file.url}" download>
                <span class="title" data-ejs-attaches-type="title">${f.data.title}</span>
                <span class="size" data-ejs-attaches-type="size">${((r=f.data.file)==null?void 0:r.size)??""}</span>
                ${y}
            </a>
          </div>`;break;default:console.warn("Unknown block type",f.type);break}return t},listJsonToHtml(f,t){let a=this,g="";f.content&&(g=f.content);let l="";return f.items&&f.items.length>0&&(l+=`
        <${t}>`,f.items.forEach(n=>{l+=a.listJsonToHtml(n,t)}),l+=`
        </${t}>`),`
      <li>
        ${g}
        ${l}
      </li>`},tableJsonToHtml(f,t){t=typeof t>"u"?!1:!!t;let a=`
      <table>`;return f&&f.length>0&&f.forEach((g,l)=>{let n="td";t&&l===0&&(n="th",a+=`
        <thead>`),a+=`
          <tr>`,g&&g.length>0&&g.forEach(r=>{a+=`
              <${n}>${r}</${n}>`}),a+=`
          </tr>`,t&&l===0&&(a+=`
        </thead>
        <tbody>`)}),t&&(a+=`
        </tbody>`),a+=`
      </table>`,a},escapeEditor(){let f=this.$route.path.split("/");f.pop(),window.location.href=f.join("/")}}},Fe=I("div",{id:"editorjs"},null,-1),Oe={id:"editorjs-toolbar"},Me={class:"ejs-actions-block"},Ue=I("i",{class:"fas fa-check"},null,-1),$e=[Ue],Ie=I("i",{class:"fas fa-plus"},null,-1),Re=[Ie],Pe={class:"ejs-actions-block"},He=I("i",{class:"fas fa-gear"},null,-1),Ne=[He],Ae={class:"product-edit-language ejs-actions-block"},De={class:"field"},Be=I("label",{class:"label",translate:"yes"},"Edit Language",-1),ze={class:"control select"},qe=["value"];function Je(f,t,a,g,l,n){return A(),D("div",null,[Fe,I("div",Oe,[I("div",Me,[I("a",{class:"ejs-action ejs-action-save",onClick:t[0]||(t[0]=z(r=>n.saveEditor(),["prevent","stop"])),href:"#save"},[...$e]),I("a",{class:"ejs-action ejs-action-cancel",onClick:t[1]||(t[1]=z(r=>n.escapeEditor(),["prevent","stop"])),href:"#cancel"},[...Re])]),I("div",Pe,[I("a",{class:ae(["ejs-action ejs-action-settings",n.sidebarVisible]),onClick:t[2]||(t[2]=z(r=>n.toggleSidebar(),["prevent","stop"])),href:"#settings"},[...Ne],2)]),I("div",Ae,[I("div",De,[Be,I("div",ze,[se(I("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>f.$parent.$parent.language.code=r),onChange:t[4]||(t[4]=r=>f.$parent.$parent.changeEditedLang())},[(A(!0),D(ce,null,ue(f.$store.state.coredata.langs,(r,d)=>(A(),D("option",{key:d+"langs",value:r.code},de(r.name),9,qe))),128))],544),[[le,f.$parent.$parent.language.code]])])])])])])}const Ve=J(Le,[["render",Je],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/editors/EditorJS.vue"]]),Ge={name:"EditorWrapper",props:["type","editordata"],data(){return{supportedComponents:["editorjs"],language:{code:"en",longCode:"en-US",name:"English"}}},components:{editorjs:Ve},created:function(){this.language=this.$store.state.language},methods:{prepareToSave(f){const t=this;if(typeof f<"u"&&f){const a=new RegExp(" data-editable ","g");f.indexOf(" data-editable ")&&(f=f.replace(a,"")),t.$parent.save(f)}else console.warn("EditorWrapper prepareToSave - NO editorOutput:",f),t.$parent.save(f)}}},Xe={key:0,class:"has-text-left"},We={key:0};function Ze(f,t,a,g,l,n){var d;const r=X("editorjs");return this.editordata&&this.editordata[a.type]&&this.editordata[a.type].setup&&typeof this.editordata[a.type].data!==void 0?(A(),D("div",Xe,[a.type==="editorjs"?(A(),D("div",We,[he(r,{config:(d=this.editordata)==null?void 0:d.editorjs},null,8,["config"])])):V("",!0)])):V("",!0)}const rt=J(Ge,[["render",Ze],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/editors/EditorWrapper.vue"]]),Ye={name:"Sidebar",props:["fullheight","overlay","right","open"],data(){return{}},created:function(){},methods:{}},Ke=I("p",{class:"p-1 has-text-grey"},[I("i",{class:"fas fa-angle-left"}),G(" Click "),I("i",{class:"fas fa-gear"}),G(" to hide")],-1);function Qe(f,t,a,g,l,n){const r=X("o-sidebar");return A(),fe(r,{fullheight:a.fullheight,overlay:!1,right:!0,open:a.open},{default:pe(()=>[Ke,me(f.$slots,"default")]),_:3},8,["fullheight","open"])}const ot=J(Ye,[["render",Qe],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/Sidebar.vue"]]);export{rt as E,ot as S};
