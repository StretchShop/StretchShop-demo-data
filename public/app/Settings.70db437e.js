import{o as l,c,a as e,h as T,B as u,H as _,O as P,F as L,r as N,t as D,b as y,w as k,g as p,n as E,e as b,j as U,X as K,d as X,f as J}from"./sett.5bce7c7f.js";import{_ as S}from"./index.20e455a6.js";import"./edit.8b295d88.js";const Z={name:"SettingsBusiness",data(){return{business:null,priceLevelsUserTypes:[],discountTypes:["percent","amount"],activeDiscount:{key:null,values:{type:null,value:null}}}},computed:{userBasicData:function(){const n=this.$store.getters.getUserProfile,s={username:"",email:"",email2:"",password:"",password2:""};return n&&n.username&&(s.username=n.username,s.email=n.email,n.dates&&(s.dates=n.dates)),s},userProfileImage:function(){return this.$store.getters.getProfileImage()}},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getBusinessSettings()},methods:{getBusinessSettings:function(){const n=this;this.$httpc.post("settings",{type:"business"}).then(function(s){s.data&&s.data.constructor===Object&&(n.business=s.data)}).catch(function(s){n.sendChangeRequest=!1,n.status="error",console.error("settingsBusiness getBusinessSettings error:",s)}).then(function(){})},changeBusinessSettings:function(){const n=[];let s=!0;const i=this;this.$httpc.put("settings",{type:"business",data:i.business}).then(function(o){o.data&&(o.data===!1?(s=!1,n.push({target:"username",action:"already exists"})):s=!0),s&&(i.business=o.data),n.length&&console.error(n)}).catch(function(o){i.sendChangeRequest=!1,i.status="error",o.response.data&&o.response.data.errors&&i.$helpers.showFormFieldErrorsFromErrorResponse(o.response.data.errors)}).then(function(){})},setActiveDiscount(n){var s,i;typeof((i=(s=this.business)==null?void 0:s.priceLevels)==null?void 0:i.discounts[n])>"u"&&(this.business.priceLevels.discounts[n]={type:"percent",value:-5}),this.activeDiscount=n,console.debug("SettingsBusiness setActiveDiscount activeDiscount: ",this.activeDiscount)}}},G={key:0,id:"settingsBusiness",class:""},H=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Business")])],-1),W={class:"business-edit-form-wrapper"},Q={class:"columns"},Y={class:"column is-8 is-centered"},ee=e("h3",{class:"title is-3"},"Invoice data",-1),se={class:"columns is-variable is-2 is-centered"},te={class:"column is-12 has-text-centered"},ne={class:"field companyname"},ie=e("label",{class:"label",translate:"yes"},"Company name",-1),oe={class:"control"},ae=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Company name can't be empty")],-1),le={class:"columns is-variable is-2 is-centered"},ce={class:"column is-4 has-text-centered"},re={class:"field OrgId"},de=e("label",{class:"label",translate:"yes"},"Organization ID",-1),ue={class:"control"},me=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Organization ID can't be empty")],-1),he={class:"column is-4 has-text-centered"},_e={class:"field TaxId"},ve=e("label",{class:"label",translate:"yes"},"Tax ID",-1),pe={class:"control"},ye=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax ID can't be empty")],-1),ge={class:"column is-4 has-text-centered"},fe={class:"field TaxVatId"},be=e("label",{class:"label",translate:"yes"},"VAT ID",-1),$e={class:"control"},De=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Vat ID can't be empty")],-1),xe={class:"columns is-variable is-2 is-centered"},Me={class:"column is-12 has-text-centered"},Te={class:"field registration"},Ce=e("label",{class:"label",translate:"yes"},"Registration",-1),Le={class:"control"},Ne=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Registration can't be empty")],-1),Ue={class:"columns"},Pe={class:"column is-8 is-centered"},ke=e("h3",{class:"title is-3"},"Global tax settings",-1),Se={class:"columns is-variable is-2 is-centered"},Ae={class:"column is-6 has-text-centered"},Ie={class:"field TaxDecimal"},Ve=e("label",{class:"label",translate:"yes"},"Tax Decimal",-1),we={class:"control"},Ee=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Decimal can't be empty")],-1),Re={class:"column is-6 has-text-centered"},Fe={class:"field TaxType"},qe=e("label",{class:"label",translate:"yes"},"Tax Type",-1),Oe={class:"control select"},Be=e("option",{selected:"",disabled:"",translate:"yes"},"Choose Tax Type",-1),je=["value"],ze=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Type can't be empty")],-1),Ke={class:"columns"},Xe={class:"column is-8 is-centered"},Je=e("h3",{class:"title is-3"},"Price levels",-1),Ze={class:"columns is-variable is-2 is-centered"},Ge={class:"column is-4 has-text-centered"},He={class:"field TaxDecimal"},We=e("label",{class:"label",translate:"yes"},"Default Price Sort Value",-1),Qe={class:"control"},Ye=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Default Price Sort Value can't be empty")],-1),es={class:"column is-6 has-text-centered"},ss={class:"field TaxType"},ts=e("label",{class:"label",translate:"yes"},"Tax Type",-1),ns={class:"control select"},is=e("option",{selected:"",disabled:"",translate:"yes"},"Choose Tax Type",-1),os=["value"],as=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Type can't be empty")],-1),ls=e("h3",{class:"title is-3",translate:"yes"},"User Types & Discounts",-1),cs={class:"columns"},rs={class:"column is-12"},ds={key:0},us={class:"columns"},ms={class:"column is-6"},hs={class:"menu"},_s=e("p",{class:"menu-label",translate:"yes"},"Discount User Types",-1),vs={key:0,class:"menu-list"},ps=["onClick"],ys={key:0,class:"column is-6"},gs={class:"field TaxType"},fs=e("label",{class:"label",translate:"yes"},"Discount Type",-1),bs={class:"control select"},$s=e("option",{selected:"",disabled:"",translate:"yes"},"Choose Discount Type",-1),Ds=["value"],xs=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Discount Type can't be empty")],-1),Ms={class:"field TaxDecimal"},Ts=e("label",{class:"label",translate:"yes"},"Discount value",-1),Cs={class:"control"},Ls=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Decimal can't be empty")],-1),Ns=e("hr",null,null,-1),Us={class:"columns"},Ps={class:"column is-8 has-text-centered"},ks={class:"button is-success",type:"submit"},Ss=e("span",{translate:"yes"},"Update Business Settings",-1);function As(n,s,i,o,t,a){var x,M,C,r,g,$,A,I,V;const m=U("o-inputitems"),f=U("o-field"),d=U("font-awesome-icon");return t.business?(l(),c("div",G,[H,e("div",W,[e("form",{onSubmit:s[12]||(s[12]=T((...v)=>a.changeBusinessSettings&&a.changeBusinessSettings(...v),["prevent"]))},[e("div",Q,[e("div",Y,[ee,e("div",se,[e("div",te,[e("div",ne,[ie,e("div",oe,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[0]||(s[0]=v=>t.business.invoiceData.company.name=v),placeholder:"Company name"},null,512),[[_,t.business.invoiceData.company.name]])]),ae])])]),e("div",le,[e("div",ce,[e("div",re,[de,e("div",ue,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[1]||(s[1]=v=>t.business.invoiceData.company.orgId=v),placeholder:"Organization ID"},null,512),[[_,t.business.invoiceData.company.orgId]])]),me])]),e("div",he,[e("div",_e,[ve,e("div",pe,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[2]||(s[2]=v=>t.business.invoiceData.company.taxId=v),placeholder:"Tax ID"},null,512),[[_,t.business.invoiceData.company.taxId]])]),ye])]),e("div",ge,[e("div",fe,[be,e("div",$e,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[3]||(s[3]=v=>t.business.invoiceData.company.taxVatId=v),placeholder:"VAT ID"},null,512),[[_,t.business.invoiceData.company.taxVatId]])]),De])])]),e("div",xe,[e("div",Me,[e("div",Te,[Ce,e("div",Le,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[4]||(s[4]=v=>t.business.invoiceData.company.registration=v),placeholder:"Registration"},null,512),[[_,t.business.invoiceData.company.registration]])]),Ne])])])])]),e("div",Ue,[e("div",Pe,[ke,e("div",Se,[e("div",Ae,[e("div",Ie,[Ve,e("div",we,[u(e("input",{class:"input",type:"number",min:"0",step:"any","onUpdate:modelValue":s[5]||(s[5]=v=>t.business.taxData.global.taxDecimal=v),placeholder:"Tax Decimal"},null,512),[[_,t.business.taxData.global.taxDecimal]])]),Ee])]),e("div",Re,[e("div",Fe,[qe,e("div",Oe,[u(e("select",{"onUpdate:modelValue":s[6]||(s[6]=v=>t.business.taxData.global.taxType=v)},[Be,(l(!0),c(L,null,N(t.business.taxData.global.taxTypes,v=>(l(),c("option",{value:v},D(v),9,je))),256))],512),[[P,t.business.taxData.global.taxType]])]),ze])])])])]),e("div",Ke,[e("div",Xe,[Je,e("div",Ze,[e("div",Ge,[e("div",He,[We,e("div",Qe,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[7]||(s[7]=v=>t.business.priceLevels.defaultPriceSortValue=v),placeholder:"Default Price Sort Value"},null,512),[[_,t.business.priceLevels.defaultPriceSortValue]])]),Ye])]),e("div",es,[e("div",ss,[ts,e("div",ns,[u(e("select",{"onUpdate:modelValue":s[8]||(s[8]=v=>t.business.taxData.global.taxType=v)},[is,(l(!0),c(L,null,N(t.business.taxData.global.taxTypes,v=>(l(),c("option",{value:v},D(v),9,os))),256))],512),[[P,t.business.taxData.global.taxType]])]),as])])]),ls,e("div",cs,[e("div",rs,[(C=(M=(x=t.business)==null?void 0:x.priceLevels)==null?void 0:M.validTypes)!=null&&C.userTypes?(l(),c("section",ds,[y(f,{label:"Define user types"},{default:k(()=>[y(m,{modelValue:t.business.priceLevels.validTypes.userTypes,"onUpdate:modelValue":s[9]||(s[9]=v=>t.business.priceLevels.validTypes.userTypes=v),data:t.priceLevelsUserTypes,autocomplete:"","allow-new":!0,iconPack:"fas",icon:"tags",placeholder:"User Types",type:"is-info"},null,8,["modelValue","data"])]),_:1})])):p("",!0)])]),e("div",us,[e("div",ms,[e("aside",hs,[_s,($=(g=(r=t.business)==null?void 0:r.priceLevels)==null?void 0:g.validTypes)!=null&&$.userTypes?(l(),c("ul",vs,[(l(!0),c(L,null,N((V=(I=(A=t.business)==null?void 0:A.priceLevels)==null?void 0:I.validTypes)==null?void 0:V.userTypes,(v,w)=>(l(),c("li",null,[e("a",{href:"#",class:E({"is-active":t.activeDiscount===v}),onClick:T(h=>a.setActiveDiscount(v),["prevent"])},D(v),11,ps)]))),256))])):p("",!0)])]),t.business.priceLevels.discounts[t.activeDiscount]?(l(),c("div",ys,[e("div",gs,[fs,e("div",bs,[u(e("select",{"onUpdate:modelValue":s[10]||(s[10]=v=>t.business.priceLevels.discounts[t.activeDiscount].type=v)},[$s,(l(!0),c(L,null,N(t.discountTypes,v=>(l(),c("option",{value:v},D(v),9,Ds))),256))],512),[[P,t.business.priceLevels.discounts[t.activeDiscount].type]])]),xs]),e("div",Ms,[Ts,e("div",Cs,[u(e("input",{class:"input",type:"number",step:"any","onUpdate:modelValue":s[11]||(s[11]=v=>t.business.priceLevels.discounts[t.activeDiscount].value=v),placeholder:"Value"},null,512),[[_,t.business.priceLevels.discounts[t.activeDiscount].value]])]),Ls])])):p("",!0)])])]),Ns,e("div",Us,[e("div",Ps,[e("button",ks,[y(d,{icon:"check"}),b(" \xA0 "),Ss])])])],32)])])):p("",!0)}const R=S(Z,[["render",As]]);const Is={name:"SortableMenu",props:{menuData:Array,menuParams:Object},emits:["updated","action"],data(){return{dragged:null,id:null,index:null,indexDrop:null,list:null,active:null}},mounted:function(){this.$refs.sortableMenu.addEventListener("dragstart",({target:n})=>{this.dragged=n,this.id=n.getAttribute("data-id"),this.list=n.parentNode.children;for(let s=0;s<this.list.length;s++)this.list[s]===this.dragged&&(this.index=s)}),this.$refs.sortableMenu.addEventListener("dragover",n=>{n.preventDefault()}),this.$refs.sortableMenu.addEventListener("drop",({target:n})=>{if(n.className=="dropzone"&&n.getAttribute("data-id")!==this.id){this.dragged.remove(this.dragged);for(let s=0;s<this.list.length;s++)this.list[s]===this.target&&(this.indexDrop=s);this.index>this.indexDrop?n.before(this.dragged):n.after(this.dragged),this.$emit("updated",this.processDraggedToResult(this.menuData,this.list))}})},methods:{listlist(){console.debug("listlist: ",this.list)},callMenuAction(n,s){this.active=n,this.$emit("action",s)},processDraggedToResult(n,s){let i={};n.forEach((t,a)=>{i[a]=t});let o=[];return(s==null?void 0:s.length)>0&&s.forEach((t,a)=>{t.hasAttribute("data-id")&&parseInt(t.getAttribute("data-id"))>-1&&o.push({...i[t.getAttribute("data-id")]})}),console.debug("reorderedResult: ",o),o}}},Vs={class:"sortable-menu",ref:"sortableMenu"},ws={class:"menu-list"},Es=["data-id"],Rs=["onClick"];function Fs(n,s,i,o,t,a){return l(),c("div",Vs,[e("ul",ws,[(l(!0),c(L,null,N(i.menuData,(m,f)=>(l(),c("li",{class:"dropzone","data-id":f,draggable:"true"},[e("a",{class:E({"is-active":t.active===m}),onClick:T(d=>a.callMenuAction(m,f),["prevent"])},D(n.$helpers.deepValue(m,i.menuParams.name)),11,Rs)],8,Es))),256))])],512)}const z=S(Is,[["render",Fs]]);const qs={name:"SettingsOrders",data(){return{orders:null,activeDM:null,activeNameLang:null,activePM:null}},components:{"sortable-menu":z},computed:{userBasicData:function(){const n=this.$store.getters.getUserProfile,s={username:"",email:"",email2:"",password:"",password2:""};return n&&n.username&&(s.username=n.username,s.email=n.email,n.dates&&(s.dates=n.dates)),s},userProfileImage:function(){return this.$store.getters.getProfileImage()}},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getOrdersSettings()},methods:{getOrdersSettings:function(){const n=this;this.$httpc.post("settings",{type:"orders"}).then(function(s){s.data&&s.data.constructor===Object&&(n.orders=s.data,n.activeNameLang=n.$store.state.language.code)}).catch(function(s){n.sendChangeRequest=!1,n.status="error",console.error("settingsOrders getOrdersSettings error:",s)}).then(function(){})},changeOrdersSettings:function(){const n=[];let s=!0;const i=this;this.$httpc.put("settings",{type:"orders",data:i.orders}).then(function(o){o.data&&(o.data===!1?(s=!1,n.push({target:"username",action:"already exists"})):s=!0),s&&(i.orders=o.data),n.length&&console.error(n)}).catch(function(o){i.sendChangeRequest=!1,i.status="error",o.response.data&&o.response.data.errors&&i.$helpers.showFormFieldErrorsFromErrorResponse(o.response.data.errors)}).then(function(){})},addNewMethod(n){if(this.orders[n]&&this.orders[n].constructor===Array){let s={};this.$store.state.coredata.langs.forEach(i=>{s[i.code]=i.code}),this.orders[n].push({codename:"-codename",type:"-type",name:s,prices:[{range:{from:0,to:1e6},price:0,tax:.2}]})}},addNewPrice(n){if(this.orders[n]&&this.orders[n].constructor===Array){let s=0;n==="deliveryMethods"?s=this.activeDM:n==="paymentMethods"&&(s=this.activePM),this.orders[n][s]&&this.orders[n][s].prices&&this.orders[n][s].prices.constructor===Array&&this.orders[n][s].prices.push({range:{from:0,to:1e6},price:0,tax:.2})}},setActiveDM(n){this.activeDM=n},setActivePM(n){this.activePM=n},menuUpdate:function(n,s){this.orders[n]&&s&&(this.orders[n]=s)},deleteRecord(n,s){var i,o,t;((i=this.orders)==null?void 0:i[n])&&this[s]&&((o=this.orders)==null?void 0:o[n][this[s]])&&((t=this.orders)==null||t[n].splice(this[s],1),this[s]=0)},deleteSubrecord(n,s,i,o){var t,a,m,f,d;((t=this.orders)==null?void 0:t[n])&&this[s]>-1&&typeof((a=this.orders)==null?void 0:a[n][this[s]])<"u"&&((m=this.orders)==null?void 0:m[n][this[s]][i])&&typeof((f=this.orders)==null?void 0:f[n][this[s]][i][o])<"u"&&o>-1&&((d=this.orders)==null||d[n][this[s]][i].splice(o,1))}}},Os={key:0,id:"settingsOrders",class:""},Bs=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Orders")])],-1),js={class:"user-info-edit-form-wrapper"},zs={class:"columns"},Ks={class:"column is-8 is-centered"},Xs={class:"title is-3",translate:"yes"},Js=e("span",{translate:"yes"},"Add Method",-1),Zs={class:"columns"},Gs={class:"column is-4"},Hs={class:"menu"},Ws=e("p",{class:"menu-label",translate:"yes"},"Delivery Methods Codenames",-1),Qs={key:0,class:"column is-8"},Ys={class:"field Codename"},et=e("label",{class:"label",translate:"yes"},"Codename",-1),st={class:"control"},tt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Codename can't be empty")],-1),nt={class:"field Type"},it=e("label",{class:"label",translate:"yes"},"Type",-1),ot={class:"control"},at=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Type can't be empty")],-1),lt={class:"columns"},ct={class:"column is-4"},rt={class:"field nameLang"},dt=e("label",{class:"label",translate:"yes"},"Name Lang",-1),ut={class:"control select"},mt=["value"],ht={class:"column is-8"},_t={key:0,class:"field Type"},vt=e("label",{class:"label",translate:"yes"},"Name",-1),pt={class:"control"},yt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),gt={class:"columns"},ft={class:"column is-12"},bt={class:"title is-4"},$t=e("span",{translate:"yes"},"Delivery Method Prices",-1),Dt=e("span",{translate:"yes"},"Add Price",-1),xt={key:0},Mt={class:"columns"},Tt={class:"column is-6"},Ct={class:"field RangeFrom"},Lt=e("label",{class:"label",translate:"yes"},"Range From",-1),Nt={class:"control"},Ut=["onUpdate:modelValue"],Pt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range From can't be empty")],-1),kt={class:"column is-6"},St={class:"field RangeTo"},At=e("label",{class:"label",translate:"yes"},"Range To",-1),It={class:"control"},Vt=["onUpdate:modelValue"],wt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range To can't be empty")],-1),Et={class:"columns"},Rt={class:"column is-6"},Ft={class:"field Price"},qt=e("label",{class:"label",translate:"yes"},"Price",-1),Ot={class:"control"},Bt=["onUpdate:modelValue"],jt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Price can't be empty")],-1),zt={key:0,class:"column is-6"},Kt={class:"field priceTax"},Xt=e("label",{class:"label",translate:"yes"},"Tax",-1),Jt={class:"control"},Zt=["onUpdate:modelValue"],Gt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax can't be empty")],-1),Ht={class:"columns"},Wt={class:"column has-text-right is-12"},Qt=["onClick"],Yt={class:"columns"},en={class:"column is-12"},sn=e("hr",null,null,-1),tn={class:"title is-3",translate:"yes"},nn=e("span",{translate:"yes"},"Add Method",-1),on={class:"columns"},an={class:"column is-4"},ln={class:"menu"},cn=e("p",{class:"menu-label",translate:"yes"},"Payment Methods Codenames",-1),rn={key:0,class:"column is-8"},dn={class:"field Codename"},un=e("label",{class:"label",translate:"yes"},"Codename",-1),mn={class:"control"},hn=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Codename can't be empty")],-1),_n={class:"field Type"},vn=e("label",{class:"label",translate:"yes"},"Type",-1),pn={class:"control"},yn=e("div",{class:"form-messages is-hidden"},null,-1),gn={class:"columns"},fn={class:"column is-4"},bn={class:"field nameLang"},$n=e("label",{class:"label",translate:"yes"},"Name Lang",-1),Dn={class:"control select"},xn=["value"],Mn={class:"column is-8"},Tn={key:0,class:"field Type"},Cn=e("label",{class:"label",translate:"yes"},"Name",-1),Ln={class:"control"},Nn=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),Un={class:"columns"},Pn={class:"column is-12"},kn={class:"title is-4"},Sn=e("span",{translate:"yes"},"Payment Method Prices",-1),An=e("span",{translate:"yes"},"Add Price",-1),In={key:0},Vn={class:"columns"},wn={class:"column is-6"},En={class:"field RangeFrom"},Rn=e("label",{class:"label",translate:"yes"},"Range From",-1),Fn={class:"control"},qn=["onUpdate:modelValue"],On=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range From can't be empty")],-1),Bn={class:"column is-6"},jn={class:"field RangeTo"},zn=e("label",{class:"label",translate:"yes"},"Range To",-1),Kn={class:"control"},Xn=["onUpdate:modelValue"],Jn=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range To can't be empty")],-1),Zn={class:"columns"},Gn={class:"column is-6"},Hn={class:"field Price"},Wn=e("label",{class:"label",translate:"yes"},"Price",-1),Qn={class:"control"},Yn=["onUpdate:modelValue"],ei=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Price can't be empty")],-1),si={key:0,class:"column is-6"},ti={class:"field RangeTo"},ni=e("label",{class:"label",translate:"yes"},"Tax",-1),ii={class:"control"},oi=["onUpdate:modelValue"],ai=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax can't be empty")],-1),li={class:"columns"},ci={class:"column has-text-right is-12"},ri=["onClick"],di={class:"columns"},ui={class:"column is-12"},mi=e("hr",null,null,-1),hi={class:"columns"},_i={class:"column is-8 has-text-centered"},vi={class:"button is-success",type:"submit"},pi=e("span",{translate:"yes"},"Update Order Settings",-1);function yi(n,s,i,o,t,a){var d,x,M,C;const m=U("font-awesome-icon"),f=U("sortable-menu");return n.$store.state.user.profile?(l(),c("div",Os,[Bs,e("div",js,[e("form",{onSubmit:s[18]||(s[18]=T((...r)=>a.changeOrdersSettings&&a.changeOrdersSettings(...r),["prevent"]))},[e("div",zs,[e("div",Ks,[e("h3",Xs,[b("Delivery Methods "),e("button",{class:"button is-info is-pulled-right",onClick:s[0]||(s[0]=r=>a.addNewMethod("deliveryMethods"))},[y(m,{icon:"plus"}),b(" \xA0 "),Js])]),e("div",Zs,[e("div",Gs,[e("aside",Hs,[Ws,y(f,{menuData:(d=t.orders)==null?void 0:d.deliveryMethods,menuParams:{value:"code",name:"name."+n.$store.state.language.code},onUpdated:s[1]||(s[1]=r=>a.menuUpdate("deliveryMethods",r)),onAction:s[2]||(s[2]=r=>a.setActiveDM(r))},null,8,["menuData","menuParams"])])]),t.activeDM!==null?(l(),c("div",Qs,[e("div",Ys,[et,e("div",st,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[3]||(s[3]=r=>t.orders.deliveryMethods[t.activeDM].codename=r),placeholder:"Codename"},null,512),[[_,t.orders.deliveryMethods[t.activeDM].codename]])]),tt]),e("div",nt,[it,e("div",ot,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[4]||(s[4]=r=>t.orders.deliveryMethods[t.activeDM].type=r),placeholder:"Type"},null,512),[[_,t.orders.deliveryMethods[t.activeDM].type]])]),at]),e("div",lt,[e("div",ct,[e("div",rt,[dt,e("div",ut,[u(e("select",{"onUpdate:modelValue":s[5]||(s[5]=r=>t.activeNameLang=r)},[(l(!0),c(L,null,N(n.$store.state.coredata.langs,r=>(l(),c("option",{value:r.code},D(r.name),9,mt))),256))],512),[[P,t.activeNameLang]])])])]),e("div",ht,[t.activeNameLang?(l(),c("div",_t,[vt,e("div",pt,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[6]||(s[6]=r=>t.orders.deliveryMethods[t.activeDM].name[t.activeNameLang]=r),placeholder:"Name"},null,512),[[_,t.orders.deliveryMethods[t.activeDM].name[t.activeNameLang]]])]),yt])):p("",!0)])]),e("div",gt,[e("div",ft,[e("h4",bt,[$t,e("button",{class:"button is-info is-pulled-right",onClick:s[7]||(s[7]=r=>a.addNewPrice("deliveryMethods"))},[y(m,{icon:"plus"}),b(" \xA0 "),Dt])]),((x=t.orders.deliveryMethods[t.activeDM])==null?void 0:x.prices)&&t.orders.deliveryMethods[t.activeDM].prices.length>0?(l(),c("div",xt,[e("p",null,"x"+D(t.orders.deliveryMethods[t.activeDM].prices.length),1),(l(!0),c(L,null,N(t.orders.deliveryMethods[t.activeDM].prices,(r,g)=>(l(),c("div",null,[e("div",Mt,[e("div",Tt,[e("div",Ct,[Lt,e("div",Nt,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[g].range.from=$,placeholder:"Range From"},null,8,Ut),[[_,t.orders.deliveryMethods[t.activeDM].prices[g].range.from]])]),Pt])]),e("div",kt,[e("div",St,[At,e("div",It,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[g].range.to=$,placeholder:"Range To"},null,8,Vt),[[_,t.orders.deliveryMethods[t.activeDM].prices[g].range.to]])]),wt])])]),e("div",Et,[e("div",Rt,[e("div",Ft,[qt,e("div",Ot,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[g].price=$,placeholder:"Price"},null,8,Bt),[[_,t.orders.deliveryMethods[t.activeDM].prices[g].price]])]),jt])]),t.orders.deliveryMethods[t.activeDM].prices[g].tax?(l(),c("div",zt,[e("div",Kt,[Xt,e("div",Jt,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[g].tax=$,placeholder:"Tax"},null,8,Zt),[[_,t.orders.deliveryMethods[t.activeDM].prices[g].tax]])]),Gt])])):p("",!0)]),e("div",Ht,[e("div",Wt,[e("button",{class:"button is-danger",onClick:T($=>a.deleteSubrecord("deliveryMethods","activeDM","prices",g),["prevent"]),translate:"yes"}," DELETE this Price ["+D(g)+"] ",9,Qt)])])]))),256))])):p("",!0)])]),e("div",Yt,[e("div",en,[e("button",{class:"button is-danger",onClick:s[8]||(s[8]=T(r=>a.deleteRecord("deliveryMethods","activeDM"),["prevent"])),translate:"yes"}," DELETE this Delivery Method ("+D(t.orders.deliveryMethods[t.activeDM].name[n.$store.state.language.code])+") ",1)])])])):p("",!0)]),sn,e("h3",tn,[b("Payment Methods "),e("button",{class:"button is-info is-pulled-right",onClick:s[9]||(s[9]=r=>a.addNewMethod("paymentMethods"))},[y(m,{icon:"plus"}),b(" \xA0 "),nn])]),e("div",on,[e("div",an,[e("aside",ln,[cn,y(f,{menuData:(M=t.orders)==null?void 0:M.paymentMethods,menuParams:{value:"code",name:"name.sk"},onUpdated:s[10]||(s[10]=r=>a.menuUpdate("paymentMethods",r)),onAction:s[11]||(s[11]=r=>a.setActivePM(r))},null,8,["menuData","menuParams"])])]),t.activePM!==null?(l(),c("div",rn,[e("div",dn,[un,e("div",mn,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[12]||(s[12]=r=>t.orders.paymentMethods[t.activePM].codename=r),placeholder:"Codename"},null,512),[[_,t.orders.paymentMethods[t.activePM].codename]])]),hn]),e("div",_n,[vn,e("div",pn,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[13]||(s[13]=r=>t.orders.paymentMethods[t.activePM].type=r),placeholder:"Type"},null,512),[[_,t.orders.paymentMethods[t.activePM].type]])]),yn]),e("div",gn,[e("div",fn,[e("div",bn,[$n,e("div",Dn,[u(e("select",{"onUpdate:modelValue":s[14]||(s[14]=r=>t.activeNameLang=r)},[(l(!0),c(L,null,N(n.$store.state.coredata.langs,r=>(l(),c("option",{value:r.code},D(r.name),9,xn))),256))],512),[[P,t.activeNameLang]])])])]),e("div",Mn,[t.activeNameLang?(l(),c("div",Tn,[Cn,e("div",Ln,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[15]||(s[15]=r=>t.orders.paymentMethods[t.activePM].name[t.activeNameLang]=r),placeholder:"Name"},null,512),[[_,t.orders.paymentMethods[t.activePM].name[t.activeNameLang]]])]),Nn])):p("",!0)])]),e("div",Un,[e("div",Pn,[e("h4",kn,[Sn,e("button",{class:"button is-info is-pulled-right",onClick:s[16]||(s[16]=r=>a.addNewPrice("paymentMethods"))},[y(m,{icon:"plus"}),b(" \xA0 "),An])]),((C=t.orders.paymentMethods[t.activePM])==null?void 0:C.prices)&&t.orders.paymentMethods[t.activePM].prices.length>0?(l(),c("div",In,[e("p",null,"x"+D(t.orders.paymentMethods[t.activePM].prices.length),1),(l(!0),c(L,null,N(t.orders.paymentMethods[t.activePM].prices,(r,g)=>(l(),c("div",null,[e("div",Vn,[e("div",wn,[e("div",En,[Rn,e("div",Fn,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[g].range.from=$,placeholder:"Range From"},null,8,qn),[[_,t.orders.paymentMethods[t.activePM].prices[g].range.from]])]),On])]),e("div",Bn,[e("div",jn,[zn,e("div",Kn,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[g].range.to=$,placeholder:"Range To"},null,8,Xn),[[_,t.orders.paymentMethods[t.activePM].prices[g].range.to]])]),Jn])])]),e("div",Zn,[e("div",Gn,[e("div",Hn,[Wn,e("div",Qn,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[g].price=$,placeholder:"Price"},null,8,Yn),[[_,t.orders.paymentMethods[t.activePM].prices[g].price]])]),ei])]),t.orders.paymentMethods[t.activePM].prices[g].tax?(l(),c("div",si,[e("div",ti,[ni,e("div",ii,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[g].tax=$,placeholder:"Tax"},null,8,oi),[[_,t.orders.paymentMethods[t.activePM].prices[g].tax]])]),ai])])):p("",!0)]),e("div",li,[e("div",ci,[e("button",{class:"button is-danger",onClick:T($=>a.deleteSubrecord("paymentMethods","activePM","prices",g),["prevent"]),translate:"yes"}," DELETE this Price ["+D(g)+"] ",9,ri)])])]))),256))])):p("",!0)])]),e("div",di,[e("div",ui,[e("button",{class:"button is-danger",onClick:s[17]||(s[17]=T(r=>a.deleteRecord("paymentMethods","activePM"),["prevent"])),translate:"yes"}," DELETE this Delivery Method ("+D(t.orders.paymentMethods[t.activePM].name[n.$store.state.language.code])+") ",1)])])])):p("",!0)])])]),mi,e("div",hi,[e("div",_i,[e("button",vi,[y(m,{icon:"check"}),b(" \xA0 "),pi])])])],32)])])):p("",!0)}const F=S(qs,[["render",yi]]);const gi={name:"SettingsLocals",data(){return{locals:null,activeLang:null,activeCurrency:null,activeCountry:null}},components:{"sortable-menu":z},computed:{},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getLocalsSettings()},methods:{getLocalsSettings:function(){const n=this;this.$httpc.post("settings",{type:"locals"}).then(function(s){s.data&&s.data.constructor===Object&&(n.locals=s.data)}).catch(function(s){n.sendChangeRequest=!1,n.status="error",console.error("settingsLocals getLocalsSettings error:",s)}).then(function(){})},changeLocalsSettings:function(){const n=[];let s=!0;const i=this;this.$httpc.put("settings",{type:"locals",data:i.locals}).then(function(o){o.data&&(o.data===!1?(s=!1,n.push({target:"username",action:"already exists"})):s=!0),s&&(i.locals=o.data),n.length&&console.error(n)}).catch(function(o){i.sendChangeRequest=!1,i.status="error",o.response.data&&o.response.data.errors&&i.$helpers.showFormFieldErrorsFromErrorResponse(o.response.data.errors)}).then(function(){})},addNew(n){if(this.locals[n]&&this.locals[n].constructor===Array){let s={};this.$store.state.coredata.langs.forEach(o=>{s[o.code]=o.code});let i={};switch(n){case"langs":i={code:"xx",longCode:"xx-XX",name:"--name"};break;case"currencies":i={code:"XXX",symbol:"X",ratio:1};break;case"countries":i={code:"xx",name:"--name"};break}this.locals[n].push(i)}},setActiveLang(n){this.activeLang=n},setActiveCurrency(n){this.activeCurrency=n},setActiveCountry(n){this.activeCountry=n},menuUpdate:function(n,s){this.locals[n]&&s&&(this.locals[n]=s)},deleteRecord(n,s){var i,o,t;((i=this.locals)==null?void 0:i[n])&&this[s]&&((o=this.locals)==null?void 0:o[n][this[s]])&&((t=this.locals)==null||t[n].splice(this[s],1),this[s]=0)}}},fi={key:0,id:"settingsLocals",class:""},bi=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Locals")])],-1),$i={class:"user-info-edit-form-wrapper"},Di={class:"columns"},xi={class:"column is-8 is-centered"},Mi={class:"title is-3",translate:"yes"},Ti=e("span",{translate:"yes"},"Add Lang",-1),Ci={key:0,class:"columns"},Li=e("div",{class:"column is-6 has-text-right"},[e("h3",{class:"title is-4",translate:"yes"},"Default Lang")],-1),Ni={class:"column is-6"},Ui={class:"control select"},Pi=["value"],ki={key:1,class:"columns"},Si={class:"column is-4"},Ai={class:"menu"},Ii=e("p",{class:"menu-label",translate:"yes"},"Languages",-1),Vi={key:0,class:"column is-8"},wi={class:"columns"},Ei={class:"column is-12"},Ri={class:"field langName"},Fi=e("label",{class:"label",translate:"yes"},"Name",-1),qi={class:"control"},Oi=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),Bi={class:"columns"},ji={class:"column is-6"},zi={class:"field langCode"},Ki=e("label",{class:"label",translate:"yes"},"Code",-1),Xi={class:"control"},Ji=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code can't be empty")],-1),Zi={class:"column is-6"},Gi={class:"field langCodeLong"},Hi=e("label",{class:"label",translate:"yes"},"Code Long",-1),Wi={class:"control"},Qi=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code Long can't be empty")],-1),Yi={class:"columns"},eo={class:"column is-6"},so=e("hr",null,null,-1),to={class:"title is-3",translate:"yes"},no=e("span",{translate:"yes"},"Add Currency",-1),io={key:2,class:"columns"},oo=e("div",{class:"column is-6 has-text-right"},[e("h3",{class:"title is-4",translate:"yes"},"Default Currency")],-1),ao={class:"column is-6"},lo={class:"control select"},co=["value"],ro={key:3,class:"columns"},uo={class:"column is-4"},mo={class:"menu"},ho=e("p",{class:"menu-label",translate:"yes"},"Currency codes",-1),_o={key:0,class:"column is-8"},vo={class:"columns"},po={class:"column is-12"},yo={class:"field currencyCode"},go=e("label",{class:"label",translate:"yes"},"Code",-1),fo={class:"control"},bo=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code can't be empty")],-1),$o={class:"columns"},Do={class:"column is-6"},xo={class:"field currencySymbol"},Mo=e("label",{class:"label",translate:"yes"},"Symbol",-1),To={class:"control"},Co=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Symbol can't be empty")],-1),Lo={class:"column is-6"},No={class:"field currencyRatio"},Uo=e("label",{class:"label",translate:"yes"},"Ratio",-1),Po={class:"control"},ko=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Ratio Long can't be empty")],-1),So={class:"columns"},Ao={class:"column is-6"},Io={class:"title is-3",translate:"yes"},Vo=e("span",{translate:"yes"},"Add Country",-1),wo={key:4,class:"columns"},Eo=e("div",{class:"column is-6 has-text-right"},[e("h3",{class:"title is-4",translate:"yes"},"Default Country")],-1),Ro={class:"column is-6"},Fo={class:"control select"},qo=["value"],Oo={key:5,class:"columns"},Bo={class:"column is-4"},jo={class:"menu"},zo=e("p",{class:"menu-label",translate:"yes"},"Countries",-1),Ko={key:0,class:"column is-8"},Xo={class:"columns"},Jo={class:"column is-12"},Zo={class:"field countryName"},Go=e("label",{class:"label",translate:"yes"},"Name",-1),Ho={class:"control"},Wo=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),Qo={class:"columns"},Yo={class:"column is-6"},ea={class:"field countryCode"},sa=e("label",{class:"label",translate:"yes"},"Code",-1),ta={class:"control"},na=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code can't be empty")],-1),ia={class:"columns"},oa={class:"column is-6"},aa=e("hr",null,null,-1),la={class:"columns"},ca={class:"column is-8 has-text-centered"},ra={class:"button is-success",type:"submit"},da=e("span",{translate:"yes"},"Update Locals Settings",-1);function ua(n,s,i,o,t,a){var d,x,M,C,r,g,$,A,I,V,v,w;const m=U("font-awesome-icon"),f=U("sortable-menu");return n.$store.state.user.profile?(l(),c("div",fi,[bi,e("div",$i,[e("form",{onSubmit:s[23]||(s[23]=T((...h)=>a.changeLocalsSettings&&a.changeLocalsSettings(...h),["prevent"]))},[e("div",Di,[e("div",xi,[e("h3",Mi,[b("Languages "),e("button",{class:"button is-info is-pulled-right",onClick:s[0]||(s[0]=T(h=>a.addNew("langs"),["prevent"]))},[y(m,{icon:"plus"}),b(" \xA0 "),Ti])]),((d=t.locals)==null?void 0:d.langs)&&((x=t.locals)==null?void 0:x.lang)?(l(),c("div",Ci,[Li,e("div",Ni,[e("div",Ui,[u(e("select",{"onUpdate:modelValue":s[1]||(s[1]=h=>t.locals.lang=h)},[(l(!0),c(L,null,N(t.locals.langs,h=>(l(),c("option",{value:h.code},D(h.name),9,Pi))),256))],512),[[P,t.locals.lang]])])])])):p("",!0),(M=t.locals)!=null&&M.langs?(l(),c("div",ki,[e("div",Si,[e("aside",Ai,[Ii,y(f,{menuData:(C=t.locals)==null?void 0:C.langs,menuParams:{value:"code",name:"name"},onUpdated:s[2]||(s[2]=h=>a.menuUpdate("langs",h)),onAction:s[3]||(s[3]=h=>a.setActiveLang(h))},null,8,["menuData"])])]),t.activeLang!==null?(l(),c("div",Vi,[e("div",wi,[e("div",Ei,[e("div",Ri,[Fi,e("div",qi,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[4]||(s[4]=h=>t.locals.langs[t.activeLang].name=h),placeholder:"Name"},null,512),[[_,t.locals.langs[t.activeLang].name]])]),Oi])])]),e("div",Bi,[e("div",ji,[e("div",zi,[Ki,e("div",Xi,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[5]||(s[5]=h=>t.locals.langs[t.activeLang].code=h),placeholder:"Code"},null,512),[[_,t.locals.langs[t.activeLang].code]])]),Ji])]),e("div",Zi,[e("div",Gi,[Hi,e("div",Wi,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[6]||(s[6]=h=>t.locals.langs[t.activeLang].longCode=h),placeholder:"Code Long"},null,512),[[_,t.locals.langs[t.activeLang].longCode]])]),Qi])])]),e("div",Yi,[e("div",eo,[e("button",{class:"button is-danger",onClick:s[7]||(s[7]=T(h=>a.deleteRecord("langs","activeCurrency"),["prevent"])),translate:"yes"}," DELETE this Lang ("+D(t.locals.langs[t.activeLang].name)+") ",1)])])])):p("",!0)])):p("",!0),so,e("h3",to,[b("Currencies "),e("button",{class:"button is-info is-pulled-right",onClick:s[8]||(s[8]=T(h=>a.addNew("currencies"),["prevent"]))},[y(m,{icon:"plus"}),b(" \xA0 "),no])]),((r=t.locals)==null?void 0:r.currencies)&&((g=t.locals)==null?void 0:g.currency)?(l(),c("div",io,[oo,e("div",ao,[e("div",lo,[u(e("select",{"onUpdate:modelValue":s[9]||(s[9]=h=>t.locals.currency=h)},[(l(!0),c(L,null,N(t.locals.currencies,h=>(l(),c("option",{value:h.code},D(h.code),9,co))),256))],512),[[P,t.locals.currency]])])])])):p("",!0),($=t.locals)!=null&&$.currencies?(l(),c("div",ro,[e("div",uo,[e("aside",mo,[ho,y(f,{menuData:(A=t.locals)==null?void 0:A.currencies,menuParams:{value:"code",name:"code"},onUpdated:s[10]||(s[10]=h=>a.menuUpdate("currencies",h)),onAction:s[11]||(s[11]=h=>a.setActiveCurrency(h))},null,8,["menuData"])])]),t.activeCurrency!==null?(l(),c("div",_o,[e("div",vo,[e("div",po,[e("div",yo,[go,e("div",fo,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[12]||(s[12]=h=>t.locals.currencies[t.activeCurrency].code=h),placeholder:"Code"},null,512),[[_,t.locals.currencies[t.activeCurrency].code]])]),bo])])]),e("div",$o,[e("div",Do,[e("div",xo,[Mo,e("div",To,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[13]||(s[13]=h=>t.locals.currencies[t.activeCurrency].symbol=h),placeholder:"Symbol"},null,512),[[_,t.locals.currencies[t.activeCurrency].symbol]])]),Co])]),e("div",Lo,[e("div",No,[Uo,e("div",Po,[u(e("input",{class:"input",type:"number",step:"any",min:"0",required:"","onUpdate:modelValue":s[14]||(s[14]=h=>t.locals.currencies[t.activeCurrency].ratio=h),placeholder:"Ratio Long"},null,512),[[_,t.locals.currencies[t.activeCurrency].ratio]])]),ko])])]),e("div",So,[e("div",Ao,[e("button",{class:"button is-danger",onClick:s[15]||(s[15]=T(h=>a.deleteRecord("currencies","activeCurrency"),["prevent"])),translate:"yes"}," DELETE this currency ("+D(t.locals.currencies[t.activeCurrency].code)+") ",1)])])])):p("",!0)])):p("",!0),e("h3",Io,[b("Countries "),e("button",{class:"button is-info is-pulled-right",onClick:s[16]||(s[16]=T(h=>a.addNew("countries"),["prevent"]))},[y(m,{icon:"plus"}),b(" \xA0 "),Vo])]),((I=t.locals)==null?void 0:I.countries)&&((V=t.locals)==null?void 0:V.country)?(l(),c("div",wo,[Eo,e("div",Ro,[e("div",Fo,[u(e("select",{"onUpdate:modelValue":s[17]||(s[17]=h=>t.locals.country=h)},[(l(!0),c(L,null,N(t.locals.countries,h=>(l(),c("option",{value:h.code},D(h.name),9,qo))),256))],512),[[P,t.locals.country]])])])])):p("",!0),(v=t.locals)!=null&&v.countries?(l(),c("div",Oo,[e("div",Bo,[e("aside",jo,[zo,y(f,{menuData:(w=t.locals)==null?void 0:w.countries,menuParams:{value:"code",name:"name"},onUpdated:s[18]||(s[18]=h=>a.menuUpdate("countries",h)),onAction:s[19]||(s[19]=h=>a.setActiveCountry(h))},null,8,["menuData"])])]),t.activeCountry!==null?(l(),c("div",Ko,[e("div",Xo,[e("div",Jo,[e("div",Zo,[Go,e("div",Ho,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[20]||(s[20]=h=>t.locals.countries[t.activeCountry].name=h),placeholder:"Name"},null,512),[[_,t.locals.countries[t.activeCountry].name]])]),Wo])])]),e("div",Qo,[e("div",Yo,[e("div",ea,[sa,e("div",ta,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[21]||(s[21]=h=>t.locals.countries[t.activeCountry].code=h),placeholder:"Code"},null,512),[[_,t.locals.countries[t.activeCountry].code]])]),na])])]),e("div",ia,[e("div",oa,[e("button",{class:"button is-danger",onClick:s[22]||(s[22]=T(h=>a.deleteRecord("langs","activeCurrency"),["prevent"])),translate:"yes"}," DELETE this Country ("+D(t.locals.countries[t.activeCountry].name)+") ",1)])])])):p("",!0)])):p("",!0)])]),aa,e("div",la,[e("div",ca,[e("button",ra,[y(m,{icon:"check"}),b(" \xA0 "),da])])])],32)])])):p("",!0)}const q=S(gi,[["render",ua]]);const ma={name:"NavigationMain",data(){return{type:"main",activeNode:null,activeItem:null,activeId:null,activeNameLang:null,activeParamType:null,menudata:null,slugParamTypes:["null","url","params"]}},components:{Draggable:K},computed:{},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getMainNavigation()},methods:{getMainNavigation:function(){var s,i;const n=this;((s=this.$route.params)==null?void 0:s.type)&&this.$route.params.type.trim()!==""&&(this.type=(i=this.$route.params)==null?void 0:i.type),this.$httpc.post("settings",{type:"navigation-"+this.type}).then(function(o){if(o.data&&o.data.constructor===Object){const t=n.$helpers.fromNavToTree(o.data.main,n.$store.getters.getLanguage);n.menudata=t,n.activeNameLang=n.$store.state.language.code}}).catch(function(o){n.sendChangeRequest=!1,n.status="error",console.error("navigationMain error:",o)}).then(function(){})},outputTree:function(n){var i;let s=this.$helpers.fromTreeToNav((i=n==null?void 0:n.targetTree)==null?void 0:i.outputNestedData());s=JSON.parse(JSON.stringify(s)),s=this.$helpers.fromNavToTree({items:s},this.$store.getters.getLanguage),this.menudata=s},getDetail:function(n,s,i){var o,t;this.activeItem=null,this.activeParamType="null",n&&n.$id&&(this.activeId=n.$id,this.activeNode=n),n&&n.subdata&&n.subdata!==null&&(this.activeItem=n.subdata,this.activeItem.slugParams&&(((o=this.activeItem.slugParams)==null?void 0:o.constructor)===Object?this.activeParamType="params":((t=this.activeItem.slugParams)==null?void 0:t.constructor)===String&&(this.activeParamType="url")))},changeMainNavigation:function(){const n=[];let s=!0;const i=this;let o=i.$helpers.fromTreeToNav(i.menudata);o={main:{items:o}},this.$httpc.put("settings",{type:"navigation-main",data:o}).then(function(t){var a;if(t.data&&(t.data===!1?(s=!1,n.push({target:"username",action:"already exists"})):s=!0),s){const m=i.$helpers.fromNavToTree((a=t.data)==null?void 0:a.main,i.$store.getters.getLanguage);i.menudata=m}n.length&&console.error("changeMainNavigation() errorMsgs: ",n)}).catch(function(t){i.sendChangeRequest=!1,i.status="error",t.response.data&&t.response.data.errors&&i.$helpers.showFormFieldErrorsFromErrorResponse(t.response.data.errors)}).then(function(){})},updateParamKeyName(n,s,i){var o,t;if(n&&((o=i==null?void 0:i.target)==null?void 0:o.value)){const a=(t=i==null?void 0:i.target)==null?void 0:t.value;this.activeItem.slugParams[a]=s,delete this.activeItem.slugParams[n]}},addNewMenuItem(){var n,s;if(this.menudata){const i=new Date().toISOString().split(".")[0].replace(/\:/gm,"").replace(/\-/gm,"").replace("T","-");let o={};((s=(n=this.$store)==null?void 0:n.state.coredata)==null?void 0:s.langCodes)&&this.$store.state.coredata.langCodes.length>0&&this.$store.state.coredata.langCodes.forEach(a=>{o[a]={name:"New Item "+a.toUpperCase()+" - "+i}});let t=[...this.menudata];t.push({text:"New Item - "+i,subdata:{codename:"newitem-"+i,typeName:"--link",slugParams:"/",langs:o}}),this.menudata=t}},addNewSlugParam(){if(this.activeItem&&this.activeItem.slugParams){const n=this.activeItem.slugParams.length-1;this.activeItem.slugParams["param"+n]="value"+n}},updateNodeText(){var s;const n=this;if(this.activeItem.text=this.activeItem.langs[this.activeNameLang].name,(s=n.$refs)!=null&&s.draggableMenu){let i=n.$refs.draggableMenu.querySelector("[data-id="+n.activeId+"]");i&&(i.querySelector("span.text").textContent=this.activeItem.langs[this.activeNameLang].name)}this.checkForDuplicates()},checkForDuplicates(){if(this.activeItem){this.activeItem.codename,this.activeItem.langs[this.activeNameLang].name;let n=!1,s={},i={};const o=this.hasDuplicate(this.menudata,s,i);s=o.duplicateCount?o.duplicateCount:s,i=o.errors?o.errors:i,(o.duplicateCount.codename>=2||o.duplicateCount.name>=2)&&(n=!0),n?this.$helpers.showFormFieldErrorsFromErrorResponse(o.errors):this.$helpers.showFormFieldErrorsFromErrorResponse({name:null,codename:null})}},hasDuplicate(n,s,i){const o=this;return n&&n.constructor&&n.constructor===Array&&n.some(t=>{if(t.subdata.codename===this.activeItem.codename&&(s.codename&&s.codename>0?(s.codename++,i.codename="already-exists"):s.codename=1),t.subdata.langs[this.activeNameLang].name===this.activeItem.langs[this.activeNameLang].name&&(s.name&&s.name>0?(s.name++,i.name="already-exists"):s.name=1),t.children&&t.children.constructor&&t.children.constructor===Array){const a=o.hasDuplicate(t.children,s,i);s=a.duplicateCount?a.duplicateCount:s,i=a.errors?a.errors:i}}),console.debug("duplicateCount & errors:",s),{duplicateCount:s,errors:i}},deleteMenuItem(n,s){const i=this;if(n&&s&&confirm(`${i.$refs.deleteMenuItem.textContent} (${s.subdata.langs[this.activeNameLang].name})`)){i.activeNode=null,i.activeItem=null,i.activeId=null,i.activeNameLang=null,i.activeParamType=null,n.removeNode(s);let o=i.$helpers.fromTreeToNav(i.menudata);o=JSON.parse(JSON.stringify(o)),o=this.removeItemByCodename(o,s.subdata.codename),this.menudata=i.$helpers.fromNavToTree({items:o},i.$store.getters.getLanguage)}},removeItemByCodename(n,s){return n&&s&&n.forEach((i,o)=>{i={...i},i.subdata?n[o]=this.removeOrDive(i.subdata,s):n[o]=this.removeOrDive(i,s),n[o]===null&&n.splice(o,1)}),n},removeOrDive(n,s){let i=this;return n.items&&n.items.constructor===Array&&n.items.length&&(n.items=i.removeItemByCodename(n.items,s),(n.items===null||n.items.length<=0)&&delete n.items),n.codename&&n.codename===s&&(n=null),n}}},ha={key:0,id:"navigationMain",class:""},_a=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Navigation Main")])],-1),va={ref:"deleteMenuItem",class:"is-hidden",translate:"yes"},pa={class:"navigation-edit-form-wrapper"},ya={class:"columns"},ga={class:"column is-8 is-centered"},fa={class:"columns is-variable is-2 is-centered"},ba={ref:"draggableMenu",class:"column is-5 has-text-left"},$a=["onClick"],Da=e("span",{class:"holder"},"\uF054",-1),xa=["onClick"],Ma={key:1},Ta={class:"text"},Ca=["onClick"],La={class:"column is-7 has-text-left"},Na={class:"columns is-variable is-2 is-centered"},Ua={class:"column is-12"},Pa=e("span",{translate:"yes"},"Add New Menu Item",-1),ka={key:0},Sa=e("h3",{class:"title is-3 has-text-centered"},"Detail",-1),Aa={class:"columns is-variable is-2 is-centered"},Ia={class:"column is-12"},Va={class:"field codename"},wa=e("label",{class:"label",translate:"yes"},"Codename",-1),Ea={class:"control"},Ra=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Codename name can't be empty"),e("div",{class:"form-message","data-message":"already-exists",translate:"yes"},"This Codename already exists. Every item should have its onw unique Codename.")],-1),Fa={class:"columns is-variable is-2 is-centered"},qa={class:"column is-12"},Oa={class:"field typeName"},Ba=e("label",{class:"label",translate:"yes"},"Link Type",-1),ja={class:"control"},za=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Link Type can't be empty")],-1),Ka=e("hr",null,null,-1),Xa={class:"columns"},Ja={class:"column is-4"},Za={class:"field paramType"},Ga=e("label",{class:"label",translate:"yes"},"Link Params",-1),Ha={class:"control select"},Wa=["value"],Qa={key:0,class:"column is-8"},Ya=e("p",{class:"mt-5",translate:"yes"},"No slug params",-1),el=[Ya],sl={key:1,class:"column is-8"},tl={class:"field Type"},nl=e("label",{class:"label",translate:"yes"},"Slug URL",-1),il={class:"control"},ol=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Slug URL can't be empty")],-1),al={key:2,class:"column is-8 mt-5"},ll=e("span",{translate:"yes"},"Add Slug Param",-1),cl={key:0},rl={key:0},dl={class:"column is-5"},ul={class:"field paramName"},ml=e("label",{class:"label",translate:"yes"},"Param Name",-1),hl={class:"control"},_l=["value","onKeyup"],vl=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),pl={class:"column is-6"},yl={class:"field paramValue"},gl=e("label",{class:"label",translate:"yes"},"Param Value",-1),fl={class:"control"},bl=["onUpdate:modelValue"],$l=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Param Value can't be empty")],-1),Dl={class:"column is-1 mt-5"},xl=e("hr",null,null,-1),Ml={class:"columns"},Tl={class:"column is-4"},Cl={class:"field nameLang"},Ll=e("label",{class:"label",translate:"yes"},"Name Lang",-1),Nl={class:"control select"},Ul=["value"],Pl={class:"column is-8"},kl={key:0,class:"field name"},Sl=e("label",{class:"label",translate:"yes"},"Name",-1),Al={class:"control"},Il=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty"),e("div",{class:"form-message","data-message":"already-exists",translate:"yes"},"This Name already exists")],-1),Vl=e("hr",null,null,-1),wl={class:"columns"},El={class:"column is-8 has-text-centered"},Rl={class:"button is-success",type:"submit"},Fl=e("span",{translate:"yes"},"Update Main Navigation",-1);function ql(n,s,i,o,t,a){const m=U("font-awesome-icon"),f=U("Draggable");return t.menudata?(l(),c("div",ha,[_a,e("div",va,"Are you sure, you want to DELETE this item?",512),e("div",pa,[e("form",{onSubmit:s[10]||(s[10]=T((...d)=>a.changeMainNavigation&&a.changeMainNavigation(...d),["prevent"]))},[e("div",ya,[e("div",ga,[e("div",fa,[e("div",ba,[y(f,{virtualization:"",treeData:t.menudata,onDrop:a.outputTree},{default:k(({node:d,index:x,tree:M})=>[e("div",{onClick:T(C=>a.getDetail(d,x,M),["prevent"]),class:E(["tree-node-clickable",d.$id===t.activeId?"is-active":"is-inactive"])},[Da,d.$children.length>0?(l(),c("b",{key:0,onClick:C=>M.toggleFold(d)},D(d.$folded?"+":"-")+"\xA0",9,xa)):(l(),c("b",Ma,"\xA0 \xA0")),e("span",Ta,D(d.text),1),e("a",{href:"#",class:"delete is-pulled-right",onClick:T(C=>a.deleteMenuItem(M,d),["stop"])},[y(m,{icon:"trash"})],8,Ca)],10,$a)]),_:1},8,["treeData","onDrop"])],512),e("div",La,[e("div",Na,[e("div",Ua,[e("button",{class:"button is-info is-pulled-right",type:"button",onClick:s[0]||(s[0]=d=>a.addNewMenuItem())},[y(m,{icon:"plus"}),b(" \xA0 "),Pa])])]),t.activeItem?(l(),c("div",ka,[Sa,e("div",Aa,[e("div",Ia,[e("div",Va,[wa,e("div",Ea,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[1]||(s[1]=d=>t.activeItem.codename=d),placeholder:"Codename",onKeyup:s[2]||(s[2]=d=>a.checkForDuplicates())},null,544),[[_,t.activeItem.codename]])]),Ra])])]),e("div",Fa,[e("div",qa,[e("div",Oa,[Ba,e("div",ja,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[3]||(s[3]=d=>t.activeItem.typeName=d),placeholder:"Link Type"},null,512),[[_,t.activeItem.typeName]])]),za])])]),Ka,e("div",Xa,[e("div",Ja,[e("div",Za,[Ga,e("div",Ha,[u(e("select",{"onUpdate:modelValue":s[4]||(s[4]=d=>t.activeParamType=d)},[(l(!0),c(L,null,N(t.slugParamTypes,d=>(l(),c("option",{value:d},D(d),9,Wa))),256))],512),[[P,t.activeParamType]])])])]),t.activeParamType==="null"?(l(),c("div",Qa,el)):p("",!0),t.activeParamType==="url"?(l(),c("div",sl,[e("div",tl,[nl,e("div",il,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[5]||(s[5]=d=>t.activeItem.slugParams=d),placeholder:"Slug URL"},null,512),[[_,t.activeItem.slugParams]])]),ol])])):p("",!0),t.activeParamType==="params"?(l(),c("div",al,[e("button",{class:"button is-info is-pulled-right",onClick:s[6]||(s[6]=d=>a.addNewSlugParam())},[y(m,{icon:"plus"}),b(" \xA0 "),ll])])):p("",!0)]),t.activeParamType==="params"?(l(),c("div",cl,[t.activeItem.slugParams!==null&&t.activeItem.constructor===Object?(l(),c("div",rl,[(l(!0),c(L,null,N(t.activeItem.slugParams,(d,x)=>(l(),c("div",{class:"columns paramRow",key:x},[e("div",dl,[e("div",ul,[ml,e("div",hl,[e("input",{class:"input",type:"text",required:"",placeholder:"Name",value:x,onKeyup:T(M=>a.updateParamKeyName(x,d,M),["prevent"])},null,40,_l)]),vl])]),e("div",pl,[e("div",yl,[gl,e("div",fl,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":M=>t.activeItem.slugParams[x]=M,placeholder:"Param Value"},null,8,bl),[[_,t.activeItem.slugParams[x]]])]),$l])]),e("div",Dl,[y(m,{icon:"trash"})])]))),128))])):p("",!0)])):p("",!0),xl,e("div",Ml,[e("div",Tl,[e("div",Cl,[Ll,e("div",Nl,[u(e("select",{"onUpdate:modelValue":s[7]||(s[7]=d=>t.activeNameLang=d)},[(l(!0),c(L,null,N(n.$store.state.coredata.langs,d=>(l(),c("option",{value:d.code},D(d.name),9,Ul))),256))],512),[[P,t.activeNameLang]])])])]),e("div",Pl,[t.activeNameLang?(l(),c("div",kl,[Sl,e("div",Al,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[8]||(s[8]=d=>t.activeItem.langs[t.activeNameLang].name=d),onKeyup:s[9]||(s[9]=T(d=>a.updateNodeText(),["prevent"])),placeholder:"Name"},null,544),[[_,t.activeItem.langs[t.activeNameLang].name]])]),Il])):p("",!0)])])])):p("",!0)])])])]),Vl,e("div",wl,[e("div",El,[e("button",Rl,[y(m,{icon:"check"}),b(" \xA0 "),Fl])])])],32)])])):p("",!0)}const O=S(ma,[["render",ql]]);const Ol={name:"Translates",data(){return{dictionary:null}},computed:{},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getDictionary(),window.addEventListener("jamlin-editor-dictionary-get-response",n=>{this.sendDictionary(n==null?void 0:n.detail)})},methods:{getDictionary:function(){const n=this;this.$httpc.get("coredata/translation",{params:{full:!0}}).then(function(s){s.data&&s.data.constructor===Object&&(n.dictionary=s.data)}).catch(function(s){n.sendChangeRequest=!1,n.status="error",console.error("translates getDictionary() error:",s)}).then(function(){n.dictionary&&window.dispatchEvent(new CustomEvent("jamlin-editor-dictionary-set",{detail:n.dictionary}))})},saveDictionary(){window.dispatchEvent(new CustomEvent("jamlin-editor-dictionary-get"))},sendDictionary:function(n){n&&this.$httpc.put("coredata/translation",{dictionary:n}).then(function(s){console.debug("translates setDictionary response: ",s)}).catch(function(s){console.error("translates setDictionary error: ",s)}).then(function(){})}}},Bl={key:0,id:"translates",class:""},jl=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Translates")])],-1),zl={class:"columns"},Kl={class:"column is-centered"},Xl={class:"columns"},Jl={class:"column has-text-centered"},Zl=e("span",{translate:"yes"},"Update Translates",-1);function Gl(n,s,i,o,t,a){var d,x,M,C,r;const m=U("jamlin-editor-component"),f=U("font-awesome-icon");return(r=(C=(M=(x=(d=n.$store)==null?void 0:d.state)==null?void 0:x.coredata)==null?void 0:M.settings)==null?void 0:C.editableSettings)!=null&&r.translates?(l(),c("div",Bl,[jl,e("div",zl,[e("div",Kl,[y(m,{splash:"false",style:{height:"500px",display:"block",position:"relative"}})])]),e("div",Xl,[e("div",Jl,[e("button",{class:"button is-success",type:"submit",onClick:s[0]||(s[0]=T(g=>a.saveDictionary(),["prevent"]))},[y(f,{icon:"check"}),b(" \xA0 "),Zl])])])])):p("",!0)}const B=S(Ol,[["render",Gl]]);const Hl={name:"Users",data(){return{activeDeliveryAddressIndex:0,activeDeliveryAddress:{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""},deliveryFilter:""}},computed:{userDeliveryAddress:function(){const n=this.$store.getters.getUserProfile.addressesDelivery;let s=[];if(n&&n.length>0&&(s=n,this.deliveryFilter.toString().trim()!=="")){const i=this.deliveryFilter.toString().trim().toLowerCase(),o=[];n.forEach((t,a)=>{let m=!1;for(var f in t)Object.prototype.hasOwnProperty.call(t,f)&&t[f].toString().trim().toLowerCase().indexOf(i)>-1&&(m=!0);m&&o.push(t)}),o.length>0&&(s=o)}return s}},mounted:function(){this.getUserDetail(0),this.eventBus.emit("translateContent",this.$store.getters.getTranslates)},methods:{getUserDetail:function(n,s){let i=typeof n<"u"&&n>-1?n:null;if(i===null&&(i=0),this.activeDeliveryAddressIndex=i,this.activeDeliveryAddress=this.userDeliveryAddress[i],typeof this.activeDeliveryAddress>"u"||!this.activeDeliveryAddress){const o=this.$store.state.user.profile.addressesDelivery[i];typeof o<"u"&&(this.activeDeliveryAddress=o)}s?this.markActiveUser(s.target.parentNode):this.markActiveUser()},addNewUser:function(){const n=this;this.$store.dispatch("addNewUser",{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""}).then(()=>{n.getUserDetail(),n.$forceUpdate()}),this.$forceUpdate()},removeDeliveryAddress:function(n){const s=this;this.$store.dispatch("removeDeliveryAddress",n).then(()=>{s.activeDeliveryAddressIndex=0,s.$forceUpdate(),s.saveUserDetail()})},saveUserDetail:function(){if(this.$helpers.verifyAddress(this.activeDeliveryAddress)){const n=[],s=this.$store.getters.getUserProfile;if(n.push(s.addressInvoice),s.addressesDelivery.length>0)for(let i=0;i<s.addressesDelivery.length;i++)n.push(s.addressesDelivery[i]);this.$store.dispatch("updateUser",{addresses:n})}},markActiveUser:function(n){const s=typeof n<"u"&&n?n:null;this.activeDeliveryAddressIndex=0,this.$store.state.user.profile&&this.$store.state.user.profile.addressesDelivery.length>1&&(this.activeDeliveryAddressIndex=this.$store.state.user.profile.addressesDelivery.length-1);const i=this.$el.querySelectorAll(".settings #users nav.user-settings-delivery-nav .panel-block.special--right-action");i&&i.length&&i.forEach(o=>{o.classList.remove("is-active")}),s?s.classList.add("is-active"):i&&i.length>0&&i[0].classList.add("is-active")}}},Wl={key:0,id:"users",class:""},Ql=e("div",{class:"columns is-variable"},[e("div",{class:"column is-8"},[e("h2",{class:"title is-2 has-text-centered",translate:"yes"},"Users")])],-1),Yl={class:"columns"},ec={key:0,class:"column is-8"},sc={class:"deliveryAddressWrapper"},tc={class:"columns is-variable is-2"},nc={class:"column is-6"},ic={class:"field nameFirst"},oc=e("label",{class:"label",translate:"yes"},"First Name",-1),ac={class:"control"},lc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),cc={class:"column is-6"},rc={class:"field nameLast"},dc=e("label",{class:"label",translate:"yes"},"Last Name",-1),uc={class:"control"},mc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),hc={class:"columns is-variable is-2"},_c={class:"column is-12"},vc={class:"field street"},pc=e("label",{class:"label",translate:"yes"},"Street",-1),yc={class:"control"},gc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),fc={class:"columns is-variable is-2"},bc={class:"column is-12"},$c={class:"field street2"},Dc=e("label",{class:"label",translate:"yes"},"Street 2",-1),xc={class:"control"},Mc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Tc={class:"columns is-variable is-2"},Cc={class:"column is-4"},Lc={class:"field zip"},Nc=e("label",{class:"label",translate:"yes"},"ZIP",-1),Uc={class:"control"},Pc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),kc={class:"column is-8"},Sc={class:"field city"},Ac=e("label",{class:"label",translate:"yes"},"City",-1),Ic={class:"control"},Vc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),wc={class:"columns is-variable is-2"},Ec={class:"column is-6"},Rc={class:"field state"},Fc=e("label",{class:"label",translate:"yes"},"State",-1),qc={class:"control"},Oc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Bc={class:"column is-6"},jc={class:"field country"},zc=e("label",{class:"label",translate:"yes"},"Country",-1),Kc={class:"control select"},Xc=["value"],Jc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Zc={class:"columns is-variable is-2 is-centered"},Gc={class:"column is-6"},Hc={class:"field phone"},Wc=e("label",{class:"label",translate:"yes"},"Phone",-1),Qc={class:"control"},Yc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),er={class:"columns is-variable is-2 is-centered"},sr={class:"column is-6 has-text-centered"},tr={type:"submit",class:"button is-success"},nr=e("span",{translate:"yes"},"Address",-1),ir={class:"column is-4"},or={class:"panel user-settings-delivery-nav"},ar=e("p",{class:"panel-heading",translate:"yes"}," Accounts ",-1),lr={class:"panel-block"},cr={class:"control has-icons-left"},rr=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-search","aria-hidden":"true"})],-1),dr={class:"panel-block special--right-action"},ur=["onClick"],mr=["onClick"],hr={class:"panel-block"},_r=e("span",{translate:"yes"},"Add New Delivery Address",-1);function vr(n,s,i,o,t,a){var f,d,x,M,C;const m=U("font-awesome-icon");return(C=(M=(x=(d=(f=n.$store)==null?void 0:f.state)==null?void 0:d.coredata)==null?void 0:x.settings)==null?void 0:M.editableSettings)!=null&&C.users?(l(),c("div",Wl,[Ql,e("div",Yl,[t.activeDeliveryAddress?(l(),c("div",ec,[e("form",{onSubmit:s[9]||(s[9]=T((...r)=>a.saveUserDetail&&a.saveUserDetail(...r),["prevent"]))},[e("div",sc,[e("div",tc,[e("div",nc,[e("div",ic,[oc,e("div",ac,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>t.activeDeliveryAddress.nameFirst=r),translate:"yes",placeholder:"First Name"},null,512),[[_,t.activeDeliveryAddress.nameFirst]])]),lc])]),e("div",cc,[e("div",rc,[dc,e("div",uc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>t.activeDeliveryAddress.nameLast=r),translate:"yes",placeholder:"Last Name"},null,512),[[_,t.activeDeliveryAddress.nameLast]])]),mc])])]),e("div",hc,[e("div",_c,[e("div",vc,[pc,e("div",yc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>t.activeDeliveryAddress.street=r),translate:"yes",placeholder:"Street"},null,512),[[_,t.activeDeliveryAddress.street]])]),gc])])]),e("div",fc,[e("div",bc,[e("div",$c,[Dc,e("div",xc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[3]||(s[3]=r=>t.activeDeliveryAddress.street2=r),translate:"yes",placeholder:"Street 2"},null,512),[[_,t.activeDeliveryAddress.street2]])]),Mc])])]),e("div",Tc,[e("div",Cc,[e("div",Lc,[Nc,e("div",Uc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[4]||(s[4]=r=>t.activeDeliveryAddress.zip=r),translate:"yes",placeholder:"ZIP"},null,512),[[_,t.activeDeliveryAddress.zip]])]),Pc])]),e("div",kc,[e("div",Sc,[Ac,e("div",Ic,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[5]||(s[5]=r=>t.activeDeliveryAddress.city=r),translate:"yes",placeholder:"City"},null,512),[[_,t.activeDeliveryAddress.city]])]),Vc])])]),e("div",wc,[e("div",Ec,[e("div",Rc,[Fc,e("div",qc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[6]||(s[6]=r=>t.activeDeliveryAddress.state=r),translate:"yes",placeholder:"State"},null,512),[[_,t.activeDeliveryAddress.state]])]),Oc])]),e("div",Bc,[e("div",jc,[zc,e("div",Kc,[n.$store.state.coredata&&n.$store.state.coredata.countries?u((l(),c("select",{key:0,"onUpdate:modelValue":s[7]||(s[7]=r=>t.activeDeliveryAddress.country=r)},[(l(!0),c(L,null,N(n.$store.state.coredata.countries,r=>(l(),c("option",{value:r.code,key:r.code},D(r.name),9,Xc))),128))],512)),[[P,t.activeDeliveryAddress.country]]):p("",!0)]),Jc])])]),e("div",Zc,[e("div",Gc,[e("div",Hc,[Wc,e("div",Qc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[8]||(s[8]=r=>t.activeDeliveryAddress.phone=r),translate:"yes",placeholder:"Phone"},null,512),[[_,t.activeDeliveryAddress.phone]])]),Yc])])]),e("div",er,[e("div",sr,[e("button",tr,[y(m,{icon:"check"}),b(" \xA0 "),nr])])])])],32)])):p("",!0),e("div",ir,[e("nav",or,[ar,e("div",null,[e("div",lr,[e("p",cr,[u(e("input",{class:"input is-small",type:"text","onUpdate:modelValue":s[10]||(s[10]=r=>t.deliveryFilter=r),placeholder:"search"},null,512),[[_,t.deliveryFilter]]),rr])]),(l(!0),c(L,null,N(a.userDeliveryAddress,(r,g)=>(l(),c("div",{key:g},[e("div",dr,[e("a",{class:"user-delivery--get",onClick:$=>a.getUserDetail(g,$)},D(r.street)+", "+D(r.zip),9,ur),e("a",{class:"user-delivery--delete",onClick:$=>a.removeDeliveryAddress(g)},[y(m,{icon:"trash"})],8,mr)])]))),128))]),e("div",hr,[e("button",{class:"button is-primary is-outlined is-fullwidth",onClick:s[11]||(s[11]=r=>a.addNewUser())},[y(m,{icon:"plus"}),b(" \xA0 "),_r])])])])])])):p("",!0)}const j=S(Hl,[["render",vr]]),pr={name:"Settings",components:{SettingsBusiness:R,SettingsOrders:F,SettingsLocals:q,NavigationMain:O,Translates:B,Users:j},data(){return{activeComponent:R,menuStates:{Settings:!0,SettingsOrders:!1,SettingsLocals:!1,NavigationMain:!1,Translates:!1,Users:!1},availablePaths:{orders:F,locals:q,nav:O,trans:B,users:j}}},computed:{canEditCoreSettings:function(){var n,s,i,o,t,a,m,f,d;return!!(((s=(n=this.$store.state)==null?void 0:n.coredata)==null?void 0:s.langs)&&((t=(o=(i=this.$store.state)==null?void 0:i.user)==null?void 0:o.profile)==null?void 0:t.type)=="admin"&&((d=(f=(m=(a=this.$store.state)==null?void 0:a.coredata)==null?void 0:m.settings)==null?void 0:f.editableSettings)==null?void 0:d.core)===!0)},canEditUsersSettings:function(){var n,s,i,o,t,a,m,f,d;return!!(((s=(n=this.$store.state)==null?void 0:n.coredata)==null?void 0:s.langs)&&((t=(o=(i=this.$store.state)==null?void 0:i.user)==null?void 0:o.profile)==null?void 0:t.type)=="admin"&&((d=(f=(m=(a=this.$store.state)==null?void 0:a.coredata)==null?void 0:m.settings)==null?void 0:f.editableSettings)==null?void 0:d.users)===!0)},canEditTranslates:function(){var n,s,i,o,t,a,m,f,d;return!!(((s=(n=this.$store.state)==null?void 0:n.coredata)==null?void 0:s.langs)&&((t=(o=(i=this.$store.state)==null?void 0:i.user)==null?void 0:o.profile)==null?void 0:t.type)=="admin"&&((d=(f=(m=(a=this.$store.state)==null?void 0:a.coredata)==null?void 0:m.settings)==null?void 0:f.editableSettings)==null?void 0:d.translates)===!0)},isLogged:function(){return typeof this.$store<"u"&&typeof this.$store.state.user.logged<"u"?this.$store.state.user.logged:!1}},created:function(){let n=this.$route.path.split("/");n=n.filter(function(s){return s!==""}),n.length>2&&typeof this.availablePaths[n[2]]<"u"&&(this.activeComponent=this.availablePaths[n[2]])},methods:{userComponent:function(n,s){this.$options.components&&this.$options.components[n]&&(this.activeComponent=this.$options.components[n]);const i=this.$el.querySelectorAll(".users-me nav.user-settings-nav a.panel-block");i&&i.length&&i.forEach(o=>{o.classList.remove("is-active")}),s.target.classList.add("is-active")}}},yr={class:"container settings"},gr={key:0},fr={class:"columns is-variable has-text-left"},br={class:"column is-3 pr-6"},$r={class:"mt-6 user-settings-nav"},Dr={class:"menu"},xr=e("p",{class:"menu-label",translate:"yes"}," Site Settings ",-1),Mr={class:"menu-list"},Tr={key:0},Cr={key:1},Lr={key:2},Nr={key:3},Ur={key:4},Pr={key:5},kr={class:"column is-9"},Sr=e("h1",{class:"title is-1 has-text-weight-normal",translate:"yes"},"Settings",-1),Ar={key:1},Ir={class:"columns"},Vr={class:"column"},wr=e("h1",{class:"title is-1",translate:"yes"},"Unauthorized",-1),Er=e("span",{translate:"yes"},"It may help if you",-1);function Rr(n,s,i,o,t,a){const m=U("router-link");return l(),c("div",yr,[a.isLogged?(l(),c("div",gr,[e("div",fr,[e("div",br,[e("nav",$r,[e("aside",Dr,[xr,e("ul",Mr,[a.canEditCoreSettings?(l(),c("li",Tr,[y(m,{to:{name:"settings"},tag:"a","active-class":"is-active",translate:"yes",exact:""},{default:k(()=>[b("Business")]),_:1})])):p("",!0),a.canEditCoreSettings?(l(),c("li",Cr,[y(m,{to:{name:"settingsOrders"},tag:"a","active-class":"is-active",translate:"yes"},{default:k(()=>[b("Order")]),_:1})])):p("",!0),a.canEditCoreSettings?(l(),c("li",Lr,[y(m,{to:{name:"SettingsLocals"},tag:"a","active-class":"is-active",translate:"yes"},{default:k(()=>[b("Locals")]),_:1})])):p("",!0),a.canEditCoreSettings?(l(),c("li",Nr,[y(m,{to:{name:"NavigationMain",params:{type:"main"}},tag:"a","active-class":"is-active",translate:"yes"},{default:k(()=>[b("Navigation Main")]),_:1})])):p("",!0),a.canEditCoreSettings?(l(),c("li",Ur,[y(m,{to:{name:"NavigationMain",params:{type:"footer"}},tag:"a","active-class":"is-active",translate:"yes"},{default:k(()=>[b("Navigation Footer")]),_:1})])):p("",!0),a.canEditCoreSettings&&a.canEditTranslates?(l(),c("li",Pr,[y(m,{to:{name:"Translates"},tag:"a","active-class":"is-active",translate:"yes"},{default:k(()=>[b("Translates")]),_:1})])):p("",!0)])])])]),e("div",kr,[Sr,(l(),X(J(t.activeComponent)))])])])):(l(),c("div",Ar,[e("div",Ir,[e("div",Vr,[wr,e("p",null,[Er,b("\xA0"),y(m,{to:{name:"login"},tag:"a",translate:"yes"},{default:k(()=>[b("log in")]),_:1})])])])]))])}const Br=S(pr,[["render",Rr]]);export{Br as default};
