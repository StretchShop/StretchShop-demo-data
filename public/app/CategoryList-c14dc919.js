import{_ as k,A as F,P as I,a as U,E}from"./index-278cccc9.js";import{G as b,I as L,o as c,c as u,a,f as x,t as m,h as d,L as N,S as $,r as P,b as p,e as T,w as D,F as C,d as M,j as O}from"./sett-4d48a041.js";import"./edit-e2caae93.js";const w={data(){return{eventTimeoutId:null,tempFilter:{page:1,minMaxPrice:{min:0,max:0},stringFilter:"",sort:this.getDefaultSorting()},introMinMaxPrice:{min:null,max:null}}},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates)},props:["filter","categoryMinMaxPrice","categoryType"],computed:{filterPriceMin:function(){return this.tempFilter.minMaxPrice.min!==0?this.tempFilter.minMaxPrice.min:this.categoryPriceMin},filterPriceMax:function(){return this.tempFilter.minMaxPrice.max!==0?this.tempFilter.minMaxPrice.max:this.categoryPriceMax},categoryPriceMin:function(){return typeof this.categoryMinMaxPrice<"u"&&this.categoryMinMaxPrice.min<this.categoryMinMaxPrice.max?this.categoryMinMaxPrice.min:0},categoryPriceMax:function(){return typeof this.categoryMinMaxPrice<"u"&&this.categoryMinMaxPrice.max>this.categoryMinMaxPrice.min?this.categoryMinMaxPrice.max:0},filteredCount:function(){return typeof this.$parent<"u"?this.$parent.getCategoryFilteredCount():0},categoryTotalCount:function(){return typeof this.$parent<"u"&&typeof this.$parent.categoryDetail<"u"&&this.$parent.categoryDetail&&this.$parent.categoryDetail.count&&this.$parent.categoryDetail.count>0?this.$parent.categoryDetail.count:0},countsDoNotMatch:function(){return this.filteredCount>0&&this.filteredCount!==this.categoryTotalCount}},methods:{stringFilterChange:function(t){const e=t.target;this.$parent.filter.stringFilter=e.value,this.requestFilteredProductList()},priceSliderChange:function(t){const e=typeof t.forceValue<"u"?t.forceValue:null,s=t.target;let n=s.getAttribute("position"),i="",r=0,o=null;n==="left"?(i="right",r=-1,o=s.parentNode.querySelector("input[type=range][position="+i+"]"),s.value=Math.min(s.value,parseInt(o.value)+r)):(n="right",i="left",r=1,o=s.parentNode.querySelector("input[type=range][position="+i+"]"),s.value=Math.max(s.value,parseInt(o.value)+r));let l=null;const g=this.$parent.getCategoryMinMax();e!==null?(s.min===0&&typeof g.min<"u"&&(s.min=g.min),s.max===0&&typeof g.max<"u"&&(s.max=g.max),l=100/(parseInt(s.max)-parseInt(s.min))*parseInt(e)-100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.min),s.value=e):(s.value===0&&(n==="left"&&g&&(s.value=g.min),n==="right"&&g&&(s.value=g.max)),l=100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.value)-100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.min));const h=s.parentNode.querySelector(".slider-range-controls");n==="left"?(h.querySelector("[inverse-"+n+"]").style.width=l+"%",h.querySelector("[range]").style.left=l+"%"):(h.querySelector("[inverse-"+n+"]").style.width=100-l+"%",h.querySelector("[range]").style.right=100-l+"%"),h.querySelector("[thumb="+n+"]").style.left=l+"%",h.querySelector("[sign="+n+"]").style.left=l+"%",s.value===0?(n==="right"&&typeof g.max<"u"&&g.max>0&&(h.querySelector("[sign="+n+"] .value").innerText=g.max),n==="left"&&typeof g.min<"u"&&g.min>0&&(h.querySelector("[sign="+n+"] .value").innerText=g.min)):h.querySelector("[sign="+n+"] .value").innerText=s.value;const v={};n==="left"?(v.min=s.value,v.max=o.value):(v.min=o.value,v.max=s.value),this.tempFilter.minMaxPrice=v,e===null&&this.$parent.introLoading===!1&&this.requestFilteredProductList()},requestFilteredProductList(){const t=this;t.$root.loadingShow(),clearTimeout(this.eventTimeoutId),this.eventTimeoutId=setTimeout(function(){t.$httpc.post(t.getCategoryType()+"/filter",t.buildFilterRequestObject(),{timeout:7e3}).then(function(e){const s=t.$parent.categoryDetail;e.data={categories:t.$parent.categories,categoryDetail:s,filter:e.data.filter,results:e.data.results,filteredProductsCount:e.data.filteredProductsCount},t.changeFilterUrl(),t.$parent.processCategoryResponse(e)}).catch(function(e){console.error(e)})},1e3)},buildFilterRequestObject(t){let e=this.tempFilter;typeof t<"u"&&t&&(e=t);let s=null;if(typeof this.$parent.categoryDetail<"u"&&this.$parent.categoryDetail){e.category={_id:this.$parent.categoryDetail._id,pathSlug:this.$parent.categoryDetail.pathSlug,subsSlugs:this.$parent.categoryDetail.subsSlugs};const o=e.category.subsSlugs;o.unshift(e.category.pathSlug),s={$in:o}}const n={query:{categories:s},limit:this.$parent.filter.limit,sort:e.sort};if(e.page>1){const o=Math.abs(e.page-1)*this.$parent.filter.limit;o>0&&(n.offset=o)}if(e.stringFilter&&e.stringFilter.trim()!==""){let o=[],l={};l["name."+this.$store.state.language.code]={$regex:e.stringFilter},o.push(l),this.getCategoryType()==="products"&&o.push({orderCode:{$regex:e.stringFilter}}),n.query={$or:o}}const i=typeof e.minMaxPrice<"u"&&typeof e.minMaxPrice.min<"u"?e.minMaxPrice.min:0,r=typeof e.minMaxPrice<"u"&&typeof e.minMaxPrice.max<"u"?e.minMaxPrice.max:0;return(i>this.categoryPriceMin||r<this.categoryPriceMax)&&i!==r&&r>0&&(n.query.price={$gte:parseFloat(i),$lte:parseFloat(r)}),n},changeFilterUrl(){const t=this.filterObjectToQueryString();t!==""&&history.pushState({},null,t)},filterObjectToQueryString(){const t=[];let e="";return this.tempFilter.page>1&&t.push("page="+encodeURIComponent(parseInt(this.tempFilter.page))),this.tempFilter.minMaxPrice.min>this.categoryPriceMin&&t.push("price-min="+encodeURIComponent(this.tempFilter.minMaxPrice.min)),this.tempFilter.minMaxPrice.max<this.categoryPriceMax&&t.push("price-max="+encodeURIComponent(this.tempFilter.minMaxPrice.max)),this.tempFilter.stringFilter.trim()!==""&&t.push("string="+encodeURIComponent(this.tempFilter.stringFilter.trim())),this.tempFilter.sort.trim()!==""&&this.tempFilter.sort!==this.filter.sort&&t.push("sort="+encodeURIComponent(this.tempFilter.sort.trim())),t.length>0&&(e=this.$route.path+"?"+t.join("&")),e},setActivePage(t){this.tempFilter.page=t,this.requestFilteredProductList()},changeSorting(t){this.tempFilter.sort=t.target.value,this.requestFilteredProductList()},setTempFilter(t){const e=this;let s=!1;const n={target:this.$refs.sliderRangeLeft},i={target:this.$refs.sliderRangeRight};Object.keys(t).forEach(function(r){typeof e.tempFilter[r]<"u"&&(e.tempFilter[r]=t[r],r==="minMaxPrice"&&(n.forceValue=e.tempFilter.minMaxPrice.min,i.forceValue=e.tempFilter.minMaxPrice.max,s=!0))}),s&&(this.priceSliderChange(n),this.priceSliderChange(i))},getCategoryType(){return this.categoryType?this.categoryType:"products"},getDefaultSorting(){return this.getCategoryType()==="pages"?F.PRODUCT_DEFAULT_SORTING:F.PAGE_DEFAULT_SORTING}}},B={class:"mt-6"},j={class:"menu"},A=a("p",{class:"menu-label filter",translate:"yes"}," Filter ",-1),V={class:"menu-list"},G={class:"control has-text-centered is-size-7"},z={key:0},H=a("span",{id:"products-filter-count-filtered",translate:"yes"},"Filtered",-1),Q=a("span",{id:"products-filter-count-total",translate:"yes"},"Total",-1),W={class:"panel-block pb-4"},K={class:"control has-icons-left"},J=a("span",{class:"icon is-small is-left"},[a("i",{class:"fas fa-search","aria-hidden":"true"})],-1),X={class:"panel-block py-4"},Y={class:"panel-block-multiwrapper"},Z=a("div",null,[a("label",{class:"label",id:"filter_price",translate:"yes"},"Price")],-1),ee={slider:"",class:"slider-range"},te={class:"slider-range-controls"},ie=a("div",{"inverse-left":"",style:{width:"0%"}},null,-1),re=a("div",{"inverse-right":"",style:{width:"0%"}},null,-1),ae=a("div",{range:"",style:{left:"0%",right:"0%"}},null,-1),se=a("span",{thumb:"left",style:{left:"0%"}},null,-1),oe=a("span",{thumb:"right",style:{left:"100%"}},null,-1),ne={sign:"left",style:{left:"0%"}},le={class:"value"},ce={sign:"right",style:{left:"100%"}},ue={class:"value"},ge=["value","max","min"],de=["value","max","min"],pe={key:0,class:"panel-block py-4"},he={class:"panel-block-multiwrapper"},fe=a("div",null,[a("label",{class:"label"},[a("span",{id:"filter_sortby",translate:"yes"},"Sort by"),x(":")])],-1),ye={class:"control has-text-centered"},me={class:"select is-small is-centered"},_e=a("option",{value:"price"},"Price Ascending",-1),ve=a("option",{value:"-price"},"Price Descending",-1),Pe=a("option",{value:"-dates.dateCreated"},"Latest",-1),xe=a("option",{value:"stockAmount"},"On Stock Amount",-1),De=[_e,ve,Pe,xe],Ce={key:1,class:"panel-block py-4"},Me={class:"panel-block-multiwrapper"},Fe=a("div",null,[a("label",{class:"label"},[a("span",{translate:"yes"},"Sort by"),x(":")])],-1),be={class:"control has-text-centered"},Te={class:"select is-small is-centered"},Se=a("option",{value:"-dates.dateCreated"},"Latest",-1),ke=a("option",{value:"dates.dateCreated"},"Oldest",-1),Le=[Se,ke];function $e(t,e,s,n,i,r){return b((c(),u("nav",B,[a("aside",j,[A,a("ul",V,[a("li",null,[a("p",G,[r.countsDoNotMatch?(c(),u("span",z,[H,x(": "),a("span",null,m(r.filteredCount),1),x(" / ")])):d("v-if",!0),Q,x(": "),a("span",null,m(r.categoryTotalCount),1)])]),a("li",W,[a("p",K,[b(a("input",{class:"input is-small",type:"text",translate:"yes",placeholder:"search","onUpdate:modelValue":e[0]||(e[0]=o=>i.tempFilter.stringFilter=o),onKeyup:e[1]||(e[1]=(...o)=>r.stringFilterChange&&r.stringFilterChange(...o))},null,544),[[N,i.tempFilter.stringFilter,void 0,{trim:!0}]]),J])]),b(a("li",X,[a("div",Y,[Z,a("div",ee,[a("div",te,[ie,re,ae,se,oe,a("div",ne,[a("span",le,m(r.categoryPriceMin),1)]),a("div",ce,[a("span",ue,m(r.categoryPriceMax),1)])]),a("input",{ref:"sliderRangeLeft",type:"range",position:"left",tabindex:"0",value:r.filterPriceMin,max:r.categoryPriceMax,min:r.categoryPriceMin,step:"1",onInput:e[2]||(e[2]=(...o)=>r.priceSliderChange&&r.priceSliderChange(...o))},null,40,ge),a("input",{ref:"sliderRangeRight",type:"range",position:"right",tabindex:"0",value:r.filterPriceMax,max:r.categoryPriceMax,min:r.categoryPriceMin,step:"1",onInput:e[3]||(e[3]=(...o)=>r.priceSliderChange&&r.priceSliderChange(...o))},null,40,de)])])],512),[[L,s.categoryType=="products"]]),s.categoryType=="products"?(c(),u("li",pe,[a("div",he,[fe,a("div",null,[a("div",ye,[a("div",me,[b(a("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>i.tempFilter.sort=o),onChange:e[5]||(e[5]=(...o)=>r.changeSorting&&r.changeSorting(...o))},De,544),[[$,i.tempFilter.sort]])])])])])])):d("v-if",!0),s.categoryType=="pages"?(c(),u("li",Ce,[a("div",Me,[Fe,a("div",null,[a("div",be,[a("div",Te,[b(a("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>i.tempFilter.sort=o),onChange:e[7]||(e[7]=(...o)=>r.changeSorting&&r.changeSorting(...o))},Le,544),[[$,i.tempFilter.sort]])])])])])])):d("v-if",!0)])])],512)),[[L,r.categoryTotalCount>0]])}const qe=k(w,[["render",$e],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/products/CategoryFilter.vue"]]),Re={data(){return{order:"centered",size:"",isSimple:!1,isRounded:!0,activeThis:null}},props:{bottom:Boolean,active:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0}},mounted:function(){this.activeThis=this.active},methods:{pagingChanged:function(t){console.log("pagingChanged value: ",t),this.activeThis=t,this.$parent.$refs.categoryFilter.setActivePage(t)},loadMore:function(){let t=this.perPage+F.PER_PAGE;this.$parent.filter.limit=t,this.$parent.$refs.categoryFilter.requestFilteredProductList()}}},Ie={key:0},Ue={key:0};function Ee(t,e,s,n,i,r){const o=P("o-pagination");return s.total>s.perPage?(c(),u("section",Ie,[p(o,{total:s.total,current:i.activeThis,"onUpdate:current":e[0]||(e[0]=l=>i.activeThis=l),order:i.order,size:i.size,simple:i.isSimple,rounded:i.isRounded,"per-page":s.perPage,onChange:r.pagingChanged,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page",iconPack:"fas",iconNext:"angle-right",iconPrev:"angle-left"},null,8,["total","current","order","size","simple","rounded","per-page","onChange"]),s.bottom==!0?(c(),u("div",Ue,[a("button",{class:"button",onClick:e[1]||(e[1]=l=>r.loadMore())},"Load More ...")])):d("v-if",!0)])):d("v-if",!0)}const Ne=k(Re,[["render",Ee],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/products/CategoryPaging.vue"]]);const Oe={name:"CategoryList",components:{"product-box":I,"category-filter":qe,"category-paging":Ne,"page-detail-content":U,"error-page":E},data(){return{categories:[],filteredProductsCount:null,products:[],page:null,itemsToListType:"products",breadcrumbs:[],categoryDetail:null,filter:{minMaxPrice:{min:0,max:0},stringFilter:"",limit:F.PER_PAGE,sort:F.PRODUCT_DEFAULT_SORTING},language:"en",groupsLastRefresh:0,introLoading:!1}},computed:{getCategoryType:function(){return this.categoryDetail&&this.categoryDetail.type?this.categoryDetail.type:"products"},categoryMinMax:function(){return this.categoryDetail&&typeof this.categoryDetail.minMaxPrice<"u"?this.categoryDetail.minMaxPrice:{min:null,max:null}},categoryBackground:function(){return!!(this.categoryDetail&&this.categoryDetail.data&&this.categoryDetail.data.images&&this.categoryDetail.data.images.background)},categoryProductsTotalForPaging:function(){return typeof this.filteredProductsCount<"u"&&this.filteredProductsCount!==null?this.filteredProductsCount:typeof this.categoryDetail.count<"u"&&this.categoryDetail.count?this.categoryDetail.count:0},userCanEdit:function(){return!!(this.$store.state&&this.$store.state.user&&this.$store.state.user.logged&&this.$store.state.user.profile&&this.$store.state.user.profile.type&&this.$store.state.user.profile.type==="admin")},categoryTypePageContent:function(){return this.page&&this.page.data&&this.page.data.blocks&&this.page.data.blocks[0]&&this.page.data.blocks[0][this.$store.state.language.code]?this.page.data.blocks[0][this.$store.state.language.code]:""},categoryTypePageData:function(){return this.page&&this.page.functions&&this.page.functions.length>0?this.page.functions:null},categoryActivePage:function(){var t,e,s,n,i,r;return(s=(e=(t=this.$refs)==null?void 0:t.categoryFilter)==null?void 0:e.tempFilter)!=null&&s.page?(r=(i=(n=this.$refs)==null?void 0:n.categoryFilter)==null?void 0:i.tempFilter)==null?void 0:r.page:1}},mounted:function(){this.$store&&this.$store.state&&this.$store.state.language&&this.$store.state.language.code&&this.$store.state.user?this.listCategoryItems(!0):this.eventBus.on("coreDataLoaded",()=>{this.listCategoryItems(!0)})},methods:{processCategoryResponse(t){var i;const e=new Date,s=this;this.groupsLastRefresh=e.getTime();let n=null;if(t.data.categoryDetail&&(this.categoryDetail=t.data.categoryDetail,this.categoryDetail&&this.categoryDetail.name&&s.$store.state&&typeof this.categoryDetail.name[s.$store.state.language.code]<"u"&&(document.title=this.categoryDetail.name[s.$store.state.language.code]+" - StretchShop"),t.data.categoryDetail.parentCategories&&(this.breadcrumbs=t.data.categoryDetail.parentCategories),n=this.categoryDetail.taxData?this.categoryDetail.taxData:(i=s.$store.state.coredata)==null?void 0:i.settings),t.data.categories&&(this.categories=t.data.categories),t.data.filteredProductsCount&&(this.filteredProductsCount=t.data.filteredProductsCount),t.data.results){const r=t.data.results;let o=null;t.data.categoryDetail&&t.data.categoryDetail.pathSlug&&(t.data.categoryDetail.type&&(o=t.data.categoryDetail.type),r.forEach(function(l){l=s.$helpers.getProductTaxData(l,n),l.activeParentCategoryUrl=t.data.categoryDetail.pathSlug})),o===null&&r&&r[0]&&r[0].type?this.itemsToListType=r[0].type+"s":this.itemsToListType=o,this.products=this.$store.state.chunk(r,F.PER_ROW)}if(t.data.filter){const r=Object.assign({},this.filter);this.filter=t.data.filter;const o=this;Object.keys(r).forEach(function(l){(typeof o.filter[l]>"u"||o.filter[l]===null)&&(o.filter[l]=r[l])})}this.$root.loadingClose()},listCategoryItems:function(t){typeof t>"u"&&!t?t=!1:t=!0;const e=this,s=this.$route.path.split("/").filter(Boolean),n=typeof s[1]<"u"?s[1]:"products";if(this.$route.params&&this.$route.params.category&&this.$route.params.category.toString().trim()!=="''")if(this.$root.loadingShow(),t&&Object.keys(this.$route.query).length>0){this.queryStringtoFilter();const i=this.categoryDetail&&this.categoryDetail.type==="pages"?"pageCategoryFilter":"categoryFilter";e.$httpc.post(n+"/"+this.$route.params.category,{filter:this.$refs[i].buildFilterRequestObject(this.filter)},{timeout:7e3}).then(function(r){e.processCategoryResponse(r),typeof e.$refs[i]<"u"&&(e.introLoading=!0,e.$refs[i].setTempFilter(e.filter),e.introLoading=!1)}).catch(function(r){console.error(r)}).then(()=>{e.eventBus.emit("translateContent",e.$store.getters.getTranslates)})}else this.$httpc.get(n+"/"+this.$route.params.category,{timeout:7e3,params:{limit:this.filter.limit}}).then(function(i){e.processCategoryResponse(i)}).catch(function(i){console.error(i)}).then(()=>{e.eventBus.emit("translateContent",e.$store.getters.getTranslates)});else{let i=this.$route.path;const r=i.split("/");let o=e.$store.state.language.code;r.length>1&&(o=r[1],r.splice(0,2),i=r.join("/"));const l=i;this.$httpc.post("categories/find",{query:{parentPathSlug:"",type:l},lang:o}).then(function(g){g.data&&(e.categories=g.data.categories,g.data.page&&g.data.page.data&&(e.page=g.data.page.data,e.page.name&&e.$store.state&&typeof e.page.name[e.$store.state.language.code]<"u"&&(document.title=e.page.name[e.$store.state.language.code]+" - StretchShop")))}).catch(function(g){console.error(g)}).then(function(){e.eventBus.emit("pageDetailLoaded")})}this.$root.loadingClose()},queryStringtoFilter:function(){const t={};if(t.minMaxPrice={},typeof this.$route.query["price-min"]<"u"){const e=parseFloat(this.$route.query["price-min"]);e>0&&(t.minMaxPrice.min=e)}if(typeof this.$route.query["price-max"]<"u"){const e=parseFloat(this.$route.query["price-max"]);e>0&&(t.minMaxPrice.max=e)}if(typeof this.$route.query.string<"u"){const e=decodeURIComponent(this.$route.query.string).trim();e!==""&&(t.stringFilter=e)}if(typeof this.$route.query.sort<"u"){const e=decodeURIComponent(this.$route.query.sort).trim();e!==""&&(t.sort=e)}this.filter=t},getCategoryMinMax(){return this.categoryDetail&&this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:null},getCategoryFilteredCount(){return this.filteredProductsCount&&this.filteredProductsCount>0?this.filteredProductsCount:0},getCategoryBackground(){var t,e,s,n,i,r,o,l;return(t=this.categoryDetail)!=null&&t.slug&&((r=(i=(n=(s=(e=this.$store)==null?void 0:e.state)==null?void 0:s.coredata)==null?void 0:n.settings)==null?void 0:i.assets)!=null&&r.url)?this.$helpers.getImagePath("categories",this.$store.state.coredata,this.categoryDetail.slug,this.categoryDetail.slug+".jpg")+"?"+new Date((l=(o=this.categoryDetail)==null?void 0:o.dates)==null?void 0:l.dateUpdated).getTime():""}}},we={class:"container category-list"},Be={key:0,class:"edit-area"},je={class:"columns",id:"category-main-content"},Ae={class:"column is-3 pr-6"},Ve={key:0,class:"mt-6"},Ge={class:"menu"},ze=a("p",{class:"menu-label subcategories",translate:"yes"}," Sub-Categories ",-1),He={class:"menu-list"},Qe={class:"column is-9"},We={key:0,class:"breadcrumb mb-2","aria-label":"breadcrumbs"},Ke={class:"is-active"},Je={class:"column"},Xe={key:0,class:"title mb-0"},Ye={key:1,class:"title is-6 mb-5 has-text-grey-dark"},Ze=a("h1",{translate:"yes",class:"title is-1 title-products"},"Products",-1),et=["innerHTML"],tt={key:1,ref:"categoryListResults"},it={key:0},rt={key:1},at={key:2},st={class:"columns"},ot={class:"column is-12"},nt={key:0,class:"title is-1"},lt={key:3};function ct(t,e,s,n,i,r){const o=P("font-awesome-icon"),l=P("router-link"),g=P("category-filter"),h=P("category-paging"),v=P("product-box"),q=P("page-detail-content"),R=P("error-page");return c(),u("div",we,[r.userCanEdit&&(i.categoryDetail&&i.categoryDetail.pathSlug||i.page)?(c(),u("div",Be,[i.categoryDetail&&i.categoryDetail.pathSlug?(c(),T(l,{key:0,class:"editor-button edit-button",to:{name:"categoryNewEdit",params:{category:i.categoryDetail.pathSlug}}},{default:D(()=>[p(o,{icon:"edit"})]),_:1},8,["to"])):d("v-if",!0),i.page&&i.page.slug?(c(),T(l,{key:1,class:"editor-button edit-button",to:{name:"pageNewEdit",params:{slug:i.page.slug}}},{default:D(()=>[p(o,{icon:"edit"})]),_:1},8,["to"])):d("v-if",!0)])):d("v-if",!0),a("div",je,[d(` v-if="(products && products.length>0) || (page && page.data)" - filter didn't work `),a("div",Ae,[i.categories&&i.categories.length>0?(c(),u("nav",Ve,[a("aside",Ge,[ze,a("ul",He,[(c(!0),u(C,null,M(this.categories,(f,_)=>(c(),u("li",{key:_},[p(l,{title:f.descriptionShort[t.$store.state.language.code],to:{name:"categoryList",params:{category:f.pathSlug}}},{default:D(()=>[x(m(f.name[t.$store.state.language.code]),1)]),_:2},1032,["title","to"])]))),128))])])])):d("v-if",!0),p(g,{ref:"categoryFilter",filter:i.filter,categoryMinMaxPrice:r.categoryMinMax,categoryType:r.getCategoryType},null,8,["filter","categoryMinMaxPrice","categoryType"])]),a("div",Qe,[i.breadcrumbs&&i.breadcrumbs!=null&&i.breadcrumbs.length>0?(c(),u("nav",We,[a("ul",null,[(c(!0),u(C,null,M(i.breadcrumbs,(f,_)=>(c(),u("li",{key:_},[p(l,{title:f.name[t.$store.state.language.code],to:{name:"categoryList",params:{category:f.pathSlug}}},{default:D(()=>[x(m(f.name[t.$store.state.language.code]),1)]),_:2},1032,["title","to"])]))),128)),a("li",Ke,[p(l,{title:i.categoryDetail.name[t.$store.state.language.code],to:{name:"categoryList",params:{category:i.categoryDetail.pathSlug}},"aria-current":"page"},{default:D(()=>[x(m(i.categoryDetail.name[t.$store.state.language.code]),1)]),_:1},8,["title","to"])])])])):d("v-if",!0),a("div",{class:"columns category-header mt-2",style:O({backgroundImage:"url("+r.getCategoryBackground()+")"})},[a("div",Je,[i.categoryDetail?(c(),u("h1",Xe,m(i.categoryDetail.name[t.$store.state.language.code]),1)):d("v-if",!0),i.categoryDetail?(c(),u("h2",Ye,m(i.categoryDetail.descriptionShort[t.$store.state.language.code]),1)):(c(),u(C,{key:2},[d(' <p v-if="categoryDetail" class="">{{ categoryDetail.descriptionLong[$store.state.language.code] }}</p> '),Ze],2112)),i.categoryDetail?(c(),u("div",{key:3,class:"categoryDescLong",innerHTML:i.categoryDetail.descriptionLong[t.$store.state.language.code]},null,8,et)):d("v-if",!0)])],4),i.products&&i.products.length>0?(c(),u("div",tt,[p(h,{ref:"categoryPaging",total:r.categoryProductsTotalForPaging,active:r.categoryActivePage,perPage:i.filter.limit},null,8,["total","active","perPage"]),i.itemsToListType=="products"?(c(),u("div",it,[(c(!0),u(C,null,M(i.products,(f,_)=>(c(),u("div",{class:"tile is-ancestor",key:i.groupsLastRefresh+_},[(c(!0),u(C,null,M(f,(y,S)=>(c(),T(l,{key:i.groupsLastRefresh+y._id+(_+S),class:"tile is-parent is-4",title:y.descriptionShort[t.$store.state.language.code],to:{name:"productDetail",params:{category:i.categoryDetail.pathSlug,product:y._id,slug:y.slug}}},{default:D(()=>[p(v,{product:y,listType:i.itemsToListType,hideBuyButton:"true"},null,8,["product","listType"])]),_:2},1032,["title","to"]))),128))]))),128)),d(" tile end ")])):d("v-if",!0),i.itemsToListType=="pages"?(c(),u("div",rt,[(c(!0),u(C,null,M(i.products,(f,_)=>(c(),u("div",{class:"tile is-ancestor",key:i.groupsLastRefresh+_},[(c(!0),u(C,null,M(f,(y,S)=>(c(),T(l,{key:i.groupsLastRefresh+y._id+(_+S),class:"tile is-parent is-4",title:y.descriptionShort[t.$store.state.language.code],to:{name:"pageDetailShort",params:{category:i.categoryDetail.pathSlug,slug:y.slug}}},{default:D(()=>[p(v,{product:y,listType:i.itemsToListType},null,8,["product","listType"])]),_:2},1032,["title","to"]))),128))]))),128)),d(" tile end ")])):d("v-if",!0),p(h,{ref:"categoryPaging",bottom:!0,total:r.categoryProductsTotalForPaging,active:r.categoryActivePage,perPage:i.filter.limit},null,8,["total","active","perPage"])],512)):i.page&&i.page.data?(c(),u("div",at,[a("div",st,[a("div",ot,[i.page.data&&i.page.data.name?(c(),u("h1",nt,m(i.page.data.name[t.$store.state.language.code]),1)):d("v-if",!0),p(q,{content:r.categoryTypePageContent,contentData:r.categoryTypePageData,contentLang:i.language.code},null,8,["content","contentData","contentLang"])])])])):(c(),u("div",lt,[p(R)]))])])])}const pt=k(Oe,[["render",ct],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/products/CategoryList.vue"]]);export{pt as default};
