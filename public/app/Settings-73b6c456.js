import{r as N,o as l,c,a as e,i as T,G as u,L as _,S as P,F as U,d as L,t as D,b as g,w as S,h as v,n as E,f as b,$ as G,e as H,g as K}from"./sett-4d48a041.js";import{_ as k}from"./index-278cccc9.js";import"./edit-e2caae93.js";const X={name:"SettingsBusiness",data(){return{business:null,priceLevelsUserTypes:[],discountTypes:["percent","amount"],activeDiscount:{key:null,values:{type:null,value:null}}}},computed:{userBasicData:function(){const i=this.$store.getters.getUserProfile,s={username:"",email:"",email2:"",password:"",password2:""};return i&&i.username&&(s.username=i.username,s.email=i.email,i.dates&&(s.dates=i.dates)),s},userProfileImage:function(){return this.$store.getters.getProfileImage()}},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getBusinessSettings()},methods:{getBusinessSettings:function(){const i=this;this.$httpc.post("settings",{type:"business"}).then(function(s){s.data&&s.data.constructor===Object&&(i.business=s.data)}).catch(function(s){i.sendChangeRequest=!1,i.status="error",console.error("settingsBusiness getBusinessSettings error:",s)}).then(function(){})},changeBusinessSettings:function(){const i=[];let s=!0;const n=this;this.$httpc.put("settings",{type:"business",data:n.business}).then(function(o){o.data&&(o.data===!1?(s=!1,i.push({target:"username",action:"already exists"})):s=!0),s&&(n.business=o.data),i.length&&console.error(i)}).catch(function(o){n.sendChangeRequest=!1,n.status="error",o.response.data&&o.response.data.errors&&n.$helpers.showFormFieldErrorsFromErrorResponse(o.response.data.errors)}).then(function(){})},setActiveDiscount(i){var s,n;typeof((n=(s=this.business)==null?void 0:s.priceLevels)==null?void 0:n.discounts[i])>"u"&&(this.business.priceLevels.discounts[i]={type:"percent",value:-5}),this.activeDiscount=i,console.debug("SettingsBusiness setActiveDiscount activeDiscount: ",this.activeDiscount)}}},J={key:0,id:"settingsBusiness",class:""},Z=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Business")])],-1),W={class:"business-edit-form-wrapper"},Q={class:"columns"},Y={class:"column is-8 is-centered"},ee=e("h3",{class:"title is-3"},"Invoice data",-1),se={class:"columns is-variable is-2 is-centered"},te={class:"column is-12 has-text-centered"},ie={class:"field companyname"},ne=e("label",{class:"label",translate:"yes"},"Company name",-1),oe={class:"control"},ae=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Company name can't be empty")],-1),le={class:"columns is-variable is-2 is-centered"},ce={class:"column is-4 has-text-centered"},re={class:"field OrgId"},de=e("label",{class:"label",translate:"yes"},"Organization ID",-1),ue={class:"control"},me=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Organization ID can't be empty")],-1),he={class:"column is-4 has-text-centered"},ve={class:"field TaxId"},_e=e("label",{class:"label",translate:"yes"},"Tax ID",-1),pe={class:"control"},ye=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax ID can't be empty")],-1),ge={class:"column is-4 has-text-centered"},fe={class:"field TaxVatId"},be=e("label",{class:"label",translate:"yes"},"VAT ID",-1),$e={class:"control"},De=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Vat ID can't be empty")],-1),xe={class:"columns is-variable is-2 is-centered"},Me={class:"column is-12 has-text-centered"},Te={class:"field registration"},Ce=e("label",{class:"label",translate:"yes"},"Registration",-1),Ue={class:"control"},Le=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Registration can't be empty")],-1),Ne={class:"columns"},Pe={class:"column is-8 is-centered"},Se=e("h3",{class:"title is-3"},"Global tax settings",-1),ke={class:"columns is-variable is-2 is-centered"},Ae={class:"column is-6 has-text-centered"},Ie={class:"field TaxDecimal"},Ve=e("label",{class:"label",translate:"yes"},"Tax Decimal",-1),we={class:"control"},Ee=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Decimal can't be empty")],-1),Re={class:"column is-6 has-text-centered"},Fe={class:"field TaxType"},qe=e("label",{class:"label",translate:"yes"},"Tax Type",-1),Oe={class:"control select"},Be=e("option",{selected:"",disabled:"",translate:"yes"},"Choose Tax Type",-1),je=["value"],ze=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Type can't be empty")],-1),Ge={class:"columns"},He={class:"column is-8 is-centered"},Ke=e("h3",{class:"title is-3"},"Price levels",-1),Xe={class:"columns is-variable is-2 is-centered"},Je={class:"column is-4 has-text-centered"},Ze={class:"field TaxDecimal"},We=e("label",{class:"label",translate:"yes"},"Default Price Sort Value",-1),Qe={class:"control"},Ye=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Default Price Sort Value can't be empty")],-1),es={class:"column is-6 has-text-centered"},ss={class:"field TaxType"},ts=e("label",{class:"label",translate:"yes"},"Tax Type",-1),is={class:"control select"},ns=e("option",{selected:"",disabled:"",translate:"yes"},"Choose Tax Type",-1),os=["value"],as=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Type can't be empty")],-1),ls=e("h3",{class:"title is-3",translate:"yes"},"User Types & Discounts",-1),cs={class:"columns"},rs={class:"column is-12"},ds={key:0},us={class:"columns"},ms={class:"column is-6"},hs={class:"menu"},vs=e("p",{class:"menu-label",translate:"yes"},"Discount User Types",-1),_s={key:0,class:"menu-list"},ps=["onClick"],ys={key:0,class:"column is-6"},gs={class:"field TaxType"},fs=e("label",{class:"label",translate:"yes"},"Discount Type",-1),bs={class:"control select"},$s=e("option",{selected:"",disabled:"",translate:"yes"},"Choose Discount Type",-1),Ds=["value"],xs=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Discount Type can't be empty")],-1),Ms={class:"field TaxDecimal"},Ts=e("label",{class:"label",translate:"yes"},"Discount value",-1),Cs={class:"control"},Us=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax Decimal can't be empty")],-1),Ls=e("hr",null,null,-1),Ns={class:"columns"},Ps={class:"column is-8 has-text-centered"},Ss={class:"button is-success",type:"submit"},ks=e("span",{translate:"yes"},"Update Business Settings",-1);function As(i,s,n,o,t,a){var x,M,C,r,f,$,A,I,V;const m=N("o-inputitems"),y=N("o-field"),d=N("font-awesome-icon");return t.business?(l(),c("div",J,[Z,e("div",W,[e("form",{onSubmit:s[12]||(s[12]=T((...p)=>a.changeBusinessSettings&&a.changeBusinessSettings(...p),["prevent"]))},[e("div",Q,[e("div",Y,[ee,e("div",se,[e("div",te,[e("div",ie,[ne,e("div",oe,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[0]||(s[0]=p=>t.business.invoiceData.company.name=p),placeholder:"Company name"},null,512),[[_,t.business.invoiceData.company.name]])]),ae])])]),e("div",le,[e("div",ce,[e("div",re,[de,e("div",ue,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[1]||(s[1]=p=>t.business.invoiceData.company.orgId=p),placeholder:"Organization ID"},null,512),[[_,t.business.invoiceData.company.orgId]])]),me])]),e("div",he,[e("div",ve,[_e,e("div",pe,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[2]||(s[2]=p=>t.business.invoiceData.company.taxId=p),placeholder:"Tax ID"},null,512),[[_,t.business.invoiceData.company.taxId]])]),ye])]),e("div",ge,[e("div",fe,[be,e("div",$e,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[3]||(s[3]=p=>t.business.invoiceData.company.taxVatId=p),placeholder:"VAT ID"},null,512),[[_,t.business.invoiceData.company.taxVatId]])]),De])])]),e("div",xe,[e("div",Me,[e("div",Te,[Ce,e("div",Ue,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[4]||(s[4]=p=>t.business.invoiceData.company.registration=p),placeholder:"Registration"},null,512),[[_,t.business.invoiceData.company.registration]])]),Le])])])])]),e("div",Ne,[e("div",Pe,[Se,e("div",ke,[e("div",Ae,[e("div",Ie,[Ve,e("div",we,[u(e("input",{class:"input",type:"number",min:"0",step:"any","onUpdate:modelValue":s[5]||(s[5]=p=>t.business.taxData.global.taxDecimal=p),placeholder:"Tax Decimal"},null,512),[[_,t.business.taxData.global.taxDecimal]])]),Ee])]),e("div",Re,[e("div",Fe,[qe,e("div",Oe,[u(e("select",{"onUpdate:modelValue":s[6]||(s[6]=p=>t.business.taxData.global.taxType=p)},[Be,(l(!0),c(U,null,L(t.business.taxData.global.taxTypes,p=>(l(),c("option",{value:p},D(p),9,je))),256))],512),[[P,t.business.taxData.global.taxType]])]),ze])])])])]),e("div",Ge,[e("div",He,[Ke,e("div",Xe,[e("div",Je,[e("div",Ze,[We,e("div",Qe,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[7]||(s[7]=p=>t.business.priceLevels.defaultPriceSortValue=p),placeholder:"Default Price Sort Value"},null,512),[[_,t.business.priceLevels.defaultPriceSortValue]])]),Ye])]),e("div",es,[e("div",ss,[ts,e("div",is,[u(e("select",{"onUpdate:modelValue":s[8]||(s[8]=p=>t.business.taxData.global.taxType=p)},[ns,(l(!0),c(U,null,L(t.business.taxData.global.taxTypes,p=>(l(),c("option",{value:p},D(p),9,os))),256))],512),[[P,t.business.taxData.global.taxType]])]),as])])]),ls,e("div",cs,[e("div",rs,[(C=(M=(x=t.business)==null?void 0:x.priceLevels)==null?void 0:M.validTypes)!=null&&C.userTypes?(l(),c("section",ds,[g(y,{label:"Define user types"},{default:S(()=>[g(m,{modelValue:t.business.priceLevels.validTypes.userTypes,"onUpdate:modelValue":s[9]||(s[9]=p=>t.business.priceLevels.validTypes.userTypes=p),data:t.priceLevelsUserTypes,autocomplete:"","allow-new":!0,iconPack:"fas",icon:"tags",placeholder:"User Types",type:"is-info"},null,8,["modelValue","data"])]),_:1})])):v("v-if",!0)])]),e("div",us,[e("div",ms,[e("aside",hs,[vs,($=(f=(r=t.business)==null?void 0:r.priceLevels)==null?void 0:f.validTypes)!=null&&$.userTypes?(l(),c("ul",_s,[(l(!0),c(U,null,L((V=(I=(A=t.business)==null?void 0:A.priceLevels)==null?void 0:I.validTypes)==null?void 0:V.userTypes,(p,w)=>(l(),c("li",null,[e("a",{href:"#",class:E({"is-active":t.activeDiscount===p}),onClick:T(h=>a.setActiveDiscount(p),["prevent"])},D(p),11,ps)]))),256))])):v("v-if",!0)])]),t.business.priceLevels.discounts[t.activeDiscount]?(l(),c("div",ys,[e("div",gs,[fs,e("div",bs,[u(e("select",{"onUpdate:modelValue":s[10]||(s[10]=p=>t.business.priceLevels.discounts[t.activeDiscount].type=p)},[$s,(l(!0),c(U,null,L(t.discountTypes,p=>(l(),c("option",{value:p},D(p),9,Ds))),256))],512),[[P,t.business.priceLevels.discounts[t.activeDiscount].type]])]),xs]),v(" "),e("div",Ms,[Ts,e("div",Cs,[u(e("input",{class:"input",type:"number",step:"any","onUpdate:modelValue":s[11]||(s[11]=p=>t.business.priceLevels.discounts[t.activeDiscount].value=p),placeholder:"Value"},null,512),[[_,t.business.priceLevels.discounts[t.activeDiscount].value]])]),Us])])):v("v-if",!0)])])]),Ls,e("div",Ns,[e("div",Ps,[e("button",Ss,[g(d,{icon:"check"}),b("   "),ks])])])],32)]),v(" business-edit-form-wrapper ")])):v("v-if",!0)}const R=k(X,[["render",As],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/SettingsBusiness.vue"]]);const Is={name:"SortableMenu",props:{menuData:Array,menuParams:Object},emits:["updated","action"],data(){return{dragged:null,id:null,index:null,indexDrop:null,list:null,active:null}},mounted:function(){this.$refs.sortableMenu.addEventListener("dragstart",({target:i})=>{this.dragged=i,this.id=i.getAttribute("data-id"),this.list=i.parentNode.children;for(let s=0;s<this.list.length;s++)this.list[s]===this.dragged&&(this.index=s)}),this.$refs.sortableMenu.addEventListener("dragover",i=>{i.preventDefault()}),this.$refs.sortableMenu.addEventListener("drop",({target:i})=>{if(i.className=="dropzone"&&i.getAttribute("data-id")!==this.id){this.dragged.remove(this.dragged);for(let s=0;s<this.list.length;s++)this.list[s]===this.target&&(this.indexDrop=s);this.index>this.indexDrop?i.before(this.dragged):i.after(this.dragged),this.$emit("updated",this.processDraggedToResult(this.menuData,this.list))}})},methods:{listlist(){console.debug("listlist: ",this.list)},callMenuAction(i,s){this.active=i,this.$emit("action",s)},processDraggedToResult(i,s){let n={};i.forEach((t,a)=>{n[a]=t});let o=[];return(s==null?void 0:s.length)>0&&s.forEach((t,a)=>{t.hasAttribute("data-id")&&parseInt(t.getAttribute("data-id"))>-1&&o.push({...n[t.getAttribute("data-id")]})}),console.debug("reorderedResult: ",o),o}}},Vs={class:"sortable-menu",ref:"sortableMenu"},ws={class:"menu-list"},Es=["data-id"],Rs=["onClick"];function Fs(i,s,n,o,t,a){return l(),c("div",Vs,[e("ul",ws,[(l(!0),c(U,null,L(n.menuData,(m,y)=>(l(),c("li",{class:"dropzone","data-id":y,draggable:"true"},[e("a",{class:E({"is-active":t.active===m}),onClick:T(d=>a.callMenuAction(m,y),["prevent"])},D(i.$helpers.deepValue(m,n.menuParams.name)),11,Rs)],8,Es))),256))])],512)}const z=k(Is,[["render",Fs],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/SortableMenu.vue"]]);const qs={name:"SettingsOrders",data(){return{orders:null,activeDM:null,activeNameLang:null,activePM:null}},components:{"sortable-menu":z},computed:{userBasicData:function(){const i=this.$store.getters.getUserProfile,s={username:"",email:"",email2:"",password:"",password2:""};return i&&i.username&&(s.username=i.username,s.email=i.email,i.dates&&(s.dates=i.dates)),s},userProfileImage:function(){return this.$store.getters.getProfileImage()}},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getOrdersSettings()},methods:{getOrdersSettings:function(){const i=this;this.$httpc.post("settings",{type:"orders"}).then(function(s){s.data&&s.data.constructor===Object&&(i.orders=s.data,i.activeNameLang=i.$store.state.language.code)}).catch(function(s){i.sendChangeRequest=!1,i.status="error",console.error("settingsOrders getOrdersSettings error:",s)}).then(function(){})},changeOrdersSettings:function(){const i=[];let s=!0;const n=this;this.$httpc.put("settings",{type:"orders",data:n.orders}).then(function(o){o.data&&(o.data===!1?(s=!1,i.push({target:"username",action:"already exists"})):s=!0),s&&(n.orders=o.data),i.length&&console.error(i)}).catch(function(o){n.sendChangeRequest=!1,n.status="error",o.response.data&&o.response.data.errors&&n.$helpers.showFormFieldErrorsFromErrorResponse(o.response.data.errors)}).then(function(){})},addNewMethod(i){if(this.orders[i]&&this.orders[i].constructor===Array){let s={};this.$store.state.coredata.langs.forEach(n=>{s[n.code]=n.code}),this.orders[i].push({codename:"-codename",type:"-type",name:s,prices:[{range:{from:0,to:1e6},price:0,tax:.2}]})}},addNewPrice(i){if(this.orders[i]&&this.orders[i].constructor===Array){let s=0;i==="deliveryMethods"?s=this.activeDM:i==="paymentMethods"&&(s=this.activePM),this.orders[i][s]&&this.orders[i][s].prices&&this.orders[i][s].prices.constructor===Array&&this.orders[i][s].prices.push({range:{from:0,to:1e6},price:0,tax:.2})}},setActiveDM(i){this.activeDM=i},setActivePM(i){this.activePM=i},menuUpdate:function(i,s){this.orders[i]&&s&&(this.orders[i]=s)},deleteRecord(i,s){var n,o,t;(n=this.orders)!=null&&n[i]&&this[s]&&((o=this.orders)!=null&&o[i][this[s]])&&((t=this.orders)==null||t[i].splice(this[s],1),this[s]=0)},deleteSubrecord(i,s,n,o){var t,a,m,y,d;(t=this.orders)!=null&&t[i]&&this[s]>-1&&typeof((a=this.orders)==null?void 0:a[i][this[s]])<"u"&&((m=this.orders)!=null&&m[i][this[s]][n])&&typeof((y=this.orders)==null?void 0:y[i][this[s]][n][o])<"u"&&o>-1&&((d=this.orders)==null||d[i][this[s]][n].splice(o,1))}}},Os={key:0,id:"settingsOrders",class:""},Bs=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Orders")])],-1),js={class:"user-info-edit-form-wrapper"},zs={class:"columns"},Gs={class:"column is-8 is-centered"},Hs={class:"title is-3",translate:"yes"},Ks=e("span",{translate:"yes"},"Add Method",-1),Xs={class:"columns"},Js={class:"column is-4"},Zs={class:"menu"},Ws=e("p",{class:"menu-label",translate:"yes"},"Delivery Methods Codenames",-1),Qs={key:0,class:"column is-8"},Ys={class:"field Codename"},et=e("label",{class:"label",translate:"yes"},"Codename",-1),st={class:"control"},tt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Codename can't be empty")],-1),it={class:"field Type"},nt=e("label",{class:"label",translate:"yes"},"Type",-1),ot={class:"control"},at=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Type can't be empty")],-1),lt={class:"columns"},ct={class:"column is-4"},rt={class:"field nameLang"},dt=e("label",{class:"label",translate:"yes"},"Name Lang",-1),ut={class:"control select"},mt=["value"],ht={class:"column is-8"},vt={key:0,class:"field Type"},_t=e("label",{class:"label",translate:"yes"},"Name",-1),pt={class:"control"},yt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),gt={class:"columns"},ft={class:"column is-12"},bt={class:"title is-4"},$t=e("span",{translate:"yes"},"Delivery Method Prices",-1),Dt=e("span",{translate:"yes"},"Add Price",-1),xt={key:0},Mt={class:"columns"},Tt={class:"column is-6"},Ct={class:"field RangeFrom"},Ut=e("label",{class:"label",translate:"yes"},"Range From",-1),Lt={class:"control"},Nt=["onUpdate:modelValue"],Pt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range From can't be empty")],-1),St={class:"column is-6"},kt={class:"field RangeTo"},At=e("label",{class:"label",translate:"yes"},"Range To",-1),It={class:"control"},Vt=["onUpdate:modelValue"],wt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range To can't be empty")],-1),Et={class:"columns"},Rt={class:"column is-6"},Ft={class:"field Price"},qt=e("label",{class:"label",translate:"yes"},"Price",-1),Ot={class:"control"},Bt=["onUpdate:modelValue"],jt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Price can't be empty")],-1),zt={key:0,class:"column is-6"},Gt={class:"field priceTax"},Ht=e("label",{class:"label",translate:"yes"},"Tax",-1),Kt={class:"control"},Xt=["onUpdate:modelValue"],Jt=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax can't be empty")],-1),Zt={class:"columns"},Wt={class:"column has-text-right is-12"},Qt=["onClick"],Yt={class:"columns"},ei={class:"column is-12"},si=e("hr",null,null,-1),ti={class:"title is-3",translate:"yes"},ii=e("span",{translate:"yes"},"Add Method",-1),ni={class:"columns"},oi={class:"column is-4"},ai={class:"menu"},li=e("p",{class:"menu-label",translate:"yes"},"Payment Methods Codenames",-1),ci={key:0,class:"column is-8"},ri={class:"field Codename"},di=e("label",{class:"label",translate:"yes"},"Codename",-1),ui={class:"control"},mi=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Codename can't be empty")],-1),hi={class:"field Type"},vi=e("label",{class:"label",translate:"yes"},"Type",-1),_i={class:"control"},pi=e("div",{class:"form-messages is-hidden"},null,-1),yi={class:"columns"},gi={class:"column is-4"},fi={class:"field nameLang"},bi=e("label",{class:"label",translate:"yes"},"Name Lang",-1),$i={class:"control select"},Di=["value"],xi={class:"column is-8"},Mi={key:0,class:"field Type"},Ti=e("label",{class:"label",translate:"yes"},"Name",-1),Ci={class:"control"},Ui=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),Li={class:"columns"},Ni={class:"column is-12"},Pi={class:"title is-4"},Si=e("span",{translate:"yes"},"Payment Method Prices",-1),ki=e("span",{translate:"yes"},"Add Price",-1),Ai={key:0},Ii={class:"columns"},Vi={class:"column is-6"},wi={class:"field RangeFrom"},Ei=e("label",{class:"label",translate:"yes"},"Range From",-1),Ri={class:"control"},Fi=["onUpdate:modelValue"],qi=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range From can't be empty")],-1),Oi={class:"column is-6"},Bi={class:"field RangeTo"},ji=e("label",{class:"label",translate:"yes"},"Range To",-1),zi={class:"control"},Gi=["onUpdate:modelValue"],Hi=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Range To can't be empty")],-1),Ki={class:"columns"},Xi={class:"column is-6"},Ji={class:"field Price"},Zi=e("label",{class:"label",translate:"yes"},"Price",-1),Wi={class:"control"},Qi=["onUpdate:modelValue"],Yi=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Price can't be empty")],-1),en={key:0,class:"column is-6"},sn={class:"field RangeTo"},tn=e("label",{class:"label",translate:"yes"},"Tax",-1),nn={class:"control"},on=["onUpdate:modelValue"],an=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Tax can't be empty")],-1),ln={class:"columns"},cn={class:"column has-text-right is-12"},rn=["onClick"],dn={class:"columns"},un={class:"column is-12"},mn=e("hr",null,null,-1),hn={class:"columns"},vn={class:"column is-8 has-text-centered"},_n={class:"button is-success",type:"submit"},pn=e("span",{translate:"yes"},"Update Order Settings",-1);function yn(i,s,n,o,t,a){var d,x,M,C;const m=N("font-awesome-icon"),y=N("sortable-menu");return i.$store.state.user.profile?(l(),c("div",Os,[Bs,e("div",js,[e("form",{onSubmit:s[18]||(s[18]=T((...r)=>a.changeOrdersSettings&&a.changeOrdersSettings(...r),["prevent"]))},[e("div",zs,[e("div",Gs,[e("h3",Hs,[b("Delivery Methods "),e("button",{class:"button is-info is-pulled-right",onClick:s[0]||(s[0]=r=>a.addNewMethod("deliveryMethods"))},[g(m,{icon:"plus"}),b("   "),Ks])]),e("div",Xs,[e("div",Js,[e("aside",Zs,[Ws,g(y,{menuData:(d=t.orders)==null?void 0:d.deliveryMethods,menuParams:{value:"code",name:"name."+i.$store.state.language.code},onUpdated:s[1]||(s[1]=r=>a.menuUpdate("deliveryMethods",r)),onAction:s[2]||(s[2]=r=>a.setActiveDM(r))},null,8,["menuData","menuParams"])])]),t.activeDM!==null?(l(),c("div",Qs,[e("div",Ys,[et,e("div",st,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[3]||(s[3]=r=>t.orders.deliveryMethods[t.activeDM].codename=r),placeholder:"Codename"},null,512),[[_,t.orders.deliveryMethods[t.activeDM].codename]])]),tt]),e("div",it,[nt,e("div",ot,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[4]||(s[4]=r=>t.orders.deliveryMethods[t.activeDM].type=r),placeholder:"Type"},null,512),[[_,t.orders.deliveryMethods[t.activeDM].type]])]),at]),e("div",lt,[e("div",ct,[e("div",rt,[dt,e("div",ut,[u(e("select",{"onUpdate:modelValue":s[5]||(s[5]=r=>t.activeNameLang=r)},[(l(!0),c(U,null,L(i.$store.state.coredata.langs,r=>(l(),c("option",{value:r.code},D(r.name),9,mt))),256))],512),[[P,t.activeNameLang]])])])]),e("div",ht,[t.activeNameLang?(l(),c("div",vt,[_t,e("div",pt,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[6]||(s[6]=r=>t.orders.deliveryMethods[t.activeDM].name[t.activeNameLang]=r),placeholder:"Name"},null,512),[[_,t.orders.deliveryMethods[t.activeDM].name[t.activeNameLang]]])]),yt])):v("v-if",!0)])]),e("div",gt,[e("div",ft,[e("h4",bt,[$t,e("button",{class:"button is-info is-pulled-right",onClick:s[7]||(s[7]=r=>a.addNewPrice("deliveryMethods"))},[g(m,{icon:"plus"}),b("   "),Dt])]),(x=t.orders.deliveryMethods[t.activeDM])!=null&&x.prices&&t.orders.deliveryMethods[t.activeDM].prices.length>0?(l(),c("div",xt,[e("p",null,"x"+D(t.orders.deliveryMethods[t.activeDM].prices.length),1),(l(!0),c(U,null,L(t.orders.deliveryMethods[t.activeDM].prices,(r,f)=>(l(),c("div",null,[e("div",Mt,[e("div",Tt,[e("div",Ct,[Ut,e("div",Lt,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[f].range.from=$,placeholder:"Range From"},null,8,Nt),[[_,t.orders.deliveryMethods[t.activeDM].prices[f].range.from]])]),Pt])]),e("div",St,[e("div",kt,[At,e("div",It,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[f].range.to=$,placeholder:"Range To"},null,8,Vt),[[_,t.orders.deliveryMethods[t.activeDM].prices[f].range.to]])]),wt])])]),e("div",Et,[e("div",Rt,[e("div",Ft,[qt,e("div",Ot,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[f].price=$,placeholder:"Price"},null,8,Bt),[[_,t.orders.deliveryMethods[t.activeDM].prices[f].price]])]),jt])]),t.orders.deliveryMethods[t.activeDM].prices[f].tax?(l(),c("div",zt,[e("div",Gt,[Ht,e("div",Kt,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.deliveryMethods[t.activeDM].prices[f].tax=$,placeholder:"Tax"},null,8,Xt),[[_,t.orders.deliveryMethods[t.activeDM].prices[f].tax]])]),Jt])])):v("v-if",!0)]),e("div",Zt,[e("div",Wt,[e("button",{class:"button is-danger",onClick:T($=>a.deleteSubrecord("deliveryMethods","activeDM","prices",f),["prevent"]),translate:"yes"}," DELETE this Price ["+D(f)+"] ",9,Qt)])])]))),256))])):v("v-if",!0)])]),e("div",Yt,[e("div",ei,[e("button",{class:"button is-danger",onClick:s[8]||(s[8]=T(r=>a.deleteRecord("deliveryMethods","activeDM"),["prevent"])),translate:"yes"}," DELETE this Delivery Method ("+D(t.orders.deliveryMethods[t.activeDM].name[i.$store.state.language.code])+") ",1)])])])):v("v-if",!0)]),si,e("h3",ti,[b("Payment Methods "),e("button",{class:"button is-info is-pulled-right",onClick:s[9]||(s[9]=r=>a.addNewMethod("paymentMethods"))},[g(m,{icon:"plus"}),b("   "),ii])]),e("div",ni,[e("div",oi,[e("aside",ai,[li,g(y,{menuData:(M=t.orders)==null?void 0:M.paymentMethods,menuParams:{value:"code",name:"name.sk"},onUpdated:s[10]||(s[10]=r=>a.menuUpdate("paymentMethods",r)),onAction:s[11]||(s[11]=r=>a.setActivePM(r))},null,8,["menuData","menuParams"])])]),t.activePM!==null?(l(),c("div",ci,[e("div",ri,[di,e("div",ui,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[12]||(s[12]=r=>t.orders.paymentMethods[t.activePM].codename=r),placeholder:"Codename"},null,512),[[_,t.orders.paymentMethods[t.activePM].codename]])]),mi]),e("div",hi,[vi,e("div",_i,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[13]||(s[13]=r=>t.orders.paymentMethods[t.activePM].type=r),placeholder:"Type"},null,512),[[_,t.orders.paymentMethods[t.activePM].type]])]),pi]),e("div",yi,[e("div",gi,[e("div",fi,[bi,e("div",$i,[u(e("select",{"onUpdate:modelValue":s[14]||(s[14]=r=>t.activeNameLang=r)},[(l(!0),c(U,null,L(i.$store.state.coredata.langs,r=>(l(),c("option",{value:r.code},D(r.name),9,Di))),256))],512),[[P,t.activeNameLang]])])])]),e("div",xi,[t.activeNameLang?(l(),c("div",Mi,[Ti,e("div",Ci,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[15]||(s[15]=r=>t.orders.paymentMethods[t.activePM].name[t.activeNameLang]=r),placeholder:"Name"},null,512),[[_,t.orders.paymentMethods[t.activePM].name[t.activeNameLang]]])]),Ui])):v("v-if",!0)])]),e("div",Li,[e("div",Ni,[e("h4",Pi,[Si,e("button",{class:"button is-info is-pulled-right",onClick:s[16]||(s[16]=r=>a.addNewPrice("paymentMethods"))},[g(m,{icon:"plus"}),b("   "),ki])]),(C=t.orders.paymentMethods[t.activePM])!=null&&C.prices&&t.orders.paymentMethods[t.activePM].prices.length>0?(l(),c("div",Ai,[e("p",null,"x"+D(t.orders.paymentMethods[t.activePM].prices.length),1),(l(!0),c(U,null,L(t.orders.paymentMethods[t.activePM].prices,(r,f)=>(l(),c("div",null,[e("div",Ii,[e("div",Vi,[e("div",wi,[Ei,e("div",Ri,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[f].range.from=$,placeholder:"Range From"},null,8,Fi),[[_,t.orders.paymentMethods[t.activePM].prices[f].range.from]])]),qi])]),e("div",Oi,[e("div",Bi,[ji,e("div",zi,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[f].range.to=$,placeholder:"Range To"},null,8,Gi),[[_,t.orders.paymentMethods[t.activePM].prices[f].range.to]])]),Hi])])]),e("div",Ki,[e("div",Xi,[e("div",Ji,[Zi,e("div",Wi,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[f].price=$,placeholder:"Price"},null,8,Qi),[[_,t.orders.paymentMethods[t.activePM].prices[f].price]])]),Yi])]),t.orders.paymentMethods[t.activePM].prices[f].tax?(l(),c("div",en,[e("div",sn,[tn,e("div",nn,[u(e("input",{class:"input",type:"number",step:"any",required:"","onUpdate:modelValue":$=>t.orders.paymentMethods[t.activePM].prices[f].tax=$,placeholder:"Tax"},null,8,on),[[_,t.orders.paymentMethods[t.activePM].prices[f].tax]])]),an])])):v("v-if",!0)]),e("div",ln,[e("div",cn,[e("button",{class:"button is-danger",onClick:T($=>a.deleteSubrecord("paymentMethods","activePM","prices",f),["prevent"]),translate:"yes"}," DELETE this Price ["+D(f)+"] ",9,rn)])])]))),256))])):v("v-if",!0)])]),e("div",dn,[e("div",un,[e("button",{class:"button is-danger",onClick:s[17]||(s[17]=T(r=>a.deleteRecord("paymentMethods","activePM"),["prevent"])),translate:"yes"}," DELETE this Delivery Method ("+D(t.orders.paymentMethods[t.activePM].name[i.$store.state.language.code])+") ",1)])])])):v("v-if",!0)])])]),mn,e("div",hn,[e("div",vn,[e("button",_n,[g(m,{icon:"check"}),b("   "),pn])])])],32)]),v(" user-info-edit-form-wrapper ")])):v("v-if",!0)}const F=k(qs,[["render",yn],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/SettingsOrders.vue"]]);const gn={name:"SettingsLocals",data(){return{locals:null,activeLang:null,activeCurrency:null,activeCountry:null}},components:{"sortable-menu":z},computed:{},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getLocalsSettings()},methods:{getLocalsSettings:function(){const i=this;this.$httpc.post("settings",{type:"locals"}).then(function(s){s.data&&s.data.constructor===Object&&(i.locals=s.data)}).catch(function(s){i.sendChangeRequest=!1,i.status="error",console.error("settingsLocals getLocalsSettings error:",s)}).then(function(){})},changeLocalsSettings:function(){const i=[];let s=!0;const n=this;this.$httpc.put("settings",{type:"locals",data:n.locals}).then(function(o){o.data&&(o.data===!1?(s=!1,i.push({target:"username",action:"already exists"})):s=!0),s&&(n.locals=o.data),i.length&&console.error(i)}).catch(function(o){n.sendChangeRequest=!1,n.status="error",o.response.data&&o.response.data.errors&&n.$helpers.showFormFieldErrorsFromErrorResponse(o.response.data.errors)}).then(function(){})},addNew(i){if(this.locals[i]&&this.locals[i].constructor===Array){let s={};this.$store.state.coredata.langs.forEach(o=>{s[o.code]=o.code});let n={};switch(i){case"langs":n={code:"xx",longCode:"xx-XX",name:"--name"};break;case"currencies":n={code:"XXX",symbol:"X",ratio:1};break;case"countries":n={code:"xx",name:"--name"};break}this.locals[i].push(n)}},setActiveLang(i){this.activeLang=i},setActiveCurrency(i){this.activeCurrency=i},setActiveCountry(i){this.activeCountry=i},menuUpdate:function(i,s){this.locals[i]&&s&&(this.locals[i]=s)},deleteRecord(i,s){var n,o,t;(n=this.locals)!=null&&n[i]&&this[s]&&((o=this.locals)!=null&&o[i][this[s]])&&((t=this.locals)==null||t[i].splice(this[s],1),this[s]=0)}}},fn={key:0,id:"settingsLocals",class:""},bn=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Locals")])],-1),$n={class:"user-info-edit-form-wrapper"},Dn={class:"columns"},xn={class:"column is-8 is-centered"},Mn={class:"title is-3",translate:"yes"},Tn=e("span",{translate:"yes"},"Add Lang",-1),Cn={key:0,class:"columns"},Un=e("div",{class:"column is-6 has-text-right"},[e("h3",{class:"title is-4",translate:"yes"},"Default Lang")],-1),Ln={class:"column is-6"},Nn={class:"control select"},Pn=["value"],Sn={key:1,class:"columns"},kn={class:"column is-4"},An={class:"menu"},In=e("p",{class:"menu-label",translate:"yes"},"Languages",-1),Vn={key:0,class:"column is-8"},wn={class:"columns"},En={class:"column is-12"},Rn={class:"field langName"},Fn=e("label",{class:"label",translate:"yes"},"Name",-1),qn={class:"control"},On=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),Bn={class:"columns"},jn={class:"column is-6"},zn={class:"field langCode"},Gn=e("label",{class:"label",translate:"yes"},"Code",-1),Hn={class:"control"},Kn=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code can't be empty")],-1),Xn={class:"column is-6"},Jn={class:"field langCodeLong"},Zn=e("label",{class:"label",translate:"yes"},"Code Long",-1),Wn={class:"control"},Qn=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code Long can't be empty")],-1),Yn={class:"columns"},eo={class:"column is-6"},so=e("hr",null,null,-1),to={class:"title is-3",translate:"yes"},io=e("span",{translate:"yes"},"Add Currency",-1),no={key:2,class:"columns"},oo=e("div",{class:"column is-6 has-text-right"},[e("h3",{class:"title is-4",translate:"yes"},"Default Currency")],-1),ao={class:"column is-6"},lo={class:"control select"},co=["value"],ro={key:3,class:"columns"},uo={class:"column is-4"},mo={class:"menu"},ho=e("p",{class:"menu-label",translate:"yes"},"Currency codes",-1),vo={key:0,class:"column is-8"},_o={class:"columns"},po={class:"column is-12"},yo={class:"field currencyCode"},go=e("label",{class:"label",translate:"yes"},"Code",-1),fo={class:"control"},bo=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code can't be empty")],-1),$o={class:"columns"},Do={class:"column is-6"},xo={class:"field currencySymbol"},Mo=e("label",{class:"label",translate:"yes"},"Symbol",-1),To={class:"control"},Co=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Symbol can't be empty")],-1),Uo={class:"column is-6"},Lo={class:"field currencyRatio"},No=e("label",{class:"label",translate:"yes"},"Ratio",-1),Po={class:"control"},So=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Ratio Long can't be empty")],-1),ko={class:"columns"},Ao={class:"column is-6"},Io={class:"title is-3",translate:"yes"},Vo=e("span",{translate:"yes"},"Add Country",-1),wo={key:4,class:"columns"},Eo=e("div",{class:"column is-6 has-text-right"},[e("h3",{class:"title is-4",translate:"yes"},"Default Country")],-1),Ro={class:"column is-6"},Fo={class:"control select"},qo=["value"],Oo={key:5,class:"columns"},Bo={class:"column is-4"},jo={class:"menu"},zo=e("p",{class:"menu-label",translate:"yes"},"Countries",-1),Go={key:0,class:"column is-8"},Ho={class:"columns"},Ko={class:"column is-12"},Xo={class:"field countryName"},Jo=e("label",{class:"label",translate:"yes"},"Name",-1),Zo={class:"control"},Wo=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),Qo={class:"columns"},Yo={class:"column is-6"},ea={class:"field countryCode"},sa=e("label",{class:"label",translate:"yes"},"Code",-1),ta={class:"control"},ia=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Code can't be empty")],-1),na={class:"columns"},oa={class:"column is-6"},aa=e("hr",null,null,-1),la={class:"columns"},ca={class:"column is-8 has-text-centered"},ra={class:"button is-success",type:"submit"},da=e("span",{translate:"yes"},"Update Locals Settings",-1);function ua(i,s,n,o,t,a){var d,x,M,C,r,f,$,A,I,V,p,w;const m=N("font-awesome-icon"),y=N("sortable-menu");return i.$store.state.user.profile?(l(),c("div",fn,[bn,e("div",$n,[e("form",{onSubmit:s[23]||(s[23]=T((...h)=>a.changeLocalsSettings&&a.changeLocalsSettings(...h),["prevent"]))},[e("div",Dn,[e("div",xn,[e("h3",Mn,[b("Languages "),e("button",{class:"button is-info is-pulled-right",onClick:s[0]||(s[0]=T(h=>a.addNew("langs"),["prevent"]))},[g(m,{icon:"plus"}),b("   "),Tn])]),(d=t.locals)!=null&&d.langs&&((x=t.locals)!=null&&x.lang)?(l(),c("div",Cn,[Un,e("div",Ln,[e("div",Nn,[u(e("select",{"onUpdate:modelValue":s[1]||(s[1]=h=>t.locals.lang=h)},[(l(!0),c(U,null,L(t.locals.langs,h=>(l(),c("option",{value:h.code},D(h.name),9,Pn))),256))],512),[[P,t.locals.lang]])])])])):v("v-if",!0),(M=t.locals)!=null&&M.langs?(l(),c("div",Sn,[e("div",kn,[e("aside",An,[In,g(y,{menuData:(C=t.locals)==null?void 0:C.langs,menuParams:{value:"code",name:"name"},onUpdated:s[2]||(s[2]=h=>a.menuUpdate("langs",h)),onAction:s[3]||(s[3]=h=>a.setActiveLang(h))},null,8,["menuData"])])]),t.activeLang!==null?(l(),c("div",Vn,[e("div",wn,[e("div",En,[e("div",Rn,[Fn,e("div",qn,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[4]||(s[4]=h=>t.locals.langs[t.activeLang].name=h),placeholder:"Name"},null,512),[[_,t.locals.langs[t.activeLang].name]])]),On])])]),e("div",Bn,[e("div",jn,[e("div",zn,[Gn,e("div",Hn,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[5]||(s[5]=h=>t.locals.langs[t.activeLang].code=h),placeholder:"Code"},null,512),[[_,t.locals.langs[t.activeLang].code]])]),Kn])]),e("div",Xn,[e("div",Jn,[Zn,e("div",Wn,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[6]||(s[6]=h=>t.locals.langs[t.activeLang].longCode=h),placeholder:"Code Long"},null,512),[[_,t.locals.langs[t.activeLang].longCode]])]),Qn])])]),e("div",Yn,[e("div",eo,[e("button",{class:"button is-danger",onClick:s[7]||(s[7]=T(h=>a.deleteRecord("langs","activeCurrency"),["prevent"])),translate:"yes"}," DELETE this Lang ("+D(t.locals.langs[t.activeLang].name)+") ",1)])])])):v("v-if",!0)])):v("v-if",!0),so,e("h3",to,[b("Currencies "),e("button",{class:"button is-info is-pulled-right",onClick:s[8]||(s[8]=T(h=>a.addNew("currencies"),["prevent"]))},[g(m,{icon:"plus"}),b("   "),io])]),(r=t.locals)!=null&&r.currencies&&((f=t.locals)!=null&&f.currency)?(l(),c("div",no,[oo,e("div",ao,[e("div",lo,[u(e("select",{"onUpdate:modelValue":s[9]||(s[9]=h=>t.locals.currency=h)},[(l(!0),c(U,null,L(t.locals.currencies,h=>(l(),c("option",{value:h.code},D(h.code),9,co))),256))],512),[[P,t.locals.currency]])])])])):v("v-if",!0),($=t.locals)!=null&&$.currencies?(l(),c("div",ro,[e("div",uo,[e("aside",mo,[ho,g(y,{menuData:(A=t.locals)==null?void 0:A.currencies,menuParams:{value:"code",name:"code"},onUpdated:s[10]||(s[10]=h=>a.menuUpdate("currencies",h)),onAction:s[11]||(s[11]=h=>a.setActiveCurrency(h))},null,8,["menuData"])])]),t.activeCurrency!==null?(l(),c("div",vo,[e("div",_o,[e("div",po,[e("div",yo,[go,e("div",fo,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[12]||(s[12]=h=>t.locals.currencies[t.activeCurrency].code=h),placeholder:"Code"},null,512),[[_,t.locals.currencies[t.activeCurrency].code]])]),bo])])]),e("div",$o,[e("div",Do,[e("div",xo,[Mo,e("div",To,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[13]||(s[13]=h=>t.locals.currencies[t.activeCurrency].symbol=h),placeholder:"Symbol"},null,512),[[_,t.locals.currencies[t.activeCurrency].symbol]])]),Co])]),e("div",Uo,[e("div",Lo,[No,e("div",Po,[u(e("input",{class:"input",type:"number",step:"any",min:"0",required:"","onUpdate:modelValue":s[14]||(s[14]=h=>t.locals.currencies[t.activeCurrency].ratio=h),placeholder:"Ratio Long"},null,512),[[_,t.locals.currencies[t.activeCurrency].ratio]])]),So])])]),e("div",ko,[e("div",Ao,[e("button",{class:"button is-danger",onClick:s[15]||(s[15]=T(h=>a.deleteRecord("currencies","activeCurrency"),["prevent"])),translate:"yes"}," DELETE this currency ("+D(t.locals.currencies[t.activeCurrency].code)+") ",1)])])])):v("v-if",!0)])):v("v-if",!0),e("h3",Io,[b("Countries "),e("button",{class:"button is-info is-pulled-right",onClick:s[16]||(s[16]=T(h=>a.addNew("countries"),["prevent"]))},[g(m,{icon:"plus"}),b("   "),Vo])]),(I=t.locals)!=null&&I.countries&&((V=t.locals)!=null&&V.country)?(l(),c("div",wo,[Eo,e("div",Ro,[e("div",Fo,[u(e("select",{"onUpdate:modelValue":s[17]||(s[17]=h=>t.locals.country=h)},[(l(!0),c(U,null,L(t.locals.countries,h=>(l(),c("option",{value:h.code},D(h.name),9,qo))),256))],512),[[P,t.locals.country]])])])])):v("v-if",!0),(p=t.locals)!=null&&p.countries?(l(),c("div",Oo,[e("div",Bo,[e("aside",jo,[zo,g(y,{menuData:(w=t.locals)==null?void 0:w.countries,menuParams:{value:"code",name:"name"},onUpdated:s[18]||(s[18]=h=>a.menuUpdate("countries",h)),onAction:s[19]||(s[19]=h=>a.setActiveCountry(h))},null,8,["menuData"])])]),t.activeCountry!==null?(l(),c("div",Go,[e("div",Ho,[e("div",Ko,[e("div",Xo,[Jo,e("div",Zo,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[20]||(s[20]=h=>t.locals.countries[t.activeCountry].name=h),placeholder:"Name"},null,512),[[_,t.locals.countries[t.activeCountry].name]])]),Wo])])]),e("div",Qo,[e("div",Yo,[e("div",ea,[sa,e("div",ta,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[21]||(s[21]=h=>t.locals.countries[t.activeCountry].code=h),placeholder:"Code"},null,512),[[_,t.locals.countries[t.activeCountry].code]])]),ia])])]),e("div",na,[e("div",oa,[e("button",{class:"button is-danger",onClick:s[22]||(s[22]=T(h=>a.deleteRecord("langs","activeCurrency"),["prevent"])),translate:"yes"}," DELETE this Country ("+D(t.locals.countries[t.activeCountry].name)+") ",1)])])])):v("v-if",!0)])):v("v-if",!0)])]),aa,e("div",la,[e("div",ca,[e("button",ra,[g(m,{icon:"check"}),b("   "),da])])])],32)]),v(" user-info-edit-form-wrapper ")])):v("v-if",!0)}const q=k(gn,[["render",ua],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/SettingsLocals.vue"]]);const ma={name:"NavigationMain",data(){return{type:"main",activeNode:null,activeItem:null,activeId:null,activeNameLang:null,activeParamType:null,menudata:null,slugParamTypes:["null","url","params"]}},components:{Draggable:G},computed:{},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getMainNavigation()},methods:{getMainNavigation:function(){var s,n;const i=this;(s=this.$route.params)!=null&&s.type&&this.$route.params.type.trim()!==""&&(this.type=(n=this.$route.params)==null?void 0:n.type),this.$httpc.post("settings",{type:"navigation-"+this.type}).then(function(o){if(o.data&&o.data.constructor===Object){const t=i.$helpers.fromNavToTree(o.data.main,i.$store.getters.getLanguage);i.menudata=t,i.activeNameLang=i.$store.state.language.code}}).catch(function(o){i.sendChangeRequest=!1,i.status="error",console.error("navigationMain error:",o)}).then(function(){})},outputTree:function(i){var n;let s=this.$helpers.fromTreeToNav((n=i==null?void 0:i.targetTree)==null?void 0:n.outputNestedData());s=JSON.parse(JSON.stringify(s)),s=this.$helpers.fromNavToTree({items:s},this.$store.getters.getLanguage),this.menudata=s},getDetail:function(i,s,n){var o,t;this.activeItem=null,this.activeParamType="null",i&&i.$id&&(this.activeId=i.$id,this.activeNode=i),i&&i.subdata&&i.subdata!==null&&(this.activeItem=i.subdata,this.activeItem.slugParams&&(((o=this.activeItem.slugParams)==null?void 0:o.constructor)===Object?this.activeParamType="params":((t=this.activeItem.slugParams)==null?void 0:t.constructor)===String&&(this.activeParamType="url")))},changeMainNavigation:function(){const i=[];let s=!0;const n=this;let o=n.$helpers.fromTreeToNav(n.menudata);o={main:{items:o}},this.$httpc.put("settings",{type:"navigation-main",data:o}).then(function(t){var a;if(t.data&&(t.data===!1?(s=!1,i.push({target:"username",action:"already exists"})):s=!0),s){const m=n.$helpers.fromNavToTree((a=t.data)==null?void 0:a.main,n.$store.getters.getLanguage);n.menudata=m}i.length&&console.error("changeMainNavigation() errorMsgs: ",i)}).catch(function(t){n.sendChangeRequest=!1,n.status="error",t.response.data&&t.response.data.errors&&n.$helpers.showFormFieldErrorsFromErrorResponse(t.response.data.errors)}).then(function(){})},updateParamKeyName(i,s,n){var o,t;if(i&&((o=n==null?void 0:n.target)!=null&&o.value)){const a=(t=n==null?void 0:n.target)==null?void 0:t.value;this.activeItem.slugParams[a]=s,delete this.activeItem.slugParams[i]}},addNewMenuItem(){var i,s;if(this.menudata){const n=new Date().toISOString().split(".")[0].replace(/\:/gm,"").replace(/\-/gm,"").replace("T","-");let o={};(s=(i=this.$store)==null?void 0:i.state.coredata)!=null&&s.langCodes&&this.$store.state.coredata.langCodes.length>0&&this.$store.state.coredata.langCodes.forEach(a=>{o[a]={name:"New Item "+a.toUpperCase()+" - "+n}});let t=[...this.menudata];t.push({text:"New Item - "+n,subdata:{codename:"newitem-"+n,typeName:"--link",slugParams:"/",langs:o}}),this.menudata=t}},addNewSlugParam(){if(this.activeItem&&this.activeItem.slugParams){const i=this.activeItem.slugParams.length-1;this.activeItem.slugParams["param"+i]="value"+i}},updateNodeText(){var s;const i=this;if(this.activeItem.text=this.activeItem.langs[this.activeNameLang].name,(s=i.$refs)!=null&&s.draggableMenu){let n=i.$refs.draggableMenu.querySelector("[data-id="+i.activeId+"]");n&&(n.querySelector("span.text").textContent=this.activeItem.langs[this.activeNameLang].name)}this.checkForDuplicates()},checkForDuplicates(){if(this.activeItem){this.activeItem.codename,this.activeItem.langs[this.activeNameLang].name;let i=!1,s={},n={};const o=this.hasDuplicate(this.menudata,s,n);s=o.duplicateCount?o.duplicateCount:s,n=o.errors?o.errors:n,(o.duplicateCount.codename>=2||o.duplicateCount.name>=2)&&(i=!0),i?this.$helpers.showFormFieldErrorsFromErrorResponse(o.errors):this.$helpers.showFormFieldErrorsFromErrorResponse({name:null,codename:null})}},hasDuplicate(i,s,n){const o=this;return i&&i.constructor&&i.constructor===Array&&i.some(t=>{if(t.subdata.codename===this.activeItem.codename&&(s.codename&&s.codename>0?(s.codename++,n.codename="already-exists"):s.codename=1),t.subdata.langs[this.activeNameLang].name===this.activeItem.langs[this.activeNameLang].name&&(s.name&&s.name>0?(s.name++,n.name="already-exists"):s.name=1),t.children&&t.children.constructor&&t.children.constructor===Array){const a=o.hasDuplicate(t.children,s,n);s=a.duplicateCount?a.duplicateCount:s,n=a.errors?a.errors:n}}),console.debug("duplicateCount & errors:",s),{duplicateCount:s,errors:n}},deleteMenuItem(i,s){const n=this;if(i&&s&&confirm(`${n.$refs.deleteMenuItem.textContent} (${s.subdata.langs[this.activeNameLang].name})`)){n.activeNode=null,n.activeItem=null,n.activeId=null,n.activeNameLang=null,n.activeParamType=null,i.removeNode(s);let o=n.$helpers.fromTreeToNav(n.menudata);o=JSON.parse(JSON.stringify(o)),o=this.removeItemByCodename(o,s.subdata.codename),this.menudata=n.$helpers.fromNavToTree({items:o},n.$store.getters.getLanguage)}},removeItemByCodename(i,s){return i&&s&&i.forEach((n,o)=>{n={...n},n.subdata?i[o]=this.removeOrDive(n.subdata,s):i[o]=this.removeOrDive(n,s),i[o]===null&&i.splice(o,1)}),i},removeOrDive(i,s){let n=this;return i.items&&i.items.constructor===Array&&i.items.length&&(i.items=n.removeItemByCodename(i.items,s),(i.items===null||i.items.length<=0)&&delete i.items),i.codename&&i.codename===s&&(i=null),i}}},ha={key:0,id:"navigationMain",class:""},va=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Navigation Main")])],-1),_a={ref:"deleteMenuItem",class:"is-hidden",translate:"yes"},pa={class:"navigation-edit-form-wrapper"},ya={class:"columns"},ga={class:"column is-8 is-centered"},fa={class:"columns is-variable is-2 is-centered"},ba={ref:"draggableMenu",class:"column is-5 has-text-left"},$a=["onClick"],Da=e("span",{class:"holder"},"",-1),xa=["onClick"],Ma={key:1},Ta={class:"text"},Ca=["onClick"],Ua={class:"column is-7 has-text-left"},La={class:"columns is-variable is-2 is-centered"},Na={class:"column is-12"},Pa=e("span",{translate:"yes"},"Add New Menu Item",-1),Sa={key:0},ka=e("h3",{class:"title is-3 has-text-centered"},"Detail",-1),Aa={class:"columns is-variable is-2 is-centered"},Ia={class:"column is-12"},Va={class:"field codename"},wa=e("label",{class:"label",translate:"yes"},"Codename",-1),Ea={class:"control"},Ra=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Codename name can't be empty"),e("div",{class:"form-message","data-message":"already-exists",translate:"yes"},"This Codename already exists. Every item should have its onw unique Codename.")],-1),Fa={class:"columns is-variable is-2 is-centered"},qa={class:"column is-12"},Oa={class:"field typeName"},Ba=e("label",{class:"label",translate:"yes"},"Link Type",-1),ja={class:"control"},za=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Link Type can't be empty")],-1),Ga=e("hr",null,null,-1),Ha={class:"columns"},Ka={class:"column is-4"},Xa={class:"field paramType"},Ja=e("label",{class:"label",translate:"yes"},"Link Params",-1),Za={class:"control select"},Wa=["value"],Qa={key:0,class:"column is-8"},Ya=e("p",{class:"mt-5",translate:"yes"},"No slug params",-1),el=[Ya],sl={key:1,class:"column is-8"},tl={class:"field Type"},il=e("label",{class:"label",translate:"yes"},"Slug URL",-1),nl={class:"control"},ol=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Slug URL can't be empty")],-1),al={key:2,class:"column is-8 mt-5"},ll=e("span",{translate:"yes"},"Add Slug Param",-1),cl={key:0},rl={key:0},dl={class:"column is-5"},ul={class:"field paramName"},ml=e("label",{class:"label",translate:"yes"},"Param Name",-1),hl={class:"control"},vl=["value","onKeyup"],_l=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty")],-1),pl={class:"column is-6"},yl={class:"field paramValue"},gl=e("label",{class:"label",translate:"yes"},"Param Value",-1),fl={class:"control"},bl=["onUpdate:modelValue"],$l=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Param Value can't be empty")],-1),Dl={class:"column is-1 mt-5"},xl=e("hr",null,null,-1),Ml={class:"columns"},Tl={class:"column is-4"},Cl={class:"field nameLang"},Ul=e("label",{class:"label",translate:"yes"},"Name Lang",-1),Ll={class:"control select"},Nl=["value"],Pl={class:"column is-8"},Sl={key:0,class:"field name"},kl=e("label",{class:"label",translate:"yes"},"Name",-1),Al={class:"control"},Il=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not-empty",translate:"yes"},"Name can't be empty"),e("div",{class:"form-message","data-message":"already-exists",translate:"yes"},"This Name already exists")],-1),Vl=e("hr",null,null,-1),wl={class:"columns"},El={class:"column is-8 has-text-centered"},Rl={class:"button is-success",type:"submit"},Fl=e("span",{translate:"yes"},"Update Main Navigation",-1);function ql(i,s,n,o,t,a){const m=N("font-awesome-icon"),y=N("Draggable");return t.menudata?(l(),c("div",ha,[va,e("div",_a,"Are you sure, you want to DELETE this item?",512),e("div",pa,[e("form",{onSubmit:s[10]||(s[10]=T((...d)=>a.changeMainNavigation&&a.changeMainNavigation(...d),["prevent"]))},[e("div",ya,[e("div",ga,[e("div",fa,[e("div",ba,[g(y,{virtualization:"",treeData:t.menudata,onDrop:a.outputTree},{default:S(({node:d,index:x,tree:M})=>[e("div",{onClick:T(C=>a.getDetail(d,x,M),["prevent"]),class:E(["tree-node-clickable",d.$id===t.activeId?"is-active":"is-inactive"])},[Da,d.$children.length>0?(l(),c("b",{key:0,onClick:C=>M.toggleFold(d)},D(d.$folded?"+":"-")+" ",9,xa)):(l(),c("b",Ma,"   ")),e("span",Ta,D(d.text),1),e("a",{href:"#",class:"delete is-pulled-right",onClick:T(C=>a.deleteMenuItem(M,d),["stop"])},[g(m,{icon:"trash"})],8,Ca)],10,$a)]),_:1},8,["treeData","onDrop"])],512),e("div",Ua,[e("div",La,[e("div",Na,[e("button",{class:"button is-info is-pulled-right",type:"button",onClick:s[0]||(s[0]=d=>a.addNewMenuItem())},[g(m,{icon:"plus"}),b("   "),Pa])])]),t.activeItem?(l(),c("div",Sa,[ka,e("div",Aa,[e("div",Ia,[e("div",Va,[wa,e("div",Ea,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[1]||(s[1]=d=>t.activeItem.codename=d),placeholder:"Codename",onKeyup:s[2]||(s[2]=d=>a.checkForDuplicates())},null,544),[[_,t.activeItem.codename]])]),Ra])])]),e("div",Fa,[e("div",qa,[e("div",Oa,[Ba,e("div",ja,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[3]||(s[3]=d=>t.activeItem.typeName=d),placeholder:"Link Type"},null,512),[[_,t.activeItem.typeName]])]),za])])]),Ga,e("div",Ha,[e("div",Ka,[e("div",Xa,[Ja,e("div",Za,[u(e("select",{"onUpdate:modelValue":s[4]||(s[4]=d=>t.activeParamType=d)},[(l(!0),c(U,null,L(t.slugParamTypes,d=>(l(),c("option",{value:d},D(d),9,Wa))),256))],512),[[P,t.activeParamType]])])])]),t.activeParamType==="null"?(l(),c("div",Qa,el)):v("v-if",!0),t.activeParamType==="url"?(l(),c("div",sl,[e("div",tl,[il,e("div",nl,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[5]||(s[5]=d=>t.activeItem.slugParams=d),placeholder:"Slug URL"},null,512),[[_,t.activeItem.slugParams]])]),ol])])):v("v-if",!0),t.activeParamType==="params"?(l(),c("div",al,[e("button",{class:"button is-info is-pulled-right",onClick:s[6]||(s[6]=d=>a.addNewSlugParam())},[g(m,{icon:"plus"}),b("   "),ll])])):v("v-if",!0)]),t.activeParamType==="params"?(l(),c("div",cl,[t.activeItem.slugParams!==null&&t.activeItem.constructor===Object?(l(),c("div",rl,[(l(!0),c(U,null,L(t.activeItem.slugParams,(d,x)=>(l(),c("div",{class:"columns paramRow",key:x},[e("div",dl,[e("div",ul,[ml,e("div",hl,[e("input",{class:"input",type:"text",required:"",placeholder:"Name",value:x,onKeyup:T(M=>a.updateParamKeyName(x,d,M),["prevent"])},null,40,vl)]),_l])]),e("div",pl,[e("div",yl,[gl,e("div",fl,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":M=>t.activeItem.slugParams[x]=M,placeholder:"Param Value"},null,8,bl),[[_,t.activeItem.slugParams[x]]])]),$l])]),e("div",Dl,[g(m,{icon:"trash"})])]))),128))])):v("v-if",!0)])):v("v-if",!0),xl,e("div",Ml,[e("div",Tl,[e("div",Cl,[Ul,e("div",Ll,[u(e("select",{"onUpdate:modelValue":s[7]||(s[7]=d=>t.activeNameLang=d)},[(l(!0),c(U,null,L(i.$store.state.coredata.langs,d=>(l(),c("option",{value:d.code},D(d.name),9,Nl))),256))],512),[[P,t.activeNameLang]])])])]),e("div",Pl,[t.activeNameLang?(l(),c("div",Sl,[kl,e("div",Al,[u(e("input",{class:"input",type:"text",required:"","onUpdate:modelValue":s[8]||(s[8]=d=>t.activeItem.langs[t.activeNameLang].name=d),onKeyup:s[9]||(s[9]=T(d=>a.updateNodeText(),["prevent"])),placeholder:"Name"},null,544),[[_,t.activeItem.langs[t.activeNameLang].name]])]),Il])):v("v-if",!0)])])])):v("v-if",!0)])])])]),Vl,e("div",wl,[e("div",El,[e("button",Rl,[g(m,{icon:"check"}),b("   "),Fl])])])],32)]),v(" navigationMain-edit-form-wrapper ")])):v("v-if",!0)}const O=k(ma,[["render",ql],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/NavigationMain.vue"]]);const Ol={name:"Translates",data(){return{dictionary:null}},computed:{},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates),this.getDictionary(),window.addEventListener("jamlin-editor-dictionary-get-response",i=>{this.sendDictionary(i==null?void 0:i.detail)})},methods:{getDictionary:function(){const i=this;this.$httpc.get("coredata/translation",{params:{full:!0}}).then(function(s){s.data&&s.data.constructor===Object&&(i.dictionary=s.data)}).catch(function(s){i.sendChangeRequest=!1,i.status="error",console.error("translates getDictionary() error:",s)}).then(function(){i.dictionary&&window.dispatchEvent(new CustomEvent("jamlin-editor-dictionary-set",{detail:i.dictionary}))})},saveDictionary(){window.dispatchEvent(new CustomEvent("jamlin-editor-dictionary-get"))},sendDictionary:function(i){i&&this.$httpc.put("coredata/translation",{dictionary:i}).then(function(s){console.debug("translates setDictionary response: ",s)}).catch(function(s){console.error("translates setDictionary error: ",s)}).then(function(){})}}},Bl={key:0,id:"translates",class:""},jl=e("div",{class:"columns is-variable is-2"},[e("div",{class:"column is-8 has-text-centered"},[e("h2",{class:"title is-2 has-text-centered"},"Translates")])],-1),zl=e("div",{class:"columns"},[e("div",{class:"column is-centered"},[e("jamlin-editor-component",{splash:"false",style:{height:"500px",display:"block",position:"relative"}})])],-1),Gl={class:"columns"},Hl={class:"column has-text-centered"},Kl=e("span",{translate:"yes"},"Update Translates",-1);function Xl(i,s,n,o,t,a){var y,d,x,M,C;const m=N("font-awesome-icon");return(C=(M=(x=(d=(y=i.$store)==null?void 0:y.state)==null?void 0:d.coredata)==null?void 0:x.settings)==null?void 0:M.editableSettings)!=null&&C.translates?(l(),c("div",Bl,[jl,zl,e("div",Gl,[e("div",Hl,[e("button",{class:"button is-success",type:"submit",onClick:s[0]||(s[0]=T(r=>a.saveDictionary(),["prevent"]))},[g(m,{icon:"check"}),b("   "),Kl])])])])):v("v-if",!0)}const B=k(Ol,[["render",Xl],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/Translates.vue"]]);const Jl={name:"Users",data(){return{activeDeliveryAddressIndex:0,activeDeliveryAddress:{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""},deliveryFilter:""}},computed:{userDeliveryAddress:function(){const i=this.$store.getters.getUserProfile.addressesDelivery;let s=[];if(i&&i.length>0&&(s=i,this.deliveryFilter.toString().trim()!=="")){const n=this.deliveryFilter.toString().trim().toLowerCase(),o=[];i.forEach((t,a)=>{let m=!1;for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&t[y].toString().trim().toLowerCase().indexOf(n)>-1&&(m=!0);m&&o.push(t)}),o.length>0&&(s=o)}return s}},mounted:function(){this.getUserDetail(0),this.eventBus.emit("translateContent",this.$store.getters.getTranslates)},methods:{getUserDetail:function(i,s){let n=typeof i<"u"&&i>-1?i:null;if(n===null&&(n=0),this.activeDeliveryAddressIndex=n,this.activeDeliveryAddress=this.userDeliveryAddress[n],typeof this.activeDeliveryAddress>"u"||!this.activeDeliveryAddress){const o=this.$store.state.user.profile.addressesDelivery[n];typeof o<"u"&&(this.activeDeliveryAddress=o)}s?this.markActiveUser(s.target.parentNode):this.markActiveUser()},addNewUser:function(){const i=this;this.$store.dispatch("addNewUser",{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""}).then(()=>{i.getUserDetail(),i.$forceUpdate()}),this.$forceUpdate()},removeDeliveryAddress:function(i){const s=this;this.$store.dispatch("removeDeliveryAddress",i).then(()=>{s.activeDeliveryAddressIndex=0,s.$forceUpdate(),s.saveUserDetail()})},saveUserDetail:function(){if(this.$helpers.verifyAddress(this.activeDeliveryAddress)){const i=[],s=this.$store.getters.getUserProfile;if(i.push(s.addressInvoice),s.addressesDelivery.length>0)for(let n=0;n<s.addressesDelivery.length;n++)i.push(s.addressesDelivery[n]);this.$store.dispatch("updateUser",{addresses:i})}},markActiveUser:function(i){const s=typeof i<"u"&&i?i:null;this.activeDeliveryAddressIndex=0,this.$store.state.user.profile&&this.$store.state.user.profile.addressesDelivery.length>1&&(this.activeDeliveryAddressIndex=this.$store.state.user.profile.addressesDelivery.length-1);const n=this.$el.querySelectorAll(".settings #users nav.user-settings-delivery-nav .panel-block.special--right-action");n&&n.length&&n.forEach(o=>{o.classList.remove("is-active")}),s?s.classList.add("is-active"):n&&n.length>0&&n[0].classList.add("is-active")}}},Zl={key:0,id:"users",class:""},Wl=e("div",{class:"columns is-variable"},[e("div",{class:"column is-8"},[e("h2",{class:"title is-2 has-text-centered",translate:"yes"},"Users")])],-1),Ql={class:"columns"},Yl={key:0,class:"column is-8"},ec={class:"deliveryAddressWrapper"},sc={class:"columns is-variable is-2"},tc={class:"column is-6"},ic={class:"field nameFirst"},nc=e("label",{class:"label",translate:"yes"},"First Name",-1),oc={class:"control"},ac=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),lc={class:"column is-6"},cc={class:"field nameLast"},rc=e("label",{class:"label",translate:"yes"},"Last Name",-1),dc={class:"control"},uc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),mc={class:"columns is-variable is-2"},hc={class:"column is-12"},vc={class:"field street"},_c=e("label",{class:"label",translate:"yes"},"Street",-1),pc={class:"control"},yc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),gc={class:"columns is-variable is-2"},fc={class:"column is-12"},bc={class:"field street2"},$c=e("label",{class:"label",translate:"yes"},"Street 2",-1),Dc={class:"control"},xc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Mc={class:"columns is-variable is-2"},Tc={class:"column is-4"},Cc={class:"field zip"},Uc=e("label",{class:"label",translate:"yes"},"ZIP",-1),Lc={class:"control"},Nc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Pc={class:"column is-8"},Sc={class:"field city"},kc=e("label",{class:"label",translate:"yes"},"City",-1),Ac={class:"control"},Ic=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Vc={class:"columns is-variable is-2"},wc={class:"column is-6"},Ec={class:"field state"},Rc=e("label",{class:"label",translate:"yes"},"State",-1),Fc={class:"control"},qc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Oc={class:"column is-6"},Bc={class:"field country"},jc=e("label",{class:"label",translate:"yes"},"Country",-1),zc={class:"control select"},Gc=["value"],Hc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Kc={class:"columns is-variable is-2 is-centered"},Xc={class:"column is-6"},Jc={class:"field phone"},Zc=e("label",{class:"label",translate:"yes"},"Phone",-1),Wc={class:"control"},Qc=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This value cannot be empty")],-1),Yc={class:"columns is-variable is-2 is-centered"},er={class:"column is-6 has-text-centered"},sr={type:"submit",class:"button is-success"},tr=e("span",{translate:"yes"},"Address",-1),ir={class:"column is-4"},nr={class:"panel user-settings-delivery-nav"},or=e("p",{class:"panel-heading",translate:"yes"}," Accounts ",-1),ar={class:"panel-block"},lr={class:"control has-icons-left"},cr=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-search","aria-hidden":"true"})],-1),rr={class:"panel-block special--right-action"},dr=["onClick"],ur=["onClick"],mr={class:"panel-block"},hr=e("span",{translate:"yes"},"Add New Delivery Address",-1);function vr(i,s,n,o,t,a){var y,d,x,M,C;const m=N("font-awesome-icon");return(C=(M=(x=(d=(y=i.$store)==null?void 0:y.state)==null?void 0:d.coredata)==null?void 0:x.settings)==null?void 0:M.editableSettings)!=null&&C.users?(l(),c("div",Zl,[Wl,e("div",Ql,[t.activeDeliveryAddress?(l(),c("div",Yl,[e("form",{onSubmit:s[9]||(s[9]=T((...r)=>a.saveUserDetail&&a.saveUserDetail(...r),["prevent"]))},[e("div",ec,[e("div",sc,[e("div",tc,[e("div",ic,[nc,e("div",oc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>t.activeDeliveryAddress.nameFirst=r),translate:"yes",placeholder:"First Name"},null,512),[[_,t.activeDeliveryAddress.nameFirst]])]),ac])]),e("div",lc,[e("div",cc,[rc,e("div",dc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>t.activeDeliveryAddress.nameLast=r),translate:"yes",placeholder:"Last Name"},null,512),[[_,t.activeDeliveryAddress.nameLast]])]),uc])])]),e("div",mc,[e("div",hc,[e("div",vc,[_c,e("div",pc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>t.activeDeliveryAddress.street=r),translate:"yes",placeholder:"Street"},null,512),[[_,t.activeDeliveryAddress.street]])]),yc])])]),e("div",gc,[e("div",fc,[e("div",bc,[$c,e("div",Dc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[3]||(s[3]=r=>t.activeDeliveryAddress.street2=r),translate:"yes",placeholder:"Street 2"},null,512),[[_,t.activeDeliveryAddress.street2]])]),xc])])]),e("div",Mc,[e("div",Tc,[e("div",Cc,[Uc,e("div",Lc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[4]||(s[4]=r=>t.activeDeliveryAddress.zip=r),translate:"yes",placeholder:"ZIP"},null,512),[[_,t.activeDeliveryAddress.zip]])]),Nc])]),e("div",Pc,[e("div",Sc,[kc,e("div",Ac,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[5]||(s[5]=r=>t.activeDeliveryAddress.city=r),translate:"yes",placeholder:"City"},null,512),[[_,t.activeDeliveryAddress.city]])]),Ic])])]),e("div",Vc,[e("div",wc,[e("div",Ec,[Rc,e("div",Fc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[6]||(s[6]=r=>t.activeDeliveryAddress.state=r),translate:"yes",placeholder:"State"},null,512),[[_,t.activeDeliveryAddress.state]])]),qc])]),e("div",Oc,[e("div",Bc,[jc,e("div",zc,[i.$store.state.coredata&&i.$store.state.coredata.countries?u((l(),c("select",{key:0,"onUpdate:modelValue":s[7]||(s[7]=r=>t.activeDeliveryAddress.country=r)},[(l(!0),c(U,null,L(i.$store.state.coredata.countries,r=>(l(),c("option",{value:r.code,key:r.code},D(r.name),9,Gc))),128))],512)),[[P,t.activeDeliveryAddress.country]]):v("v-if",!0)]),Hc])])]),e("div",Kc,[e("div",Xc,[e("div",Jc,[Zc,e("div",Wc,[u(e("input",{class:"input",type:"text","onUpdate:modelValue":s[8]||(s[8]=r=>t.activeDeliveryAddress.phone=r),translate:"yes",placeholder:"Phone"},null,512),[[_,t.activeDeliveryAddress.phone]])]),Qc])])]),e("div",Yc,[e("div",er,[e("button",sr,[g(m,{icon:"check"}),b("   "),tr])])])])],32)])):v("v-if",!0),e("div",ir,[e("nav",nr,[or,e("div",null,[e("div",ar,[e("p",lr,[u(e("input",{class:"input is-small",type:"text","onUpdate:modelValue":s[10]||(s[10]=r=>t.deliveryFilter=r),placeholder:"search"},null,512),[[_,t.deliveryFilter]]),cr])]),(l(!0),c(U,null,L(a.userDeliveryAddress,(r,f)=>(l(),c("div",{key:f},[e("div",rr,[e("a",{class:"user-delivery--get",onClick:$=>a.getUserDetail(f,$)},D(r.street)+", "+D(r.zip),9,dr),e("a",{class:"user-delivery--delete",onClick:$=>a.removeDeliveryAddress(f)},[g(m,{icon:"trash"})],8,ur)])]))),128))]),e("div",mr,[e("button",{class:"button is-primary is-outlined is-fullwidth",onClick:s[11]||(s[11]=r=>a.addNewUser())},[g(m,{icon:"plus"}),b("   "),hr])])])])])])):v("v-if",!0)}const j=k(Jl,[["render",vr],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/Users.vue"]]),_r={name:"Settings",components:{SettingsBusiness:R,SettingsOrders:F,SettingsLocals:q,NavigationMain:O,Translates:B,Users:j},data(){return{activeComponent:R,menuStates:{Settings:!0,SettingsOrders:!1,SettingsLocals:!1,NavigationMain:!1,Translates:!1,Users:!1},availablePaths:{orders:F,locals:q,nav:O,trans:B,users:j}}},computed:{canEditCoreSettings:function(){var i,s,n,o,t,a,m,y,d;return!!((s=(i=this.$store.state)==null?void 0:i.coredata)!=null&&s.langs&&((t=(o=(n=this.$store.state)==null?void 0:n.user)==null?void 0:o.profile)==null?void 0:t.type)=="admin"&&((d=(y=(m=(a=this.$store.state)==null?void 0:a.coredata)==null?void 0:m.settings)==null?void 0:y.editableSettings)==null?void 0:d.core)===!0)},canEditUsersSettings:function(){var i,s,n,o,t,a,m,y,d;return!!((s=(i=this.$store.state)==null?void 0:i.coredata)!=null&&s.langs&&((t=(o=(n=this.$store.state)==null?void 0:n.user)==null?void 0:o.profile)==null?void 0:t.type)=="admin"&&((d=(y=(m=(a=this.$store.state)==null?void 0:a.coredata)==null?void 0:m.settings)==null?void 0:y.editableSettings)==null?void 0:d.users)===!0)},canEditTranslates:function(){var i,s,n,o,t,a,m,y,d;return!!((s=(i=this.$store.state)==null?void 0:i.coredata)!=null&&s.langs&&((t=(o=(n=this.$store.state)==null?void 0:n.user)==null?void 0:o.profile)==null?void 0:t.type)=="admin"&&((d=(y=(m=(a=this.$store.state)==null?void 0:a.coredata)==null?void 0:m.settings)==null?void 0:y.editableSettings)==null?void 0:d.translates)===!0)},isLogged:function(){return typeof this.$store<"u"&&typeof this.$store.state.user.logged<"u"?this.$store.state.user.logged:!1}},created:function(){let i=this.$route.path.split("/");i=i.filter(function(s){return s!==""}),i.length>2&&typeof this.availablePaths[i[2]]<"u"&&(this.activeComponent=this.availablePaths[i[2]])},methods:{userComponent:function(i,s){this.$options.components&&this.$options.components[i]&&(this.activeComponent=this.$options.components[i]);const n=this.$el.querySelectorAll(".users-me nav.user-settings-nav a.panel-block");n&&n.length&&n.forEach(o=>{o.classList.remove("is-active")}),s.target.classList.add("is-active")}}},pr={class:"container settings"},yr={key:0},gr={class:"columns is-variable has-text-left"},fr={class:"column is-3 pr-6"},br={class:"mt-6 user-settings-nav"},$r={class:"menu"},Dr=e("p",{class:"menu-label",translate:"yes"}," Site Settings ",-1),xr={class:"menu-list"},Mr={key:0},Tr={key:1},Cr={key:2},Ur={key:3},Lr={key:4},Nr={key:5},Pr={class:"column is-9"},Sr=e("h1",{class:"title is-1 has-text-weight-normal",translate:"yes"},"Settings",-1),kr={key:1},Ar={class:"columns"},Ir={class:"column"},Vr=e("h1",{class:"title is-1",translate:"yes"},"Unauthorized",-1),wr=e("span",{translate:"yes"},"It may help if you",-1);function Er(i,s,n,o,t,a){const m=N("router-link");return l(),c("div",pr,[a.isLogged?(l(),c("div",yr,[e("div",gr,[e("div",fr,[e("nav",br,[e("aside",$r,[Dr,e("ul",xr,[a.canEditCoreSettings?(l(),c("li",Mr,[g(m,{to:{name:"settings"},tag:"a","active-class":"is-active",translate:"yes",exact:""},{default:S(()=>[b("Business")]),_:1})])):v("v-if",!0),a.canEditCoreSettings?(l(),c("li",Tr,[g(m,{to:{name:"settingsOrders"},tag:"a","active-class":"is-active",translate:"yes"},{default:S(()=>[b("Order")]),_:1})])):v("v-if",!0),a.canEditCoreSettings?(l(),c("li",Cr,[g(m,{to:{name:"SettingsLocals"},tag:"a","active-class":"is-active",translate:"yes"},{default:S(()=>[b("Locals")]),_:1})])):v("v-if",!0),a.canEditCoreSettings?(l(),c("li",Ur,[g(m,{to:{name:"NavigationMain",params:{type:"main"}},tag:"a","active-class":"is-active",translate:"yes"},{default:S(()=>[b("Navigation Main")]),_:1})])):v("v-if",!0),a.canEditCoreSettings?(l(),c("li",Lr,[g(m,{to:{name:"NavigationMain",params:{type:"footer"}},tag:"a","active-class":"is-active",translate:"yes"},{default:S(()=>[b("Navigation Footer")]),_:1})])):v("v-if",!0),a.canEditCoreSettings&&a.canEditTranslates?(l(),c("li",Nr,[g(m,{to:{name:"Translates"},tag:"a","active-class":"is-active",translate:"yes"},{default:S(()=>[b("Translates")]),_:1})])):v("v-if",!0),v(` <li v-if="canEditCoreSettings && canEditUsersSettings"><router-link v-bind:to="{name:'Users'}" tag="a" active-class="is-active" translate="yes">Users</router-link></li> `)])])])]),e("div",Pr,[Sr,(l(),H(K(t.activeComponent)))])])])):(l(),c("div",kr,[e("div",Ar,[e("div",Ir,[Vr,e("p",null,[wr,b(" "),g(m,{to:{name:"login"},tag:"a",translate:"yes"},{default:S(()=>[b("log in")]),_:1})])])])]))])}const Or=k(_r,[["render",Er],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/settings/Settings.vue"]]);export{Or as default};
