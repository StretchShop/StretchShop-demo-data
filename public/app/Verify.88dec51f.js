import{_ as u,c as n,a as t,t as h,e as m,f as _,j as p,g as c,r as f,o as i}from"./index.fce5a309.js";const y={name:"UsersVerify",data(){return{error:!1}},computed:{email:function(){const e=new RegExp("--","g");return this.$route.params.id.toString().replace("---","@").replace(e,".")}},mounted:function(){this.sendVerifycation()},methods:{sendVerifycation:function(){const e=this,o=decodeURIComponent(this.$route.params.id),a=decodeURIComponent(this.$route.params.hash);this.$httpc.post("user/verify",{email:o,hash:a},{timeout:7e3}).then(function(s){if(s.data.user){e.$store.state.user.logged=!0,e.$store.state.user.remember=e.remember;const r=s.data.user;e.$store.dispatch("setUser",r),e.$router.push({name:"me"})}}).catch(function(s){console.error(s),e.error=!0}).then(function(){e.$store.state.user.logged?e.$router.push({name:"me"}):e.error=!0})}}},$={class:"container users-me"},g={class:"columns"},v={class:"column"},V=t("h1",{class:"title is-1",translate:"yes"},"Verify",-1),x={class:""},k={key:0},C=t("p",{class:"has-text-danger",translate:"yes"},"Activation link is not valid anymore (valid only for 2 hours)",-1),N=t("span",{translate:"yes"},"If more than 2 hours passed, try to",-1),U=c(" \xA0"),w=c("reset your password");function B(e,o,a,s,r,d){const l=f("router-link");return i(),n("div",$,[t("div",g,[t("div",v,[V,t("p",x,h(d.email),1),r.error?(i(),n("div",k,[C,t("p",null,[N,U,m(l,{to:{name:"reset"},tag:"a",translate:"yes"},{default:_(()=>[w]),_:1})])])):p("",!0)])])])}const R=u(y,[["render",B]]);export{R as default};
