import{_ as g,o as m,c as p,a as s,w as T,b as n,v as a,h as V,F as x,i as I,j as w,e as C,p as U,k,g as f,r as F,t as S}from"./index.f358bf2e.js";const N={name:"UsersRegister",data(){return{sent:!1,user:{username:"",email:"",email2:"",password:"",password2:"",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:"",companyName:"",companyOrgId:"",companyTaxId:"",companyTaxVatId:""}}},created:function(){},methods:{userRegister:function(){let i=null;const o=["username","email","password"],d=["email","password"],r=this;if(i=this.$helpers.propertiesRequiredConfirm(this.user,o,d),i.result){const e={user:{username:this.user.username,email:this.user.email,password:this.user.password}};this.$store.state.language&&this.$store.state.language.code&&this.$store.state.currency&&this.$store.state.currency.code&&(e.user.settings={language:this.$store.state.language.code,currency:this.$store.state.currency.code});const c=this.checkFillAddress();c&&(e.user.addresses=[],e.user.addresses.push(c));const h=this.checkFillCompany();h&&(e.user.company=[],e.user.company.push(h)),this.$helpers.recaptcha(this,"register").then(t=>this.$httpc.post("helpers/recaptcha",{token:t},{timeout:3e3}).then(u=>u)).catch(function(t){if(t&&console.error("error:",t),console.log("RECAPTCHA NOT WORKING! Make sure you have RECAPTCHA variables set in backend enviroment."),confirm(`RECAPTCHA NOT WORKING
Are you sure you want to Login?

See console for more information`))return{data:!0}}).then(t=>{t&&t.data===!0&&this.$httpc.post("users/register",e,{timeout:5e3}).then(function(u){r.sent=!0;const v=r.$el.querySelector(".field.");Object.keys(v).forEach(function(_){r.$helpers.undecorateFormField(_,"danger")})}).catch(function(u){u.response&&u.response.data&&u.response.data.errors&&Object.keys(u.response.data.errors).length>0&&Object.keys(u.response.data.errors).forEach(function(v){const _=r.$el.querySelector(".field."+v);if(_){const y=_.querySelector('.form-messages .form-message[data-message="'+u.response.data.errors[v]+'"]');if(y&&y!==null){const b=y.innerText;r.$helpers.decorateFormField(_,b,"danger")}}})}).then(function(){})})}else i&&i.fields&&i.errors?(this.$el.querySelector(".field."+i.fields[0]).scrollIntoView({behaviour:"smooth",block:"start",inline:"nearest"}),this.$helpers.formUndecorateAndDecorateFields(i.fields,i.errors)):(this.$el.querySelector(".field."+o.fields[0]).scrollIntoView({behaviour:"smooth",block:"start",inline:"nearest"}),this.$helpers.formUndecorateAndDecorateFields(o,[]))},checkFillAddress:function(){let i=null;const o=["nameFirst","nameLast","street","street2","zip","city","state","country","phone"],d={};let r=!1;const e=this;return o.forEach(function(c){e.user[c].trim()!==""&&(d[c]=e.user[c].trim(),r=!0)}),r&&(d.type="invoice",i=d),i},checkFillCompany:function(){let i=null;const o=["companyName","companyOrgId","companyTaxId","companyTaxVatId"],d={};let r=!1;const e=this;return o.forEach(function(c){e.user[c].trim()!==""&&(d[c]=e.user[c].trim(),r=!0)}),r&&(i=d),i}}},l=i=>(U("data-v-11b0080c"),i=i(),k(),i),A={class:"container users-login"},R=l(()=>s("div",{class:"columns"},[s("div",{class:"column"},[s("h1",{class:"title is-1",translate:"yes"},"Register")])],-1)),E={class:"columns"},O={key:0,class:"column is-half is-offset-one-quarter"},P={class:"simple-wrapper"},D=l(()=>s("div",{class:"columns is-variable is-2 is-centered"},[s("div",{class:"column is-12",translate:"yes"}," Required Fields ")],-1)),q={class:"columns is-variable is-2 is-centered"},L={class:"column is-12"},H={class:"field username"},j=l(()=>s("label",{class:"label",translate:"yes"},"Username",-1)),z={class:"control"},G=l(()=>s("div",{class:"form-messages is-hidden"},[s("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty")],-1)),M={class:"columns is-variable is-2 is-centered"},B={class:"column is-6"},K={class:"field email"},W=l(()=>s("label",{class:"label",translate:"yes"},"Email",-1)),Z={class:"control"},Y=l(()=>s("div",{class:"form-messages is-hidden"},[s("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty"),s("div",{class:"form-message","data-message":"exists",translate:"yes"},"This email already exists")],-1)),J={class:"column is-6"},Q={class:"field email2"},X=l(()=>s("label",{class:"label"},"Email Confirm",-1)),$={class:"control"},ss=l(()=>s("div",{class:"form-messages is-hidden"},[s("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty"),s("div",{class:"form-message","data-message":"not confirmed",translate:"yes"},"Values do not match")],-1)),es={class:"columns is-variable is-2 is-centered"},ts={class:"column is-6"},os={class:"field password"},ls=l(()=>s("label",{class:"label"},"Password",-1)),is={class:"control"},ns=l(()=>s("div",{class:"form-messages is-hidden"},[s("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty")],-1)),as={class:"column is-6"},cs={class:"field password2"},rs=l(()=>s("label",{class:"label"},"Password Confirm",-1)),ds={class:"control"},us=l(()=>s("div",{class:"form-messages is-hidden"},[s("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty"),s("div",{class:"form-message","data-message":"not confirmed",translate:"yes"},"Values do not match")],-1)),ms=l(()=>s("div",{class:"columns"},[s("div",{class:"column is-12"},[s("hr")])],-1)),ps={class:"columns is-variable is-2"},_s={class:"column is-6"},hs={class:"field"},vs=l(()=>s("label",{class:"label"},"First Name",-1)),fs={class:"control"},ys={class:"column is-6"},bs={class:"field"},gs=l(()=>s("label",{class:"label"},"Last Name",-1)),Ts={class:"control"},Vs={class:"columns is-variable is-2"},xs={class:"column is-12"},Is={class:"field"},ws=l(()=>s("label",{class:"label"},"Street",-1)),Cs={class:"control"},Us={class:"columns is-variable is-2"},ks={class:"column is-12"},Fs={class:"field"},Ss=l(()=>s("label",{class:"label"},"Street 2",-1)),Ns={class:"control"},As={class:"columns is-variable is-2"},Rs={class:"column is-4"},Es={class:"field"},Os=l(()=>s("label",{class:"label"},"ZIP",-1)),Ps={class:"control"},Ds={class:"column is-8"},qs={class:"field"},Ls=l(()=>s("label",{class:"label"},"City",-1)),Hs={class:"control"},js={class:"columns is-variable is-2"},zs={class:"column is-6"},Gs={class:"field"},Ms=l(()=>s("label",{class:"label"},"State",-1)),Bs={class:"control"},Ks={class:"column is-6"},Ws={class:"field"},Zs=l(()=>s("label",{class:"label"},"Country",-1)),Ys={class:"control select"},Js=["value"],Qs={class:"columns is-variable is-2 is-centered"},Xs={class:"column is-6"},$s={class:"field"},se=l(()=>s("label",{class:"label"},"Phone",-1)),ee={class:"control"},te={class:"simple-wrapper"},oe=l(()=>s("div",{class:"columns is-variable is-2 is-centered"},[s("div",{class:"column is-12",translate:"yes"}," If you are company ")],-1)),le={class:"columns is-variable is-2 is-centered"},ie={class:"column is-12"},ne={class:"field companyName"},ae=l(()=>s("label",{class:"label",translate:"yes"},"Company Name",-1)),ce={class:"control"},re={class:"columns is-variable is-2 is-centered"},de={class:"column is-6"},ue={class:"field companyOrgId"},me=l(()=>s("label",{class:"label",translate:"yes"},"Organisation ID",-1)),pe={class:"control"},_e={class:"columns is-variable is-2 is-centered"},he={class:"column is-6"},ve={class:"field companyTaxId"},fe=l(()=>s("label",{class:"label"},"Company Tax ID",-1)),ye={class:"control"},be={class:"column is-6"},ge={class:"field companyTaxVatId"},Te=l(()=>s("label",{class:"label"},"Company VAT ID",-1)),Ve={class:"control"},xe=l(()=>s("hr",null,null,-1)),Ie={class:"button is-success"},we=f(" \xA0 Register "),Ce=l(()=>s("p",null,[f(" This site is protected by reCAPTCHA and the Google"),s("br"),s("a",{href:"https://policies.google.com/privacy"},"Privacy Policy"),f(" and "),s("a",{href:"https://policies.google.com/terms"},"Terms of Service"),f(" apply. ")],-1)),Ue={key:1,class:"column is-half is-offset-one-quarter"},ke=l(()=>s("h2",{class:"title is-2",translate:"yes"},"Your registration was successfull, we are sending you email",-1)),Fe=l(()=>s("p",{translate:"yes"},"Check your mailbox for verification email (if not found check, also you spam folder).",-1)),Se=[ke,Fe];function Ne(i,o,d,r,e,c){const h=F("font-awesome-icon");return m(),p("div",A,[R,s("div",E,[e.sent?(m(),p("div",Ue,Se)):(m(),p("div",O,[s("form",{onSubmit:o[18]||(o[18]=T((...t)=>c.userRegister&&c.userRegister(...t),["prevent"]))},[s("div",P,[D,s("div",q,[s("div",L,[s("div",H,[j,s("div",z,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>e.user.username=t),placeholder:"Username"},null,512),[[a,e.user.username]])]),G])])]),s("div",M,[s("div",B,[s("div",K,[W,s("div",Z,[n(s("input",{class:"input",type:"email","onUpdate:modelValue":o[1]||(o[1]=t=>e.user.email=t),placeholder:"Email"},null,512),[[a,e.user.email]])]),Y])]),s("div",J,[s("div",Q,[X,s("div",$,[n(s("input",{class:"input",type:"email","onUpdate:modelValue":o[2]||(o[2]=t=>e.user.email2=t),placeholder:"Email Confirm"},null,512),[[a,e.user.email2]])]),ss])])]),s("div",es,[s("div",ts,[s("div",os,[ls,s("div",is,[n(s("input",{class:"input",type:"password","onUpdate:modelValue":o[3]||(o[3]=t=>e.user.password=t),placeholder:"Password"},null,512),[[a,e.user.password]])]),ns])]),s("div",as,[s("div",cs,[rs,s("div",ds,[n(s("input",{class:"input",type:"password","onUpdate:modelValue":o[4]||(o[4]=t=>e.user.password2=t),placeholder:"Password Confirm"},null,512),[[a,e.user.password2]])]),us])])])]),ms,s("div",ps,[s("div",_s,[s("div",hs,[vs,s("div",fs,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[5]||(o[5]=t=>e.user.nameFirst=t),placeholder:"First Name"},null,512),[[a,e.user.nameFirst]])])])]),s("div",ys,[s("div",bs,[gs,s("div",Ts,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[6]||(o[6]=t=>e.user.nameLast=t),placeholder:"Last Name"},null,512),[[a,e.user.nameLast]])])])])]),s("div",Vs,[s("div",xs,[s("div",Is,[ws,s("div",Cs,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[7]||(o[7]=t=>e.user.street=t),placeholder:"Street"},null,512),[[a,e.user.street]])])])])]),s("div",Us,[s("div",ks,[s("div",Fs,[Ss,s("div",Ns,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[8]||(o[8]=t=>e.user.street2=t),placeholder:"Street 2"},null,512),[[a,e.user.street2]])])])])]),s("div",As,[s("div",Rs,[s("div",Es,[Os,s("div",Ps,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[9]||(o[9]=t=>e.user.zip=t),placeholder:"ZIP"},null,512),[[a,e.user.zip]])])])]),s("div",Ds,[s("div",qs,[Ls,s("div",Hs,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[10]||(o[10]=t=>e.user.city=t),placeholder:"City"},null,512),[[a,e.user.city]])])])])]),s("div",js,[s("div",zs,[s("div",Gs,[Ms,s("div",Bs,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[11]||(o[11]=t=>e.user.state=t),placeholder:"State"},null,512),[[a,e.user.state]])])])]),s("div",Ks,[s("div",Ws,[Zs,s("div",Ys,[i.$store.state.coredata&&i.$store.state.coredata.countries?n((m(),p("select",{key:0,"onUpdate:modelValue":o[12]||(o[12]=t=>e.user.country=t)},[(m(!0),p(x,null,I(i.$store.state.coredata.countries,t=>(m(),p("option",{value:t.code,key:t.code},S(t.name),9,Js))),128))],512)),[[V,e.user.country]]):w("",!0)])])])]),s("div",Qs,[s("div",Xs,[s("div",$s,[se,s("div",ee,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[13]||(o[13]=t=>e.user.phone=t),placeholder:"Phone"},null,512),[[a,e.user.phone]])])])])]),s("div",te,[oe,s("div",le,[s("div",ie,[s("div",ne,[ae,s("div",ce,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[14]||(o[14]=t=>e.user.companyName=t),placeholder:"Company Name"},null,512),[[a,e.user.companyName]])])])])]),s("div",re,[s("div",de,[s("div",ue,[me,s("div",pe,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[15]||(o[15]=t=>e.user.companyOrgId=t),placeholder:"Organisation ID"},null,512),[[a,e.user.companyOrgId]])])])])]),s("div",_e,[s("div",he,[s("div",ve,[fe,s("div",ye,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[16]||(o[16]=t=>e.user.companyTaxId=t),placeholder:"Company Tax ID"},null,512),[[a,e.user.companyTaxId]])])])]),s("div",be,[s("div",ge,[Te,s("div",Ve,[n(s("input",{class:"input",type:"text","onUpdate:modelValue":o[17]||(o[17]=t=>e.user.companyTaxVatId=t),placeholder:"Company VAT ID"},null,512),[[a,e.user.companyTaxVatId]])])])])])]),xe,s("button",Ie,[C(h,{icon:"check"}),we]),Ce],32)]))])])}var Re=g(N,[["render",Ne],["__scopeId","data-v-11b0080c"],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/users/Register.vue"]]);export{Re as default};
