import{g as Z,E as se,H as le,P as ce,N as ue,T as fe,a as de}from"./edit.8b295d88.js";import{o as W,c as Y,a as J,h as K,n as pe,B as he,O as me,F as ge,r as ve,t as ye,b as be,g as ee,j as ne,d as we,w as xe,C as _e,e as te}from"./sett.5bce7c7f.js";import{_ as Q}from"./index.14b745c1.js";const Se={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([j,M])=>{if(!M&&j)return j;const g={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return M=M.slice(1).split("&").map(E=>{const[s,e]=E.split("=");return!j&&s==="v"?(j=e,null):g[s]?`${g[s]}=${e}`:null}).filter(E=>!!E),j+"?"+M.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:j=>j.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:j=>j.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:j=>j.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:j=>j.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:j=>j[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:j=>j.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}};var re={exports:{}};(function(j,M){(function(g,E){j.exports=E()})(window,function(){return function(g){var E={};function s(e){if(E[e])return E[e].exports;var t=E[e]={i:e,l:!1,exports:{}};return g[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}return s.m=g,s.c=E,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var r in e)s.d(a,r,function(n){return e[n]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=25)}([function(g,E){function s(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}g.exports=function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}},function(g,E){g.exports=function(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}},function(g,E,s){g.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(r,n,f){a.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:f})},a.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},a.t=function(r,n){if(1&n&&(r=a(r)),8&n||4&n&&typeof r=="object"&&r&&r.__esModule)return r;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:r}),2&n&&typeof r!="string")for(var v in r)a.d(f,v,function(m){return r[m]}.bind(null,v));return f},a.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(n,"a",n),n},a.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},a.p="",a(a.s=3)}([function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}e.exports=a},function(e,t,a){(function(r){var n=a(2),f=setTimeout;function v(){}function m(o){if(!(this instanceof m))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],i(o,this)}function d(o,c){for(;o._state===3;)o=o._value;o._state!==0?(o._handled=!0,m._immediateFn(function(){var u=o._state===1?c.onFulfilled:c.onRejected;if(u!==null){var x;try{x=u(o._value)}catch(_){return void k(c.promise,_)}T(c.promise,x)}else(o._state===1?T:k)(c.promise,o._value)})):o._deferreds.push(c)}function T(o,c){try{if(c===o)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var u=c.then;if(c instanceof m)return o._state=3,o._value=c,void C(o);if(typeof u=="function")return void i((x=u,_=c,function(){x.apply(_,arguments)}),o)}o._state=1,o._value=c,C(o)}catch(p){k(o,p)}var x,_}function k(o,c){o._state=2,o._value=c,C(o)}function C(o){o._state===2&&o._deferreds.length===0&&m._immediateFn(function(){o._handled||m._unhandledRejectionFn(o._value)});for(var c=0,u=o._deferreds.length;c<u;c++)d(o,o._deferreds[c]);o._deferreds=null}function A(o,c,u){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof c=="function"?c:null,this.promise=u}function i(o,c){var u=!1;try{o(function(x){u||(u=!0,T(c,x))},function(x){u||(u=!0,k(c,x))})}catch(x){if(u)return;u=!0,k(c,x)}}m.prototype.catch=function(o){return this.then(null,o)},m.prototype.then=function(o,c){var u=new this.constructor(v);return d(this,new A(o,c,u)),u},m.prototype.finally=n.a,m.all=function(o){return new m(function(c,u){if(!o||o.length===void 0)throw new TypeError("Promise.all accepts an array");var x=Array.prototype.slice.call(o);if(x.length===0)return c([]);var _=x.length;function p(L,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var h=l.then;if(typeof h=="function")return void h.call(l,function(S){p(L,S)},u)}x[L]=l,--_==0&&c(x)}catch(S){u(S)}}for(var b=0;b<x.length;b++)p(b,x[b])})},m.resolve=function(o){return o&&typeof o=="object"&&o.constructor===m?o:new m(function(c){c(o)})},m.reject=function(o){return new m(function(c,u){u(o)})},m.race=function(o){return new m(function(c,u){for(var x=0,_=o.length;x<_;x++)o[x].then(c,u)})},m._immediateFn=typeof r=="function"&&function(o){r(o)}||function(o){f(o,0)},m._unhandledRejectionFn=function(o){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",o)},t.a=m}).call(this,a(5).setImmediate)},function(e,t,a){t.a=function(r){var n=this.constructor;return this.then(function(f){return n.resolve(r()).then(function(){return f})},function(f){return n.resolve(r()).then(function(){return n.reject(f)})})}},function(e,t,a){function r(i){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}a(4);var n,f,v,m,d,T,k,C=a(8),A=(f=function(i){return new Promise(function(o,c){i=m(i),(i=d(i)).beforeSend&&i.beforeSend();var u=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");u.open(i.method,i.url),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i.headers).forEach(function(_){var p=i.headers[_];u.setRequestHeader(_,p)});var x=i.ratio;u.upload.addEventListener("progress",function(_){var p=Math.round(_.loaded/_.total*100),b=Math.ceil(p*x/100);i.progress(Math.min(b,100))},!1),u.addEventListener("progress",function(_){var p=Math.round(_.loaded/_.total*100),b=Math.ceil(p*(100-x)/100)+x;i.progress(Math.min(b,100))},!1),u.onreadystatechange=function(){if(u.readyState===4){var _=u.response;try{_=JSON.parse(_)}catch{}var p=C.parseHeaders(u.getAllResponseHeaders()),b={body:_,code:u.status,headers:p};k(u.status)?o(b):c(b)}},u.send(i.data)})},v=function(i){return i.method="POST",f(i)},m=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.url&&typeof i.url!="string")throw new Error("Url must be a string");if(i.url=i.url||"",i.method&&typeof i.method!="string")throw new Error("`method` must be a string or null");if(i.method=i.method?i.method.toUpperCase():"GET",i.headers&&r(i.headers)!=="object")throw new Error("`headers` must be an object or null");if(i.headers=i.headers||{},i.type&&(typeof i.type!="string"||!Object.values(n).includes(i.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(i.progress&&typeof i.progress!="function")throw new Error("`progress` must be a function or null");if(i.progress=i.progress||function(o){},i.beforeSend=i.beforeSend||function(o){},i.ratio&&typeof i.ratio!="number")throw new Error("`ratio` must be a number");if(i.ratio<0||i.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(i.ratio=i.ratio||90,i.accept&&typeof i.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(i.accept=i.accept||"*/*",i.multiple&&typeof i.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(i.multiple=i.multiple||!1,i.fieldName&&typeof i.fieldName!="string")throw new Error("`fieldName` must be a string");return i.fieldName=i.fieldName||"files",i},d=function(i){switch(i.method){case"GET":var o=T(i.data,n.URLENCODED);delete i.data,i.url=/\?/.test(i.url)?i.url+"&"+o:i.url+"?"+o;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var c=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||n.JSON}(i);(C.isFormData(i.data)||C.isFormElement(i.data))&&(c=n.FORM),i.data=T(i.data,c),c!==A.contentType.FORM&&(i.headers["content-type"]=c)}return i},T=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case n.URLENCODED:return C.urlEncode(i);case n.JSON:return C.jsonEncode(i);case n.FORM:return C.formEncode(i);default:return i}},k=function(i){return i>=200&&i<300},{contentType:n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(i){return i.method="GET",f(i)},post:v,transport:function(i){return i=m(i),C.selectFiles(i).then(function(o){for(var c=new FormData,u=0;u<o.length;u++)c.append(i.fieldName,o[u],o[u].name);C.isObject(i.data)&&Object.keys(i.data).forEach(function(_){var p=i.data[_];c.append(_,p)});var x=i.beforeSend;return i.beforeSend=function(){return x(o)},i.data=c,v(i)})},selectFiles:function(i){return delete(i=m(i)).beforeSend,C.selectFiles(i)}});e.exports=A},function(e,t,a){a.r(t);var r=a(1);window.Promise=window.Promise||r.a},function(e,t,a){(function(r){var n=r!==void 0&&r||typeof self<"u"&&self||window,f=Function.prototype.apply;function v(m,d){this._id=m,this._clearFn=d}t.setTimeout=function(){return new v(f.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new v(f.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(m){m&&m.close()},v.prototype.unref=v.prototype.ref=function(){},v.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(m,d){clearTimeout(m._idleTimeoutId),m._idleTimeout=d},t.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},t._unrefActive=t.active=function(m){clearTimeout(m._idleTimeoutId);var d=m._idleTimeout;d>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},d))},a(6),t.setImmediate=typeof self<"u"&&self.setImmediate||r!==void 0&&r.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self<"u"&&self.clearImmediate||r!==void 0&&r.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(e,t,a){(function(r,n){(function(f,v){if(!f.setImmediate){var m,d,T,k,C,A=1,i={},o=!1,c=f.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(f);u=u&&u.setTimeout?u:f,{}.toString.call(f.process)==="[object process]"?m=function(p){n.nextTick(function(){_(p)})}:function(){if(f.postMessage&&!f.importScripts){var p=!0,b=f.onmessage;return f.onmessage=function(){p=!1},f.postMessage("","*"),f.onmessage=b,p}}()?(k="setImmediate$"+Math.random()+"$",C=function(p){p.source===f&&typeof p.data=="string"&&p.data.indexOf(k)===0&&_(+p.data.slice(k.length))},f.addEventListener?f.addEventListener("message",C,!1):f.attachEvent("onmessage",C),m=function(p){f.postMessage(k+p,"*")}):f.MessageChannel?((T=new MessageChannel).port1.onmessage=function(p){_(p.data)},m=function(p){T.port2.postMessage(p)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,m=function(p){var b=c.createElement("script");b.onreadystatechange=function(){_(p),b.onreadystatechange=null,d.removeChild(b),b=null},d.appendChild(b)}):m=function(p){setTimeout(_,0,p)},u.setImmediate=function(p){typeof p!="function"&&(p=new Function(""+p));for(var b=new Array(arguments.length-1),L=0;L<b.length;L++)b[L]=arguments[L+1];var l={callback:p,args:b};return i[A]=l,m(A),A++},u.clearImmediate=x}function x(p){delete i[p]}function _(p){if(o)setTimeout(_,0,p);else{var b=i[p];if(b){o=!0;try{(function(L){var l=L.callback,h=L.args;switch(h.length){case 0:l();break;case 1:l(h[0]);break;case 2:l(h[0],h[1]);break;case 3:l(h[0],h[1],h[2]);break;default:l.apply(void 0,h)}})(b)}finally{x(p),o=!1}}}}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,a(0),a(7))},function(e,t){var a,r,n=e.exports={};function f(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function m(u){if(a===setTimeout)return setTimeout(u,0);if((a===f||!a)&&setTimeout)return a=setTimeout,setTimeout(u,0);try{return a(u,0)}catch{try{return a.call(null,u,0)}catch{return a.call(this,u,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:f}catch{a=f}try{r=typeof clearTimeout=="function"?clearTimeout:v}catch{r=v}})();var d,T=[],k=!1,C=-1;function A(){k&&d&&(k=!1,d.length?T=d.concat(T):C=-1,T.length&&i())}function i(){if(!k){var u=m(A);k=!0;for(var x=T.length;x;){for(d=T,T=[];++C<x;)d&&d[C].run();C=-1,x=T.length}d=null,k=!1,function(_){if(r===clearTimeout)return clearTimeout(_);if((r===v||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{r(_)}catch{try{return r.call(null,_)}catch{return r.call(this,_)}}}(u)}}function o(u,x){this.fun=u,this.array=x}function c(){}n.nextTick=function(u){var x=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)x[_-1]=arguments[_];T.push(new o(u,x)),T.length!==1||k||m(i)},o.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.prependListener=c,n.prependOnceListener=c,n.listeners=function(u){return[]},n.binding=function(u){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(u){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,a){function r(f,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var n=a(9);e.exports=function(){function f(){(function(d,T){if(!(d instanceof T))throw new TypeError("Cannot call a class as a function")})(this,f)}var v,m;return v=f,(m=[{key:"urlEncode",value:function(d){return n(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var T=new FormData;return Object.keys(d).forEach(function(k){var C=d[k];T.append(k,C)}),T}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(T,k){var C=document.createElement("INPUT");C.type="file",d.multiple&&C.setAttribute("multiple","multiple"),d.accept&&C.setAttribute("accept",d.accept),C.style.display="none",document.body.appendChild(C),C.addEventListener("change",function(A){var i=A.target.files;T(i),document.body.removeChild(C)},!1),C.click()})}},{key:"parseHeaders",value:function(d){var T=d.trim().split(/[\r\n]+/),k={};return T.forEach(function(C){var A=C.split(": "),i=A.shift(),o=A.join(": ");i&&(k[i]=o)}),k}}])&&r(v,m),f}()},function(e,t){var a=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(n,f,v,m){return f=f||null,v=v||"&",m=m||null,n?function(d){for(var T=new Array,k=0;k<d.length;k++)d[k]&&T.push(d[k]);return T}(Object.keys(n).map(function(d){var T,k,C=d;if(m&&(C=m+"["+C+"]"),typeof n[d]=="object"&&n[d]!==null)T=r(n[d],null,v,C);else{f&&(k=C,C=!isNaN(parseFloat(k))&&isFinite(k)?f+Number(C):C);var A=n[d];A=(A=(A=(A=A===!0?"1":A)===!1?"0":A)===0?"0":A)||"",T=a(C)+"="+a(A)}return T})).join(v).replace(/[!'()*]/g,""):""};e.exports=r}])},function(g,E,s){g.exports=s(14)},function(g,E){g.exports=function(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=s[t];return a}},function(g,E,s){var e=s(4);g.exports=function(t,a){if(t){if(typeof t=="string")return e(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(r):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,a):void 0}}},function(g,E){function s(e,t,a,r,n,f,v){try{var m=e[f](v),d=m.value}catch(T){return void a(T)}m.done?t(d):Promise.resolve(d).then(r,n)}g.exports=function(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var f=e.apply(t,a);function v(d){s(f,r,n,v,m,"next",d)}function m(d){s(f,r,n,v,m,"throw",d)}v(void 0)})}}},function(g,E,s){var e=s(19),t=s(20),a=s(5),r=s(21);g.exports=function(n){return e(n)||t(n)||a(n)||r()}},function(g,E){g.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(g,E){g.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(g,E){g.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(g,E){g.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(g,E){g.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(g,E,s){var e=s(22),t=s(23),a=s(5),r=s(24);g.exports=function(n,f){return e(n)||t(n,f)||a(n,f)||r()}},function(g,E,s){var e=function(t){var a=Object.prototype,r=a.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},f=n.iterator||"@@iterator",v=n.asyncIterator||"@@asyncIterator",m=n.toStringTag||"@@toStringTag";function d(y,w,I,R){var U=w&&w.prototype instanceof C?w:C,P=Object.create(U.prototype),F=new h(R||[]);return P._invoke=function(B,$,N){var H="suspendedStart";return function(q,D){if(H==="executing")throw new Error("Generator is already running");if(H==="completed"){if(q==="throw")throw D;return O()}for(N.method=q,N.arg=D;;){var z=N.delegate;if(z){var V=b(z,N);if(V){if(V===k)continue;return V}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(H==="suspendedStart")throw H="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);H="executing";var G=T(B,$,N);if(G.type==="normal"){if(H=N.done?"completed":"suspendedYield",G.arg===k)continue;return{value:G.arg,done:N.done}}G.type==="throw"&&(H="completed",N.method="throw",N.arg=G.arg)}}}(y,I,F),P}function T(y,w,I){try{return{type:"normal",arg:y.call(w,I)}}catch(R){return{type:"throw",arg:R}}}t.wrap=d;var k={};function C(){}function A(){}function i(){}var o={};o[f]=function(){return this};var c=Object.getPrototypeOf,u=c&&c(c(S([])));u&&u!==a&&r.call(u,f)&&(o=u);var x=i.prototype=C.prototype=Object.create(o);function _(y){["next","throw","return"].forEach(function(w){y[w]=function(I){return this._invoke(w,I)}})}function p(y,w){var I;this._invoke=function(R,U){function P(){return new w(function(F,B){(function $(N,H,q,D){var z=T(y[N],y,H);if(z.type!=="throw"){var V=z.arg,G=V.value;return G&&typeof G=="object"&&r.call(G,"__await")?w.resolve(G.__await).then(function(X){$("next",X,q,D)},function(X){$("throw",X,q,D)}):w.resolve(G).then(function(X){V.value=X,q(V)},function(X){return $("throw",X,q,D)})}D(z.arg)})(R,U,F,B)})}return I=I?I.then(P,P):P()}}function b(y,w){var I=y.iterator[w.method];if(I===void 0){if(w.delegate=null,w.method==="throw"){if(y.iterator.return&&(w.method="return",w.arg=void 0,b(y,w),w.method==="throw"))return k;w.method="throw",w.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var R=T(I,y.iterator,w.arg);if(R.type==="throw")return w.method="throw",w.arg=R.arg,w.delegate=null,k;var U=R.arg;return U?U.done?(w[y.resultName]=U.value,w.next=y.nextLoc,w.method!=="return"&&(w.method="next",w.arg=void 0),w.delegate=null,k):U:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,k)}function L(y){var w={tryLoc:y[0]};1 in y&&(w.catchLoc=y[1]),2 in y&&(w.finallyLoc=y[2],w.afterLoc=y[3]),this.tryEntries.push(w)}function l(y){var w=y.completion||{};w.type="normal",delete w.arg,y.completion=w}function h(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(L,this),this.reset(!0)}function S(y){if(y){var w=y[f];if(w)return w.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var I=-1,R=function U(){for(;++I<y.length;)if(r.call(y,I))return U.value=y[I],U.done=!1,U;return U.value=void 0,U.done=!0,U};return R.next=R}}return{next:O}}function O(){return{value:void 0,done:!0}}return A.prototype=x.constructor=i,i.constructor=A,i[m]=A.displayName="GeneratorFunction",t.isGeneratorFunction=function(y){var w=typeof y=="function"&&y.constructor;return!!w&&(w===A||(w.displayName||w.name)==="GeneratorFunction")},t.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,i):(y.__proto__=i,m in y||(y[m]="GeneratorFunction")),y.prototype=Object.create(x),y},t.awrap=function(y){return{__await:y}},_(p.prototype),p.prototype[v]=function(){return this},t.AsyncIterator=p,t.async=function(y,w,I,R,U){U===void 0&&(U=Promise);var P=new p(d(y,w,I,R),U);return t.isGeneratorFunction(w)?P:P.next().then(function(F){return F.done?F.value:P.next()})},_(x),x[m]="Generator",x[f]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(y){var w=[];for(var I in y)w.push(I);return w.reverse(),function R(){for(;w.length;){var U=w.pop();if(U in y)return R.value=U,R.done=!1,R}return R.done=!0,R}},t.values=S,h.prototype={constructor:h,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!y)for(var w in this)w.charAt(0)==="t"&&r.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var w=this;function I($,N){return P.type="throw",P.arg=y,w.next=$,N&&(w.method="next",w.arg=void 0),!!N}for(var R=this.tryEntries.length-1;R>=0;--R){var U=this.tryEntries[R],P=U.completion;if(U.tryLoc==="root")return I("end");if(U.tryLoc<=this.prev){var F=r.call(U,"catchLoc"),B=r.call(U,"finallyLoc");if(F&&B){if(this.prev<U.catchLoc)return I(U.catchLoc,!0);if(this.prev<U.finallyLoc)return I(U.finallyLoc)}else if(F){if(this.prev<U.catchLoc)return I(U.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return I(U.finallyLoc)}}}},abrupt:function(y,w){for(var I=this.tryEntries.length-1;I>=0;--I){var R=this.tryEntries[I];if(R.tryLoc<=this.prev&&r.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var U=R;break}}U&&(y==="break"||y==="continue")&&U.tryLoc<=w&&w<=U.finallyLoc&&(U=null);var P=U?U.completion:{};return P.type=y,P.arg=w,U?(this.method="next",this.next=U.finallyLoc,k):this.complete(P)},complete:function(y,w){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&w&&(this.next=w),k},finish:function(y){for(var w=this.tryEntries.length-1;w>=0;--w){var I=this.tryEntries[w];if(I.finallyLoc===y)return this.complete(I.completion,I.afterLoc),l(I),k}},catch:function(y){for(var w=this.tryEntries.length-1;w>=0;--w){var I=this.tryEntries[w];if(I.tryLoc===y){var R=I.completion;if(R.type==="throw"){var U=R.arg;l(I)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(y,w,I){return this.delegate={iterator:S(y),resultName:w,nextLoc:I},this.method==="next"&&(this.arg=void 0),k}},t}(g.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}},function(g,E,s){var e=s(16),t=s(17);typeof(t=t.__esModule?t.default:t)=="string"&&(t=[[g.i,t,""]]);var a={insert:"head",singleton:!1},r=(e(t,a),t.locals?t.locals:{});g.exports=r},function(g,E,s){var e,t=function(){return e===void 0&&(e=Boolean(window&&document&&document.all&&!window.atob)),e},a=function(){var o={};return function(c){if(o[c]===void 0){var u=document.querySelector(c);if(window.HTMLIFrameElement&&u instanceof window.HTMLIFrameElement)try{u=u.contentDocument.head}catch{u=null}o[c]=u}return o[c]}}(),r=[];function n(o){for(var c=-1,u=0;u<r.length;u++)if(r[u].identifier===o){c=u;break}return c}function f(o,c){for(var u={},x=[],_=0;_<o.length;_++){var p=o[_],b=c.base?p[0]+c.base:p[0],L=u[b]||0,l="".concat(b," ").concat(L);u[b]=L+1;var h=n(l),S={css:p[1],media:p[2],sourceMap:p[3]};h!==-1?(r[h].references++,r[h].updater(S)):r.push({identifier:l,updater:i(S,c),references:1}),x.push(l)}return x}function v(o){var c=document.createElement("style"),u=o.attributes||{};if(u.nonce===void 0){var x=s.nc;x&&(u.nonce=x)}if(Object.keys(u).forEach(function(p){c.setAttribute(p,u[p])}),typeof o.insert=="function")o.insert(c);else{var _=a(o.insert||"head");if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");_.appendChild(c)}return c}var m,d=(m=[],function(o,c){return m[o]=c,m.filter(Boolean).join(`
`)});function T(o,c,u,x){var _=u?"":x.media?"@media ".concat(x.media," {").concat(x.css,"}"):x.css;if(o.styleSheet)o.styleSheet.cssText=d(c,_);else{var p=document.createTextNode(_),b=o.childNodes;b[c]&&o.removeChild(b[c]),b.length?o.insertBefore(p,b[c]):o.appendChild(p)}}function k(o,c,u){var x=u.css,_=u.media,p=u.sourceMap;if(_?o.setAttribute("media",_):o.removeAttribute("media"),p&&btoa&&(x+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(p))))," */")),o.styleSheet)o.styleSheet.cssText=x;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(x))}}var C=null,A=0;function i(o,c){var u,x,_;if(c.singleton){var p=A++;u=C||(C=v(c)),x=T.bind(null,u,p,!1),_=T.bind(null,u,p,!0)}else u=v(c),x=k.bind(null,u,c),_=function(){(function(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b)})(u)};return x(o),function(b){if(b){if(b.css===o.css&&b.media===o.media&&b.sourceMap===o.sourceMap)return;x(o=b)}else _()}}g.exports=function(o,c){(c=c||{}).singleton||typeof c.singleton=="boolean"||(c.singleton=t());var u=f(o=o||[],c);return function(x){if(x=x||[],Object.prototype.toString.call(x)==="[object Array]"){for(var _=0;_<u.length;_++){var p=n(u[_]);r[p].references--}for(var b=f(x,c),L=0;L<u.length;L++){var l=n(u[L]);r[l].references===0&&(r[l].updater(),r.splice(l,1))}u=b}}}},function(g,E,s){(E=s(18)(!1)).push([g.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;
}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),g.exports=E},function(g,E,s){g.exports=function(e){var t=[];return t.toString=function(){return this.map(function(a){var r=function(n,f){var v=n[1]||"",m=n[3];if(!m)return v;if(f&&typeof btoa=="function"){var d=(k=m,C=btoa(unescape(encodeURIComponent(JSON.stringify(k)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(C),"/*# ".concat(A," */")),T=m.sources.map(function(i){return"/*# sourceURL=".concat(m.sourceRoot||"").concat(i," */")});return[v].concat(T).concat([d]).join(`
`)}var k,C,A;return[v].join(`
`)}(a,e);return a[2]?"@media ".concat(a[2]," {").concat(r,"}"):r}).join("")},t.i=function(a,r,n){typeof a=="string"&&(a=[[null,a,""]]);var f={};if(n)for(var v=0;v<this.length;v++){var m=this[v][0];m!=null&&(f[m]=!0)}for(var d=0;d<a.length;d++){var T=[].concat(a[d]);n&&f[T[0]]||(r&&(T[2]?T[2]="".concat(r," and ").concat(T[2]):T[2]=r),t.push(T))}},t}},function(g,E,s){var e=s(4);g.exports=function(t){if(Array.isArray(t))return e(t)}},function(g,E){g.exports=function(s){if(typeof Symbol<"u"&&Symbol.iterator in Object(s))return Array.from(s)}},function(g,E){g.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(g,E){g.exports=function(s){if(Array.isArray(s))return s}},function(g,E){g.exports=function(s,e){if(typeof Symbol<"u"&&Symbol.iterator in Object(s)){var t=[],a=!0,r=!1,n=void 0;try{for(var f,v=s[Symbol.iterator]();!(a=(f=v.next()).done)&&(t.push(f.value),!e||t.length!==e);a=!0);}catch(m){r=!0,n=m}finally{try{a||v.return==null||v.return()}finally{if(r)throw n}}return t}}},function(g,E){g.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(g,E,s){s.r(E),s.d(E,"default",function(){return R});var e=s(3),t=s.n(e),a=s(6),r=s.n(a),n=s(1),f=s.n(n),v=s(0),m=s.n(v),d=(s(15),s(7)),T=s.n(d),k=s(8),C=s.n(k),A=function(){function U(P){var F=P.api,B=P.config,$=P.onSelectFile,N=P.readOnly;f()(this,U),this.api=F,this.config=B,this.onSelectFile=$,this.readOnly=N,this.nodes={wrapper:i("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:i("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:i("div",this.CSS.imagePreloader),caption:i("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return m()(U,[{key:"render",value:function(P){return P.file&&Object.keys(P.file).length!==0?this.toggleStatus(U.status.UPLOADING):this.toggleStatus(U.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var P=this,F=i("div",[this.CSS.button]);return F.innerHTML=this.config.buttonContent||"".concat(C.a," ").concat(this.api.i18n.t("Select an Image")),F.addEventListener("click",function(){P.onSelectFile()}),F}},{key:"showPreloader",value:function(P){this.nodes.imagePreloader.style.backgroundImage="url(".concat(P,")"),this.toggleStatus(U.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(U.status.EMPTY)}},{key:"fillImage",value:function(P){var F=this,B=/\.mp4$/.test(P)?"VIDEO":"IMG",$={src:P},N="load";B==="VIDEO"&&($.autoplay=!0,$.loop=!0,$.muted=!0,$.playsinline=!0,N="loadeddata"),this.nodes.imageEl=i(B,this.CSS.imageEl,$),this.nodes.imageEl.addEventListener(N,function(){F.toggleStatus(U.status.FILLED),F.nodes.imagePreloader&&(F.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(P){this.nodes.caption&&(this.nodes.caption.innerHTML=P)}},{key:"toggleStatus",value:function(P){for(var F in U.status)Object.prototype.hasOwnProperty.call(U.status,F)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(U.status[F]),P===U.status[F])}},{key:"applyTune",value:function(P,F){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(P),F)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),U}(),i=function(U){var P,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=document.createElement(U);Array.isArray(F)?(P=$.classList).add.apply(P,T()(F)):F&&$.classList.add(F);for(var N in B)$[N]=B[N];return $},o=s(9),c=s.n(o),u=s(10),x=s.n(u),_=s(11),p=s.n(_),b=function(){function U(P){var F=P.api,B=P.actions,$=P.onChange;f()(this,U),this.api=F,this.actions=B,this.onChange=$,this.buttons=[]}return m()(U,[{key:"render",value:function(P){var F=this,B=i("div",this.CSS.wrapper);return this.buttons=[],U.tunes.concat(this.actions).forEach(function($){var N=F.api.i18n.t($.title),H=i("div",[F.CSS.buttonBase,F.CSS.button],{innerHTML:$.icon,title:N});H.addEventListener("click",function(){F.tuneClicked($.name,$.action)}),H.dataset.tune=$.name,H.classList.toggle(F.CSS.buttonActive,P[$.name]),F.buttons.push(H),F.api.tooltip.onHover(H,N,{placement:"top"}),B.appendChild(H)}),B}},{key:"tuneClicked",value:function(P,F){if(typeof F=="function"&&!F(P))return!1;var B=this.buttons.find(function($){return $.dataset.tune===P});B.classList.toggle(this.CSS.buttonActive,!B.classList.contains(this.CSS.buttonActive)),this.onChange(P)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:x.a,title:"With border"},{name:"stretched",icon:p.a,title:"Stretch image"},{name:"withBackground",icon:c.a,title:"With background"}]}}]),U}(),L=s(12),l=s.n(L),h=s(13),S=s.n(h),O=s(2),y=s.n(O),w=function(){function U(P){var F=P.config,B=P.onUpload,$=P.onError;f()(this,U),this.config=F,this.onUpload=B,this.onError=$}return m()(U,[{key:"uploadSelectedFile",value:function(P){var F=this,B=P.onPreview,$=function(N){var H=new FileReader;H.readAsDataURL(N),H.onload=function(q){B(q.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?y.a.selectFiles({accept:this.config.types}).then(function(N){$(N[0]);var H=F.config.uploader.uploadByFile(N[0]);return I(H)||console.warn("Custom uploader method uploadByFile should return a Promise"),H}):y.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(N){$(N[0])},fieldName:this.config.field}).then(function(N){return N.body})).then(function(N){F.onUpload(N)}).catch(function(N){F.onError(N)})}},{key:"uploadByUrl",value:function(P){var F,B=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?I(F=this.config.uploader.uploadByUrl(P))||console.warn("Custom uploader method uploadByUrl should return a Promise"):F=y.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:P},this.config.additionalRequestData),type:y.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function($){return $.body}),F.then(function($){B.onUpload($)}).catch(function($){B.onError($)})}},{key:"uploadByFile",value:function(P,F){var B,$=this,N=F.onPreview,H=new FileReader;if(H.readAsDataURL(P),H.onload=function(D){N(D.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")I(B=this.config.uploader.uploadByFile(P))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var q=new FormData;q.append(this.config.field,P),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(D){var z=S()(D,2),V=z[0],G=z[1];q.append(V,G)}),B=y.a.post({url:this.config.endpoints.byFile,data:q,type:y.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(D){return D.body})}B.then(function(D){$.onUpload(D)}).catch(function(D){$.onError(D)})}}]),U}();function I(U){return U&&typeof U.then=="function"}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var R=function(){function U(F){var B=this,$=F.data,N=F.config,H=F.api,q=F.readOnly;f()(this,U),this.api=H,this.readOnly=q,this.config={endpoints:N.endpoints||"",additionalRequestData:N.additionalRequestData||{},additionalRequestHeaders:N.additionalRequestHeaders||{},field:N.field||"image",types:N.types||"image/*",captionPlaceholder:this.api.i18n.t(N.captionPlaceholder||"Caption"),buttonContent:N.buttonContent||"",uploader:N.uploader||void 0,actions:N.actions||[]},this.uploader=new w({config:this.config,onUpload:function(D){return B.onUpload(D)},onError:function(D){return B.uploadingFailed(D)}}),this.ui=new A({api:H,config:this.config,onSelectFile:function(){B.uploader.uploadSelectedFile({onPreview:function(D){B.ui.showPreloader(D)}})},readOnly:q}),this.tunes=new b({api:H,actions:this.config.actions,onChange:function(D){return B.tuneToggled(D)}}),this._data={},this.data=$}var P;return m()(U,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:l.a,title:"Image"}}}]),m()(U,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(F){return F.file&&F.file.url}},{key:"save",value:function(){var F=this.ui.nodes.caption;return this._data.caption=F.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(P=r()(t.a.mark(function F(B){var $,N,H,q,D;return t.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:z.t0=B.type,z.next=z.t0==="tag"?3:z.t0==="pattern"?15:z.t0==="file"?18:21;break;case 3:if($=B.detail.data,!/^blob:/.test($.src)){z.next=13;break}return z.next=7,fetch($.src);case 7:return N=z.sent,z.next=10,N.blob();case 10:return H=z.sent,this.uploadFile(H),z.abrupt("break",21);case 13:return this.uploadUrl($.src),z.abrupt("break",21);case 15:return q=B.detail.data,this.uploadUrl(q),z.abrupt("break",21);case 18:return D=B.detail.file,this.uploadFile(D),z.abrupt("break",21);case 21:case"end":return z.stop()}},F,this)})),function(F){return P.apply(this,arguments)})},{key:"onUpload",value:function(F){F.success&&F.file?this.image=F.file:this.uploadingFailed("incorrect response: "+JSON.stringify(F))}},{key:"uploadingFailed",value:function(F){console.log("Image Tool: uploading failed because of",F),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(F){this.setTune(F,!this._data[F])}},{key:"setTune",value:function(F,B){var $=this;this._data[F]=B,this.ui.applyTune(F,B),F==="stretched"&&Promise.resolve().then(function(){var N=$.api.blocks.getCurrentBlockIndex();$.api.blocks.stretchBlock(N,B)}).catch(function(N){console.error(N)})}},{key:"uploadFile",value:function(F){var B=this;this.uploader.uploadByFile(F,{onPreview:function($){B.ui.showPreloader($)}})}},{key:"uploadUrl",value:function(F){this.ui.showPreloader(F),this.uploader.uploadByUrl(F)}},{key:"data",set:function(F){var B=this;this.image=F.file,this._data.caption=F.caption||"",this.ui.fillCaption(this._data.caption),b.tunes.forEach(function($){var N=$.name,H=F[N]!==void 0&&(F[N]===!0||F[N]==="true");B.setTune(N,H)})},get:function(){return this._data}},{key:"image",set:function(F){this._data.file=F||{},F&&F.url&&this.ui.fillImage(F.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),U}()}]).default})})(re);const Ee=Z(re.exports);var oe={exports:{}};(function(j,M){(function(g,E){j.exports=E()})(window,function(){return function(g){var E={};function s(e){if(E[e])return E[e].exports;var t=E[e]={i:e,l:!1,exports:{}};return g[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}return s.m=g,s.c=E,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var r in e)s.d(a,r,function(n){return e[n]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=0)}([function(g,E,s){s.r(E),s.d(E,"default",function(){return a}),s(1);function e(r,n){for(var f=0;f<n.length;f++){var v=n[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(r,v.key,v)}}function t(r,n,f){return n&&e(r.prototype,n),f&&e(r,f),r}/**
 * Raw HTML Tool for CodeX Editor
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function r(n){var f=n.data,v=n.config,m=n.api,d=n.readOnly;(function(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")})(this,r),this.api=m,this.readOnly=d,this.placeholder=v.placeholder||r.DEFAULT_PLACEHOLDER,this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:f.html||""},this.textarea=null,this.resizeDebounce=null}return t(r,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"displayInToolbox",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="19" height="13" viewBox="0 0 19 13"><path d="M18.004 5.794c.24.422.18.968-.18 1.328l-4.943 4.943a1.105 1.105 0 1 1-1.562-1.562l4.162-4.162-4.103-4.103A1.125 1.125 0 1 1 12.97.648l4.796 4.796c.104.104.184.223.239.35zm-15.142.547l4.162 4.162a1.105 1.105 0 1 1-1.562 1.562L.519 7.122c-.36-.36-.42-.906-.18-1.328a1.13 1.13 0 0 1 .239-.35L5.374.647a1.125 1.125 0 0 1 1.591 1.591L2.862 6.341z"/></svg>',title:"Raw HTML"}}}]),t(r,[{key:"render",value:function(){var n=this,f=document.createElement("div");return this.textarea=document.createElement("textarea"),f.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",function(){n.onInput()}),f.appendChild(this.textarea),setTimeout(function(){n.resize()},100),f}},{key:"save",value:function(n){return{html:n.querySelector("textarea").value}}},{key:"onInput",value:function(){var n=this;this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(function(){n.resize()},200)}},{key:"resize",value:function(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}}],[{key:"DEFAULT_PLACEHOLDER",get:function(){return"Enter HTML code"}},{key:"sanitize",get:function(){return{html:!0}}}]),r}()},function(g,E,s){var e=s(2);typeof e=="string"&&(e=[[g.i,e,""]]);var t={hmr:!0,transform:void 0,insertInto:void 0};s(4)(e,t),e.locals&&(g.exports=e.locals)},function(g,E,s){(g.exports=s(3)(!1)).push([g.i,`.ce-rawtool__textarea {
  min-height: 200px;
  resize: vertical;
  border-radius: 8px;
  border: 0;
  background-color: #1e2128;
  font-family: Menlo, Monaco, Consolas, Courier New, monospace;
  font-size: 12px;
  line-height: 1.6;
  letter-spacing: -0.2px;
  color: #a1a7b6;
  overscroll-behavior: contain;
}
`,""])},function(g,E){g.exports=function(s){var e=[];return e.toString=function(){return this.map(function(t){var a=function(r,n){var f=r[1]||"",v=r[3];if(!v)return f;if(n&&typeof btoa=="function"){var m=(T=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(T))))+" */"),d=v.sources.map(function(k){return"/*# sourceURL="+v.sourceRoot+k+" */"});return[f].concat(d).concat([m]).join(`
`)}var T;return[f].join(`
`)}(t,s);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){typeof t=="string"&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var f=this[n][0];typeof f=="number"&&(r[f]=!0)}for(n=0;n<t.length;n++){var v=t[n];typeof v[0]=="number"&&r[v[0]]||(a&&!v[2]?v[2]=a:a&&(v[2]="("+v[2]+") and ("+a+")"),e.push(v))}},e}},function(g,E,s){var e,t,a={},r=(e=function(){return window&&document&&document.all&&!window.atob},function(){return t===void 0&&(t=e.apply(this,arguments)),t}),n=function(l){return document.querySelector(l)},f=function(l){var h={};return function(S){if(typeof S=="function")return S();if(h[S]===void 0){var O=n.call(this,S);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}h[S]=O}return h[S]}}(),v=null,m=0,d=[],T=s(5);function k(l,h){for(var S=0;S<l.length;S++){var O=l[S],y=a[O.id];if(y){y.refs++;for(var w=0;w<y.parts.length;w++)y.parts[w](O.parts[w]);for(;w<O.parts.length;w++)y.parts.push(u(O.parts[w],h))}else{var I=[];for(w=0;w<O.parts.length;w++)I.push(u(O.parts[w],h));a[O.id]={id:O.id,refs:1,parts:I}}}}function C(l,h){for(var S=[],O={},y=0;y<l.length;y++){var w=l[y],I=h.base?w[0]+h.base:w[0],R={css:w[1],media:w[2],sourceMap:w[3]};O[I]?O[I].parts.push(R):S.push(O[I]={id:I,parts:[R]})}return S}function A(l,h){var S=f(l.insertInto);if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=d[d.length-1];if(l.insertAt==="top")O?O.nextSibling?S.insertBefore(h,O.nextSibling):S.appendChild(h):S.insertBefore(h,S.firstChild),d.push(h);else if(l.insertAt==="bottom")S.appendChild(h);else{if(typeof l.insertAt!="object"||!l.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var y=f(l.insertInto+" "+l.insertAt.before);S.insertBefore(h,y)}}function i(l){if(l.parentNode===null)return!1;l.parentNode.removeChild(l);var h=d.indexOf(l);h>=0&&d.splice(h,1)}function o(l){var h=document.createElement("style");return l.attrs.type===void 0&&(l.attrs.type="text/css"),c(h,l.attrs),A(l,h),h}function c(l,h){Object.keys(h).forEach(function(S){l.setAttribute(S,h[S])})}function u(l,h){var S,O,y,w;if(h.transform&&l.css){if(!(w=h.transform(l.css)))return function(){};l.css=w}if(h.singleton){var I=m++;S=v||(v=o(h)),O=p.bind(null,S,I,!1),y=p.bind(null,S,I,!0)}else l.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(S=function(R){var U=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",c(U,R.attrs),A(R,U),U}(h),O=L.bind(null,S,h),y=function(){i(S),S.href&&URL.revokeObjectURL(S.href)}):(S=o(h),O=b.bind(null,S),y=function(){i(S)});return O(l),function(R){if(R){if(R.css===l.css&&R.media===l.media&&R.sourceMap===l.sourceMap)return;O(l=R)}else y()}}g.exports=function(l,h){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(h=h||{}).attrs=typeof h.attrs=="object"?h.attrs:{},h.singleton||typeof h.singleton=="boolean"||(h.singleton=r()),h.insertInto||(h.insertInto="head"),h.insertAt||(h.insertAt="bottom");var S=C(l,h);return k(S,h),function(O){for(var y=[],w=0;w<S.length;w++){var I=S[w];(R=a[I.id]).refs--,y.push(R)}for(O&&k(C(O,h),h),w=0;w<y.length;w++){var R;if((R=y[w]).refs===0){for(var U=0;U<R.parts.length;U++)R.parts[U]();delete a[R.id]}}}};var x,_=(x=[],function(l,h){return x[l]=h,x.filter(Boolean).join(`
`)});function p(l,h,S,O){var y=S?"":O.css;if(l.styleSheet)l.styleSheet.cssText=_(h,y);else{var w=document.createTextNode(y),I=l.childNodes;I[h]&&l.removeChild(I[h]),I.length?l.insertBefore(w,I[h]):l.appendChild(w)}}function b(l,h){var S=h.css,O=h.media;if(O&&l.setAttribute("media",O),l.styleSheet)l.styleSheet.cssText=S;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(S))}}function L(l,h,S){var O=S.css,y=S.sourceMap,w=h.convertToAbsoluteUrls===void 0&&y;(h.convertToAbsoluteUrls||w)&&(O=T(O)),y&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */");var I=new Blob([O],{type:"text/css"}),R=l.href;l.href=URL.createObjectURL(I),R&&URL.revokeObjectURL(R)}},function(g,E){g.exports=function(s){var e=typeof window<"u"&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var t=e.protocol+"//"+e.host,a=t+e.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(r,n){var f,v=n.trim().replace(/^"(.*)"$/,function(m,d){return d}).replace(/^'(.*)'$/,function(m,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(v)?r:(f=v.indexOf("//")===0?v:v.indexOf("/")===0?t+v:a+v.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}}]).default})})(oe);const je=Z(oe.exports);var ie={exports:{}};(function(j,M){(function(g,E){j.exports=E()})(window,function(){return function(g){var E={};function s(e){if(E[e])return E[e].exports;var t=E[e]={i:e,l:!1,exports:{}};return g[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}return s.m=g,s.c=E,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var r in e)s.d(a,r,function(n){return e[n]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=0)}([function(g,E,s){function e(r,n){for(var f=0;f<n.length;f++){var v=n[f];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(r,v.key,v)}}function t(r,n,f){return n&&e(r.prototype,n),f&&e(r,f),r}s(1).toString();/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */var a=function(){function r(n){var f=n.data,v=(n.config,n.api);(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,r),this.api=v,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=f}return t(r,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"contentless",get:function(){return!0}}]),t(r,[{key:"drawView",value:function(){var n=document.createElement("DIV");return n.classList.add(this._CSS.wrapper,this._CSS.block),n}},{key:"render",value:function(){return this._element}},{key:"save",value:function(n){return{}}}],[{key:"toolbox",get:function(){return{icon:'<svg width="19" height="4" viewBox="0 0 19 4" xmlns="http://www.w3.org/2000/svg"><path d="M1.25 0H7a1.25 1.25 0 1 1 0 2.5H1.25a1.25 1.25 0 1 1 0-2.5zM11 0h5.75a1.25 1.25 0 0 1 0 2.5H11A1.25 1.25 0 0 1 11 0z"/></svg>',title:"Delimiter"}}}]),r}();g.exports=a},function(g,E,s){var e=s(2);typeof e=="string"&&(e=[[g.i,e,""]]);var t={hmr:!0,transform:void 0,insertInto:void 0};s(4)(e,t),e.locals&&(g.exports=e.locals)},function(g,E,s){(g.exports=s(3)(!1)).push([g.i,`.ce-delimiter {
    line-height: 1.6em;
    width: 100%;
    text-align: center;
}

.ce-delimiter:before {
    display: inline-block;
    content: "***";
    font-size: 30px;
    line-height: 65px;
    height: 30px;
    letter-spacing: 0.2em;
}`,""])},function(g,E){g.exports=function(s){var e=[];return e.toString=function(){return this.map(function(t){var a=function(r,n){var f=r[1]||"",v=r[3];if(!v)return f;if(n&&typeof btoa=="function"){var m=(T=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(T))))+" */"),d=v.sources.map(function(k){return"/*# sourceURL="+v.sourceRoot+k+" */"});return[f].concat(d).concat([m]).join(`
`)}var T;return[f].join(`
`)}(t,s);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){typeof t=="string"&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var f=this[n][0];typeof f=="number"&&(r[f]=!0)}for(n=0;n<t.length;n++){var v=t[n];typeof v[0]=="number"&&r[v[0]]||(a&&!v[2]?v[2]=a:a&&(v[2]="("+v[2]+") and ("+a+")"),e.push(v))}},e}},function(g,E,s){var e,t,a={},r=(e=function(){return window&&document&&document.all&&!window.atob},function(){return t===void 0&&(t=e.apply(this,arguments)),t}),n=function(p){var b={};return function(L){if(typeof L=="function")return L();if(b[L]===void 0){var l=function(h){return document.querySelector(h)}.call(this,L);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}b[L]=l}return b[L]}}(),f=null,v=0,m=[],d=s(5);function T(p,b){for(var L=0;L<p.length;L++){var l=p[L],h=a[l.id];if(h){h.refs++;for(var S=0;S<h.parts.length;S++)h.parts[S](l.parts[S]);for(;S<l.parts.length;S++)h.parts.push(c(l.parts[S],b))}else{var O=[];for(S=0;S<l.parts.length;S++)O.push(c(l.parts[S],b));a[l.id]={id:l.id,refs:1,parts:O}}}}function k(p,b){for(var L=[],l={},h=0;h<p.length;h++){var S=p[h],O=b.base?S[0]+b.base:S[0],y={css:S[1],media:S[2],sourceMap:S[3]};l[O]?l[O].parts.push(y):L.push(l[O]={id:O,parts:[y]})}return L}function C(p,b){var L=n(p.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var l=m[m.length-1];if(p.insertAt==="top")l?l.nextSibling?L.insertBefore(b,l.nextSibling):L.appendChild(b):L.insertBefore(b,L.firstChild),m.push(b);else if(p.insertAt==="bottom")L.appendChild(b);else{if(typeof p.insertAt!="object"||!p.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var h=n(p.insertInto+" "+p.insertAt.before);L.insertBefore(b,h)}}function A(p){if(p.parentNode===null)return!1;p.parentNode.removeChild(p);var b=m.indexOf(p);b>=0&&m.splice(b,1)}function i(p){var b=document.createElement("style");return p.attrs.type===void 0&&(p.attrs.type="text/css"),o(b,p.attrs),C(p,b),b}function o(p,b){Object.keys(b).forEach(function(L){p.setAttribute(L,b[L])})}function c(p,b){var L,l,h,S;if(b.transform&&p.css){if(!(S=b.transform(p.css)))return function(){};p.css=S}if(b.singleton){var O=v++;L=f||(f=i(b)),l=_.bind(null,L,O,!1),h=_.bind(null,L,O,!0)}else p.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(y){var w=document.createElement("link");return y.attrs.type===void 0&&(y.attrs.type="text/css"),y.attrs.rel="stylesheet",o(w,y.attrs),C(y,w),w}(b),l=function(y,w,I){var R=I.css,U=I.sourceMap,P=w.convertToAbsoluteUrls===void 0&&U;(w.convertToAbsoluteUrls||P)&&(R=d(R)),U&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(U))))+" */");var F=new Blob([R],{type:"text/css"}),B=y.href;y.href=URL.createObjectURL(F),B&&URL.revokeObjectURL(B)}.bind(null,L,b),h=function(){A(L),L.href&&URL.revokeObjectURL(L.href)}):(L=i(b),l=function(y,w){var I=w.css,R=w.media;if(R&&y.setAttribute("media",R),y.styleSheet)y.styleSheet.cssText=I;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(I))}}.bind(null,L),h=function(){A(L)});return l(p),function(y){if(y){if(y.css===p.css&&y.media===p.media&&y.sourceMap===p.sourceMap)return;l(p=y)}else h()}}g.exports=function(p,b){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(b=b||{}).attrs=typeof b.attrs=="object"?b.attrs:{},b.singleton||typeof b.singleton=="boolean"||(b.singleton=r()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var L=k(p,b);return T(L,b),function(l){for(var h=[],S=0;S<L.length;S++){var O=L[S];(y=a[O.id]).refs--,h.push(y)}for(l&&T(k(l,b),b),S=0;S<h.length;S++){var y;if((y=h[S]).refs===0){for(var w=0;w<y.parts.length;w++)y.parts[w]();delete a[y.id]}}}};var u,x=(u=[],function(p,b){return u[p]=b,u.filter(Boolean).join(`
`)});function _(p,b,L,l){var h=L?"":l.css;if(p.styleSheet)p.styleSheet.cssText=x(b,h);else{var S=document.createTextNode(h),O=p.childNodes;O[b]&&p.removeChild(O[b]),O.length?p.insertBefore(S,O[b]):p.appendChild(S)}}},function(g,E){g.exports=function(s){var e=typeof window<"u"&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var t=e.protocol+"//"+e.host,a=t+e.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(r,n){var f,v=n.trim().replace(/^"(.*)"$/,function(m,d){return d}).replace(/^'(.*)'$/,function(m,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(v)?r:(f=v.indexOf("//")===0?v:v.indexOf("/")===0?t+v:a+v.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}}])})})(ie);const ke=Z(ie.exports);var ae={exports:{}};(function(j,M){(function(g,E){j.exports=E()})(window,function(){return function(g){var E={};function s(e){if(E[e])return E[e].exports;var t=E[e]={i:e,l:!1,exports:{}};return g[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}return s.m=g,s.c=E,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t||4&t&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&typeof e!="string")for(var r in e)s.d(a,r,function(n){return e[n]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s(s.s=8)}([function(g,E){g.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" style="fill: none" xmlns="http://www.w3.org/2000/svg"><path d="M13.32 8.44 9.5 12.19c-.37.36-.57.85-.56 1.37a2.05 2.05 0 0 0 2 1.98c.53 0 1.02-.19 1.39-.55l3.83-3.75a3.75 3.75 0 0 0 1.1-2.74 4.1 4.1 0 0 0-4-3.96 3.85 3.85 0 0 0-2.77 1.1L6.66 9.39A5.63 5.63 0 0 0 5 13.5a6.14 6.14 0 0 0 6 5.94 5.77 5.77 0 0 0 4.17-1.64l3.83-3.75" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},function(g,E,s){g.exports=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(r,n,f){a.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:f})},a.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},a.t=function(r,n){if(1&n&&(r=a(r)),8&n||4&n&&typeof r=="object"&&r&&r.__esModule)return r;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:r}),2&n&&typeof r!="string")for(var v in r)a.d(f,v,function(m){return r[m]}.bind(null,v));return f},a.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(n,"a",n),n},a.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},a.p="",a(a.s=3)}([function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}e.exports=a},function(e,t,a){(function(r){var n=a(2),f=setTimeout;function v(){}function m(o){if(!(this instanceof m))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],i(o,this)}function d(o,c){for(;o._state===3;)o=o._value;o._state!==0?(o._handled=!0,m._immediateFn(function(){var u=o._state===1?c.onFulfilled:c.onRejected;if(u!==null){var x;try{x=u(o._value)}catch(_){return void k(c.promise,_)}T(c.promise,x)}else(o._state===1?T:k)(c.promise,o._value)})):o._deferreds.push(c)}function T(o,c){try{if(c===o)throw new TypeError("A promise cannot be resolved with itself.");if(c&&(typeof c=="object"||typeof c=="function")){var u=c.then;if(c instanceof m)return o._state=3,o._value=c,void C(o);if(typeof u=="function")return void i((x=u,_=c,function(){x.apply(_,arguments)}),o)}o._state=1,o._value=c,C(o)}catch(p){k(o,p)}var x,_}function k(o,c){o._state=2,o._value=c,C(o)}function C(o){o._state===2&&o._deferreds.length===0&&m._immediateFn(function(){o._handled||m._unhandledRejectionFn(o._value)});for(var c=0,u=o._deferreds.length;c<u;c++)d(o,o._deferreds[c]);o._deferreds=null}function A(o,c,u){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof c=="function"?c:null,this.promise=u}function i(o,c){var u=!1;try{o(function(x){u||(u=!0,T(c,x))},function(x){u||(u=!0,k(c,x))})}catch(x){if(u)return;u=!0,k(c,x)}}m.prototype.catch=function(o){return this.then(null,o)},m.prototype.then=function(o,c){var u=new this.constructor(v);return d(this,new A(o,c,u)),u},m.prototype.finally=n.a,m.all=function(o){return new m(function(c,u){if(!o||o.length===void 0)throw new TypeError("Promise.all accepts an array");var x=Array.prototype.slice.call(o);if(x.length===0)return c([]);var _=x.length;function p(L,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var h=l.then;if(typeof h=="function")return void h.call(l,function(S){p(L,S)},u)}x[L]=l,--_==0&&c(x)}catch(S){u(S)}}for(var b=0;b<x.length;b++)p(b,x[b])})},m.resolve=function(o){return o&&typeof o=="object"&&o.constructor===m?o:new m(function(c){c(o)})},m.reject=function(o){return new m(function(c,u){u(o)})},m.race=function(o){return new m(function(c,u){for(var x=0,_=o.length;x<_;x++)o[x].then(c,u)})},m._immediateFn=typeof r=="function"&&function(o){r(o)}||function(o){f(o,0)},m._unhandledRejectionFn=function(o){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",o)},t.a=m}).call(this,a(5).setImmediate)},function(e,t,a){t.a=function(r){var n=this.constructor;return this.then(function(f){return n.resolve(r()).then(function(){return f})},function(f){return n.resolve(r()).then(function(){return n.reject(f)})})}},function(e,t,a){function r(i){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}a(4);var n,f,v,m,d,T,k,C=a(8),A=(f=function(i){return new Promise(function(o,c){i=m(i),(i=d(i)).beforeSend&&i.beforeSend();var u=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");u.open(i.method,i.url),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i.headers).forEach(function(_){var p=i.headers[_];u.setRequestHeader(_,p)});var x=i.ratio;u.upload.addEventListener("progress",function(_){var p=Math.round(_.loaded/_.total*100),b=Math.ceil(p*x/100);i.progress(Math.min(b,100))},!1),u.addEventListener("progress",function(_){var p=Math.round(_.loaded/_.total*100),b=Math.ceil(p*(100-x)/100)+x;i.progress(Math.min(b,100))},!1),u.onreadystatechange=function(){if(u.readyState===4){var _=u.response;try{_=JSON.parse(_)}catch{}var p=C.parseHeaders(u.getAllResponseHeaders()),b={body:_,code:u.status,headers:p};k(u.status)?o(b):c(b)}},u.send(i.data)})},v=function(i){return i.method="POST",f(i)},m=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(i.url&&typeof i.url!="string")throw new Error("Url must be a string");if(i.url=i.url||"",i.method&&typeof i.method!="string")throw new Error("`method` must be a string or null");if(i.method=i.method?i.method.toUpperCase():"GET",i.headers&&r(i.headers)!=="object")throw new Error("`headers` must be an object or null");if(i.headers=i.headers||{},i.type&&(typeof i.type!="string"||!Object.values(n).includes(i.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(i.progress&&typeof i.progress!="function")throw new Error("`progress` must be a function or null");if(i.progress=i.progress||function(o){},i.beforeSend=i.beforeSend||function(o){},i.ratio&&typeof i.ratio!="number")throw new Error("`ratio` must be a number");if(i.ratio<0||i.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(i.ratio=i.ratio||90,i.accept&&typeof i.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(i.accept=i.accept||"*/*",i.multiple&&typeof i.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(i.multiple=i.multiple||!1,i.fieldName&&typeof i.fieldName!="string")throw new Error("`fieldName` must be a string");return i.fieldName=i.fieldName||"files",i},d=function(i){switch(i.method){case"GET":var o=T(i.data,n.URLENCODED);delete i.data,i.url=/\?/.test(i.url)?i.url+"&"+o:i.url+"?"+o;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var c=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||n.JSON}(i);(C.isFormData(i.data)||C.isFormElement(i.data))&&(c=n.FORM),i.data=T(i.data,c),c!==A.contentType.FORM&&(i.headers["content-type"]=c)}return i},T=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case n.URLENCODED:return C.urlEncode(i);case n.JSON:return C.jsonEncode(i);case n.FORM:return C.formEncode(i);default:return i}},k=function(i){return i>=200&&i<300},{contentType:n={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(i){return i.method="GET",f(i)},post:v,transport:function(i){return i=m(i),C.selectFiles(i).then(function(o){for(var c=new FormData,u=0;u<o.length;u++)c.append(i.fieldName,o[u],o[u].name);C.isObject(i.data)&&Object.keys(i.data).forEach(function(_){var p=i.data[_];c.append(_,p)});var x=i.beforeSend;return i.beforeSend=function(){return x(o)},i.data=c,v(i)})},selectFiles:function(i){return delete(i=m(i)).beforeSend,C.selectFiles(i)}});e.exports=A},function(e,t,a){a.r(t);var r=a(1);window.Promise=window.Promise||r.a},function(e,t,a){(function(r){var n=r!==void 0&&r||typeof self<"u"&&self||window,f=Function.prototype.apply;function v(m,d){this._id=m,this._clearFn=d}t.setTimeout=function(){return new v(f.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new v(f.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(m){m&&m.close()},v.prototype.unref=v.prototype.ref=function(){},v.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(m,d){clearTimeout(m._idleTimeoutId),m._idleTimeout=d},t.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},t._unrefActive=t.active=function(m){clearTimeout(m._idleTimeoutId);var d=m._idleTimeout;d>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},d))},a(6),t.setImmediate=typeof self<"u"&&self.setImmediate||r!==void 0&&r.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self<"u"&&self.clearImmediate||r!==void 0&&r.clearImmediate||this&&this.clearImmediate}).call(this,a(0))},function(e,t,a){(function(r,n){(function(f,v){if(!f.setImmediate){var m,d,T,k,C,A=1,i={},o=!1,c=f.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(f);u=u&&u.setTimeout?u:f,{}.toString.call(f.process)==="[object process]"?m=function(p){n.nextTick(function(){_(p)})}:function(){if(f.postMessage&&!f.importScripts){var p=!0,b=f.onmessage;return f.onmessage=function(){p=!1},f.postMessage("","*"),f.onmessage=b,p}}()?(k="setImmediate$"+Math.random()+"$",C=function(p){p.source===f&&typeof p.data=="string"&&p.data.indexOf(k)===0&&_(+p.data.slice(k.length))},f.addEventListener?f.addEventListener("message",C,!1):f.attachEvent("onmessage",C),m=function(p){f.postMessage(k+p,"*")}):f.MessageChannel?((T=new MessageChannel).port1.onmessage=function(p){_(p.data)},m=function(p){T.port2.postMessage(p)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,m=function(p){var b=c.createElement("script");b.onreadystatechange=function(){_(p),b.onreadystatechange=null,d.removeChild(b),b=null},d.appendChild(b)}):m=function(p){setTimeout(_,0,p)},u.setImmediate=function(p){typeof p!="function"&&(p=new Function(""+p));for(var b=new Array(arguments.length-1),L=0;L<b.length;L++)b[L]=arguments[L+1];var l={callback:p,args:b};return i[A]=l,m(A),A++},u.clearImmediate=x}function x(p){delete i[p]}function _(p){if(o)setTimeout(_,0,p);else{var b=i[p];if(b){o=!0;try{(function(L){var l=L.callback,h=L.args;switch(h.length){case 0:l();break;case 1:l(h[0]);break;case 2:l(h[0],h[1]);break;case 3:l(h[0],h[1],h[2]);break;default:l.apply(void 0,h)}})(b)}finally{x(p),o=!1}}}}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,a(0),a(7))},function(e,t){var a,r,n=e.exports={};function f(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function m(u){if(a===setTimeout)return setTimeout(u,0);if((a===f||!a)&&setTimeout)return a=setTimeout,setTimeout(u,0);try{return a(u,0)}catch{try{return a.call(null,u,0)}catch{return a.call(this,u,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:f}catch{a=f}try{r=typeof clearTimeout=="function"?clearTimeout:v}catch{r=v}})();var d,T=[],k=!1,C=-1;function A(){k&&d&&(k=!1,d.length?T=d.concat(T):C=-1,T.length&&i())}function i(){if(!k){var u=m(A);k=!0;for(var x=T.length;x;){for(d=T,T=[];++C<x;)d&&d[C].run();C=-1,x=T.length}d=null,k=!1,function(_){if(r===clearTimeout)return clearTimeout(_);if((r===v||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{r(_)}catch{try{return r.call(null,_)}catch{return r.call(this,_)}}}(u)}}function o(u,x){this.fun=u,this.array=x}function c(){}n.nextTick=function(u){var x=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)x[_-1]=arguments[_];T.push(new o(u,x)),T.length!==1||k||m(i)},o.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.prependListener=c,n.prependOnceListener=c,n.listeners=function(u){return[]},n.binding=function(u){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(u){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,a){function r(f,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}var n=a(9);e.exports=function(){function f(){(function(d,T){if(!(d instanceof T))throw new TypeError("Cannot call a class as a function")})(this,f)}var v,m;return v=f,(m=[{key:"urlEncode",value:function(d){return n(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var T=new FormData;return Object.keys(d).forEach(function(k){var C=d[k];T.append(k,C)}),T}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(T,k){var C=document.createElement("INPUT");C.type="file",d.multiple&&C.setAttribute("multiple","multiple"),d.accept&&C.setAttribute("accept",d.accept),C.style.display="none",document.body.appendChild(C),C.addEventListener("change",function(A){var i=A.target.files;T(i),document.body.removeChild(C)},!1),C.click()})}},{key:"parseHeaders",value:function(d){var T=d.trim().split(/[\r\n]+/),k={};return T.forEach(function(C){var A=C.split(": "),i=A.shift(),o=A.join(": ");i&&(k[i]=o)}),k}}])&&r(v,m),f}()},function(e,t){var a=function(n){return encodeURIComponent(n).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(n,f,v,m){return f=f||null,v=v||"&",m=m||null,n?function(d){for(var T=new Array,k=0;k<d.length;k++)d[k]&&T.push(d[k]);return T}(Object.keys(n).map(function(d){var T,k,C=d;if(m&&(C=m+"["+C+"]"),typeof n[d]=="object"&&n[d]!==null)T=r(n[d],null,v,C);else{f&&(k=C,C=!isNaN(parseFloat(k))&&isFinite(k)?f+Number(C):C);var A=n[d];A=(A=(A=(A=A===!0?"1":A)===!1?"0":A)===0?"0":A)||"",T=a(C)+"="+a(A)}return T})).join(v).replace(/[!'()*]/g,""):""};e.exports=r}])},function(g,E){g.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m7 10 4.86 4.86c.08.08.2.08.28 0L17 10" stroke="#000" stroke-width="2" stroke-linecap="round"></path></svg>'},function(g,E,s){var e=s(4);typeof e=="string"&&(e=[[g.i,e,""]]);var t={hmr:!0,transform:void 0,insertInto:void 0};s(6)(e,t),e.locals&&(g.exports=e.locals)},function(g,E,s){(g.exports=s(5)(!1)).push([g.i,`.cdx-attaches {
  --color-line: #EFF0F1;
  --color-bg: #fff;
  --color-bg-secondary: #F8F8F8;
  --color-bg-secondary--hover: #f2f2f2;
  --color-text-secondary: #707684;
}

  .cdx-attaches--with-file {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border: 1px solid var(--color-line);
    border-radius: 7px;
    background: var(--color-bg);
  }

  .cdx-attaches--with-file .cdx-attaches__file-info {
      display: grid;
      grid-gap: 4px;
      max-width: calc(100% - 80px);
      margin: auto 0;
      flex-grow: 2;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button {
      display: flex;
      align-items: center;
      background: var(--color-bg-secondary);
      padding: 6px;
      border-radius: 6px;
      margin: auto 0 auto auto;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button:hover {
        background: var(--color-bg-secondary--hover);
      }

  .cdx-attaches--with-file .cdx-attaches__download-button svg {
        width: 20px;
        height: 20px;
        fill: none;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon {
      position: relative;
    }

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
        background-color: #333;

        width: 27px;
        height: 30px;
        margin-right: 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

  @supports(-webkit-mask-box-image: url('')){

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
          border-radius: 0;
          -webkit-mask-box-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A") 48% 41% 37.9% 53.3%
      };
        }

  .cdx-attaches--with-file .cdx-attaches__file-icon-label {
        position: absolute;
        left: 3px;
        top: 11px;
        background: inherit;
        text-transform: uppercase;
        line-height: 1em;
        color: #fff;
        padding: 1px 2px;
        border-radius: 3px;
        font-size: 10px;
        font-weight: bold;
        /* box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.22); */
        font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
        letter-spacing: 0.02em;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon svg {
        width: 20px;
        height: 20px;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon path {
        stroke: #fff;
      }

  .cdx-attaches--with-file .cdx-attaches__size {
      color: var(--color-text-secondary);
      font-size: 12px;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__size::after {
        content: attr(data-size);
        margin-left: 0.2em;
      }

  .cdx-attaches--with-file .cdx-attaches__title {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      outline: none;
      max-width: 90%;
      font-size: 14px;
      font-weight: 500;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__title:empty::before {
      content: attr(data-placeholder);
      color: #7b7e89;
    }

  .cdx-attaches--loading .cdx-attaches__title,
    .cdx-attaches--loading .cdx-attaches__file-icon,
    .cdx-attaches--loading .cdx-attaches__size,
    .cdx-attaches--loading .cdx-attaches__download-button,
    .cdx-attaches--loading .cdx-attaches__button {
      opacity: 0;
      font-size: 0;
    }

  .cdx-attaches__button {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    border-radius: 7px;
    font-weight: 500;
  }

  .cdx-attaches__button svg {
      height: 20px;
      height: 20px;
      margin-top: 0;
      margin-right: 8px;
      fill: none;
    }
`,""])},function(g,E){g.exports=function(s){var e=[];return e.toString=function(){return this.map(function(t){var a=function(r,n){var f=r[1]||"",v=r[3];if(!v)return f;if(n&&typeof btoa=="function"){var m=(T=v,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(T))))+" */"),d=v.sources.map(function(k){return"/*# sourceURL="+v.sourceRoot+k+" */"});return[f].concat(d).concat([m]).join(`
`)}var T;return[f].join(`
`)}(t,s);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){typeof t=="string"&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var f=this[n][0];typeof f=="number"&&(r[f]=!0)}for(n=0;n<t.length;n++){var v=t[n];typeof v[0]=="number"&&r[v[0]]||(a&&!v[2]?v[2]=a:a&&(v[2]="("+v[2]+") and ("+a+")"),e.push(v))}},e}},function(g,E,s){var e,t,a={},r=(e=function(){return window&&document&&document.all&&!window.atob},function(){return t===void 0&&(t=e.apply(this,arguments)),t}),n=function(l){return document.querySelector(l)},f=function(l){var h={};return function(S){if(typeof S=="function")return S();if(h[S]===void 0){var O=n.call(this,S);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}h[S]=O}return h[S]}}(),v=null,m=0,d=[],T=s(7);function k(l,h){for(var S=0;S<l.length;S++){var O=l[S],y=a[O.id];if(y){y.refs++;for(var w=0;w<y.parts.length;w++)y.parts[w](O.parts[w]);for(;w<O.parts.length;w++)y.parts.push(u(O.parts[w],h))}else{var I=[];for(w=0;w<O.parts.length;w++)I.push(u(O.parts[w],h));a[O.id]={id:O.id,refs:1,parts:I}}}}function C(l,h){for(var S=[],O={},y=0;y<l.length;y++){var w=l[y],I=h.base?w[0]+h.base:w[0],R={css:w[1],media:w[2],sourceMap:w[3]};O[I]?O[I].parts.push(R):S.push(O[I]={id:I,parts:[R]})}return S}function A(l,h){var S=f(l.insertInto);if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var O=d[d.length-1];if(l.insertAt==="top")O?O.nextSibling?S.insertBefore(h,O.nextSibling):S.appendChild(h):S.insertBefore(h,S.firstChild),d.push(h);else if(l.insertAt==="bottom")S.appendChild(h);else{if(typeof l.insertAt!="object"||!l.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var y=f(l.insertInto+" "+l.insertAt.before);S.insertBefore(h,y)}}function i(l){if(l.parentNode===null)return!1;l.parentNode.removeChild(l);var h=d.indexOf(l);h>=0&&d.splice(h,1)}function o(l){var h=document.createElement("style");return l.attrs.type===void 0&&(l.attrs.type="text/css"),c(h,l.attrs),A(l,h),h}function c(l,h){Object.keys(h).forEach(function(S){l.setAttribute(S,h[S])})}function u(l,h){var S,O,y,w;if(h.transform&&l.css){if(!(w=h.transform(l.css)))return function(){};l.css=w}if(h.singleton){var I=m++;S=v||(v=o(h)),O=p.bind(null,S,I,!1),y=p.bind(null,S,I,!0)}else l.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(S=function(R){var U=document.createElement("link");return R.attrs.type===void 0&&(R.attrs.type="text/css"),R.attrs.rel="stylesheet",c(U,R.attrs),A(R,U),U}(h),O=L.bind(null,S,h),y=function(){i(S),S.href&&URL.revokeObjectURL(S.href)}):(S=o(h),O=b.bind(null,S),y=function(){i(S)});return O(l),function(R){if(R){if(R.css===l.css&&R.media===l.media&&R.sourceMap===l.sourceMap)return;O(l=R)}else y()}}g.exports=function(l,h){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(h=h||{}).attrs=typeof h.attrs=="object"?h.attrs:{},h.singleton||typeof h.singleton=="boolean"||(h.singleton=r()),h.insertInto||(h.insertInto="head"),h.insertAt||(h.insertAt="bottom");var S=C(l,h);return k(S,h),function(O){for(var y=[],w=0;w<S.length;w++){var I=S[w];(R=a[I.id]).refs--,y.push(R)}for(O&&k(C(O,h),h),w=0;w<y.length;w++){var R;if((R=y[w]).refs===0){for(var U=0;U<R.parts.length;U++)R.parts[U]();delete a[R.id]}}}};var x,_=(x=[],function(l,h){return x[l]=h,x.filter(Boolean).join(`
`)});function p(l,h,S,O){var y=S?"":O.css;if(l.styleSheet)l.styleSheet.cssText=_(h,y);else{var w=document.createTextNode(y),I=l.childNodes;I[h]&&l.removeChild(I[h]),I.length?l.insertBefore(w,I[h]):l.appendChild(w)}}function b(l,h){var S=h.css,O=h.media;if(O&&l.setAttribute("media",O),l.styleSheet)l.styleSheet.cssText=S;else{for(;l.firstChild;)l.removeChild(l.firstChild);l.appendChild(document.createTextNode(S))}}function L(l,h,S){var O=S.css,y=S.sourceMap,w=h.convertToAbsoluteUrls===void 0&&y;(h.convertToAbsoluteUrls||w)&&(O=T(O)),y&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(y))))+" */");var I=new Blob([O],{type:"text/css"}),R=l.href;l.href=URL.createObjectURL(I),R&&URL.revokeObjectURL(R)}},function(g,E){g.exports=function(s){var e=typeof window<"u"&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var t=e.protocol+"//"+e.host,a=t+e.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(r,n){var f,v=n.trim().replace(/^"(.*)"$/,function(m,d){return d}).replace(/^'(.*)'$/,function(m,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(v)?r:(f=v.indexOf("//")===0?v:v.indexOf("/")===0?t+v:a+v.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(g,E,s){s.r(E),s.d(E,"default",function(){return i}),s(3);var e=s(1),t=s.n(e);function a(o,c){for(var u=0;u<c.length;u++){var x=c[u];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(o,x.key,x)}}var r=function(){function o(x){var _=x.config,p=x.onUpload,b=x.onError;(function(L,l){if(!(L instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.config=_,this.onUpload=p,this.onError=b}var c,u;return c=o,(u=[{key:"uploadSelectedFile",value:function(x){var _=this,p=x.onPreview;(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?t.a.selectFiles({accept:this.config.types}).then(function(b){p();var L,l=_.config.uploader.uploadByFile(b[0]);return(L=l)&&typeof L.then=="function"||console.warn("Custom uploader method uploadByFile should return a Promise"),l}):t.a.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:function(){return p()},fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then(function(b){return b.body})).then(function(b){_.onUpload(b)}).catch(function(b){var L=b.body,l=L&&L.message?L.message:_.config.errorMessage;_.onError(l)})}}])&&a(c.prototype,u),o}(),n=s(0),f=s.n(n),v=s(2),m=s.n(v);function d(o){return function(c){if(Array.isArray(c))return T(c)}(o)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(o)||function(c,u){if(!!c){if(typeof c=="string")return T(c,u);var x=Object.prototype.toString.call(c).slice(8,-1);if(x==="Object"&&c.constructor&&(x=c.constructor.name),x==="Map"||x==="Set")return Array.from(c);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return T(c,u)}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(o,c){(c==null||c>o.length)&&(c=o.length);for(var u=0,x=new Array(c);u<c;u++)x[u]=o[u];return x}function k(o){var c,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=document.createElement(o);Array.isArray(u)?(c=_.classList).add.apply(c,d(u)):u&&_.classList.add(u);for(var p in x)_[p]=x[p];return _}function C(o){return Object.keys(o).length===0}function A(o,c){for(var u=0;u<c.length;u++){var x=c[u];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(o,x.key,x)}}var i=function(){function o(_){var p=this,b=_.data,L=_.config,l=_.api,h=_.readOnly;(function(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")})(this,o),this.api=l,this.readOnly=h,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:L.endpoint||"",field:L.field||"file",types:L.types||"*",buttonText:L.buttonText||"Select file to upload",errorMessage:L.errorMessage||"File upload failed",uploader:L.uploader||void 0,additionalRequestHeaders:L.additionalRequestHeaders||{}},b===void 0||C(b)||(this.data=b),this.uploader=new r({config:this.config,onUpload:function(S){return p.onUpload(S)},onError:function(S){return p.uploadingFailed(S)}}),this.enableFileUpload=this.enableFileUpload.bind(this)}var c,u,x;return c=o,x=[{key:"toolbox",get:function(){return{icon:f.a,title:"Attachment"}}},{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}},{key:"EXTENSIONS",get:function(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}},{key:"validate",value:function(_){return!C(_.file)}},{key:"save",value:function(_){if(this.pluginHasData()){var p=_.querySelector(".".concat(this.CSS.title));p&&Object.assign(this.data,{title:p.innerHTML})}return this.data}},{key:"render",value:function(){var _=k("div",this.CSS.baseClass);return this.nodes.wrapper=k("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),_.appendChild(this.nodes.wrapper),_}},{key:"prepareUploadButton",value:function(){this.nodes.button=k("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML="".concat(f.a," ").concat(this.config.buttonText),this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}},{key:"appendCallback",value:function(){this.nodes.button.click()}},{key:"pluginHasData",value:function(){return this.data.title!==""||Object.values(this.data.file).some(function(_){return _!==void 0})}},{key:"enableFileUpload",value:function(){var _=this;this.uploader.uploadSelectedFile({onPreview:function(){_.nodes.wrapper.classList.add(_.CSS.wrapperLoading,_.CSS.loader)}})}},{key:"onUpload",value:function(_){var p,b,L,l=_;try{l.success&&l.file!==void 0&&!C(l.file)?(this.data={file:l.file,title:l.file.title||""},this.nodes.button.remove(),this.showFileData(),p=this.nodes.title,b=document.createRange(),L=window.getSelection(),b.selectNodeContents(p),b.collapse(!1),L.removeAllRanges(),L.addRange(b),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(h){console.error("Attaches tool error:",h),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}},{key:"appendFileIcon",value:function(_){var p,b=_.extension||((p=_.name)===void 0?"":p.split(".").pop()),L=this.EXTENSIONS[b],l=k("div",this.CSS.fileIcon),h=k("div",this.CSS.fileIconBackground);if(L&&(h.style.backgroundColor=L),l.appendChild(h),b){var S=b;b.length>4&&(S=b.substring(0,4)+"\u2026");var O=k("div",this.CSS.fileIconLabel,{textContent:S,title:b});L&&(O.style.backgroundColor=L),l.appendChild(O)}else h.innerHTML=f.a;this.nodes.wrapper.appendChild(l)}},{key:"removeLoader",value:function(){var _=this;setTimeout(function(){return _.nodes.wrapper.classList.remove(_.CSS.wrapperLoading,_.CSS.loader)},500)}},{key:"showFileData",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);var _=this.data,p=_.file,b=_.title;this.appendFileIcon(p);var L=k("div",this.CSS.fileInfo);if(this.nodes.title=k("div",this.CSS.title,{contentEditable:this.readOnly===!1}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=b||"",L.appendChild(this.nodes.title),p.size){var l,h,S=k("div",this.CSS.size);Math.log10(+p.size)>=6?(l="MiB",h=p.size/Math.pow(2,20)):(l="KiB",h=p.size/Math.pow(2,10)),S.textContent=h.toFixed(1),S.setAttribute("data-size",l),L.appendChild(S)}if(this.nodes.wrapper.appendChild(L),p.url!==void 0){var O=k("a",this.CSS.downloadButton,{innerHTML:m.a,href:p.url,target:"_blank",rel:"nofollow noindex noreferrer"});this.nodes.wrapper.appendChild(O)}}},{key:"uploadingFailed",value:function(_){this.api.notifier.show({message:_,style:"error"}),this.removeLoader()}},{key:"data",get:function(){return this._data},set:function(_){var p=_.file,b=_.title;this._data={file:p,title:b}}}])&&A(c.prototype,u),x&&A(c,x),o}()}]).default})})(ae);const Te=Z(ae.exports);const Ce={name:"EditorJS",props:["config"],data(){return{editor:null,main:null,language:{code:"en",longCode:"en-US",name:"English"},editor:null}},created:function(){this.language=this.$parent.$parent.language,this.eventBus.on("runEditor",()=>{var j;this.runEditor((j=this.config)==null?void 0:j.setup)}),this.eventBus.on("removeEditor",()=>{this.editor&&(this.config.setup=null,this.config.data=null,this.editor.destroy&&typeof this.editor.destroy=="function"&&this.editor.destroy())})},computed:{user(){return this.$store.getters.getUserProfile},sidebarVisible(){return this.$parent.$parent.sidebar?"sidebar-visible":"sidebar-hidden"}},watch:{},mounted:function(){},methods:{toggleSidebar(){this.$parent.$parent.toggleSidebar()},runEditor(j){var e,t,a,r;console.debug("runEditor2 INCOMING");const M=this;let g={header:{class:le,inlineToolbar:!0},paragraph:{class:ce,inlineToolbar:!0},nestedlist:{class:ue,inlineToolbar:!0},table:{class:fe,inlineToolbar:!0},image:{class:Ee,inlineToolbar:!0},embed:{class:de,config:{services:{youtube:!0,vimeo:!0,facebook:!0}},inlineToolbar:!0},delimiter:ke,attaches:{class:Te}};((r=(a=(t=(e=this.$store)==null?void 0:e.state)==null?void 0:t.user)==null?void 0:a.profile)==null?void 0:r.type)==="admin"&&(g.raw={class:je});let E;j?E=this.$helpers.updateObjectDeep(g,j):E=g,this.editor=new se({holder:"editorjs",minHeight:30,tools:E});let s=this.editorHTMLtoObj(this.ensureHtmlValue(this.config.data));this.editor.isReady.then(()=>{M.$parent.$parent.editing=!0,M.$parent.$parent.newLanguage=M.$parent.$parent.language,M.editor.render(s)})},ensureHtmlValue(j){var g;let M="<p></p>";return j=(g=j==null?void 0:j.toString())==null?void 0:g.trim(),j&&(M=j,/<\/?[a-z][\s\S]*>/i.test(M)===!1)&&(M=`<p> ${M} </p>`),M},saveEditor(){const j=this;this.editor&&this.editor.save().then(M=>{var E;let g="";((E=M.blocks)==null?void 0:E.length)>0&&M.blocks.forEach(s=>{g+=this.editorBlockToTag(s)}),j.$parent.prepareToSave(g)}).catch(M=>{console.error("Saving failed: ",M)})},editorHTMLtoObj(j){let M={time:new Date().getTime(),blocks:[]};return j&&new DOMParser().parseFromString(j,"text/html").querySelector("body").childNodes.forEach(s=>{if(s.nodeName!=="#text"){const e=this.editorTagToBlock(s.tagName,s);e&&e.type&&M.blocks.push(e)}}),M},editorTagToBlock(j,M){var E,s,e,t;let g={type:null,data:null};switch(j=j.toString().toLowerCase(),j){case"p":g.type="paragraph",g.data={text:this.$helpers.decodeHtml(M.innerHTML)};break;case"img":g.type="image",g.data={file:{url:M.getAttribute("src")||null},caption:M.getAttribute("title")||null,withBorder:!!M.getAttribute("data-ejs-border"),withBackground:!!M.getAttribute("data-ejs-bg"),stretched:!!M.getAttribute("data-ejs-stretched")};break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":g.type="header",g.data={text:this.$helpers.decodeHtml(M.innerHTML),level:parseInt(j.trim().substring(1,2))||1};break;case"iframe":g.type="embed";let a="youtube";const r=M.getAttribute("src").match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im);r&&(a=r[1].split(".")[0]),g.data={service:a,source:M.getAttribute("src"),embed:M.getAttribute("src"),width:parseInt(M.getAttribute("width")),height:parseInt(M.getAttribute("height")),caption:M.getAttribute("data-ejs-caption")|null};break;case"hr":g.type="delimiter";break;case"ul":case"ol":g.type="nestedlist",g.data={style:j==="ol"?"ordered":"unordered",items:this.getListItem(M)};break;case"table":g.type="table",g.data={withHeadings:!!M.querySelector("th"),content:this.tableToJson(M)};break;case"div":if(M.classList,M.hasAttribute("data-ejs-type")){const n=M.getAttribute("data-ejs-type");n==="raw"&&((t=(e=(s=(E=this.$store)==null?void 0:E.state)==null?void 0:s.user)==null?void 0:e.profile)==null?void 0:t.type)==="admin"?(g.type="raw",g.data={html:M.innerHTML}):n==="attaches"&&(g.type="attaches",g.data=this.attachToJson(M))}break;default:console.error("Unknown block type",g.type);break}return g},getCodeFromServiceUrl(j,M){let g=null,E;const s=new RegExp(j.regex,"gi");for(;(E=s.exec(M))!==null;)E.index===s.lastIndex&&s.lastIndex++,E&&E[1]&&(g=E[1]);return g},getListItem(j,M=1){let g={content:null,items:[]};const E=j.childNodes;return E&&E.forEach(s=>{if(s.nodeName.toString().toLowerCase()==="li"){const t=s.childNodes;let a={content:null,items:[]};t&&t.forEach(r=>{var f,v;const n=(f=r.nodeName)==null?void 0:f.toString().toLowerCase();if(n==="ol"||n==="ul"){const m=this.getListItem(r,M+1);a.items=m.items}n==="#text"&&((v=r.nodeValue)==null?void 0:v.trim())!==""&&(a.content=r.nodeValue.trim())}),g.items.push(a)}}),M>1?g:g.items},tableToJson(j){let M=[],g=this;const E=j.childNodes;return E&&E.forEach(s=>{const e=g.tableToJsonGetRow(s);e&&e.length>0&&(M=[...M,...e])}),M},tableToJsonGetRow(j){let M=this,g=[];if(j.nodeName.toString().toLowerCase()==="tr"){const s=j.childNodes;if(s){let e=[];s.forEach(t=>{const a=t.nodeName.toLowerCase();(a==="td"||a==="th")&&t.childNodes.forEach(n=>{var v;((v=n==null?void 0:n.nodeName)==null?void 0:v.toLowerCase())==="#text"&&e.push(this.$helpers.decodeHtml(n.nodeValue))})}),e.length>0&&g.push(e)}}else{const s=j.childNodes;s&&s.forEach(e=>{const t=M.tableToJsonGetRow(e);t!==null&&t.length>0&&(g=[...g,...t])})}return g},attachToJson(j){var E;let M={file:{url:j.querySelector("a").getAttribute("href"),size:parseInt((E=j.querySelector("a [data-ejs-attaches-type=size]"))==null?void 0:E.textContent)},title:j.querySelector("a [data-ejs-attaches-type=title]").textContent};const g=j.querySelectorAll("a .additional-properties [data-ejs-attaches-type]");return g&&g.forEach(s=>{const e=s.getAttribute("data-ejs-attaches-type"),t=s.textContent;M.file[e.trim()]=t.trim()}),M},editorBlockToTag(j){var g,E,s,e,t,a;let M="";switch(j.type){case"paragraph":M+=`<p>${j.data.text}</p>`;break;case"image":let r=[],n=[];j.withBorder&&(r.push("ejs-border"),n.push("data-ejs-border")),j.withBackground&&(r.push("data-ejs-bg"),n.push("data-ejs-bg")),j.stretched&&(r.push("ejs-stretched"),n.push("data-ejs-stretched")),M+=`<img class="img-fluid ${r.join(" ")}" src="${j.data.file.url}" title="${j.data.caption}" alt="${j.data.caption}" ${n.join(" ")} /><br /><em>${j.data.caption}</em>`;break;case"header":M+=`<h${j.data.level}>${j.data.text}</h${j.data.level}>`;break;case"embded":Se[service],M+=`<iframe width="${j.data.width}" height="${j.data.height}" src="${j.data.embed}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><br /><em>${j.data.caption}</em>`;break;case"delimiter":M+="<hr />";break;case"nestedlist":let f="ul";j.data.style==="ordered"&&(f="ol"),M+=`<${f}>`,j.data.items.forEach(d=>{M+=this.listJsonToHtml(d,f)}),M+=`</${f}>`;break;case"table":M+=this.tableJsonToHtml(j.data.content,j.data.withHeadings);break;case"raw":((e=(s=(E=(g=this.$store)==null?void 0:g.state)==null?void 0:E.user)==null?void 0:s.profile)==null?void 0:e.type)==="admin"&&(M+=`<div data-ejs-type="raw">${j.data.html}</div>`);break;case"attaches":let v=[];Object.keys(j.data.file).forEach(d=>{d!=="size"&&v.push({type:d,value:j.data.file[d]})});let m="";if(v.length>0){let d="";v.forEach(T=>{d+=`
              <span class="${T.type}" data-ejs-attaches-type="${T.type}">${T.value}</span>`}),m=`
            <div class="additional-properties">
              ${d}
	          </div>`}M+=`
          <div data-ejs-type="attaches">
            <a href="${j.data.file.url}" download>
                <span class="title" data-ejs-attaches-type="title">${j.data.title}</span>
                <span class="size" data-ejs-attaches-type="size">${(a=(t=j.data.file)==null?void 0:t.size)!=null?a:""}</span>
                ${m}
            </a>
          </div>`;break;default:console.warn("Unknown block type",j.type);break}return M},listJsonToHtml(j,M){let g=this,E="";j.content&&(E=j.content);let s="";return j.items&&j.items.length>0&&(s+=`
        <${M}>`,j.items.forEach(e=>{s+=g.listJsonToHtml(e,M)}),s+=`
        </${M}>`),`
      <li>
        ${E}
        ${s}
      </li>`},tableJsonToHtml(j,M){M=typeof M>"u"?!1:!!M;let g=`
      <table>`;return j&&j.length>0&&j.forEach((E,s)=>{let e="td";M&&s===0&&(e="th",g+=`
        <thead>`),g+=`
          <tr>`,E&&E.length>0&&E.forEach(t=>{g+=`
              <${e}>${t}</${e}>`}),g+=`
          </tr>`,M&&s===0&&(g+=`
        </thead>
        <tbody>`)}),M&&(g+=`
        </tbody>`),g+=`
      </table>`,g},escapeEditor(){let j=this.$route.path.split("/");j.pop(),window.location.href=j.join("/")}}},Oe=J("div",{id:"editorjs"},null,-1),Le={id:"editorjs-toolbar"},Me={class:"ejs-actions-block"},Fe=J("i",{class:"fas fa-check"},null,-1),Ue=[Fe],Re=J("i",{class:"fas fa-plus"},null,-1),Ie=[Re],Ae={class:"ejs-actions-block"},Ne=J("i",{class:"fas fa-gear"},null,-1),Pe=[Ne],$e={class:"product-edit-language ejs-actions-block"},Be={class:"field"},He=J("label",{class:"label",translate:"yes"},"Edit Language",-1),De={class:"control select"},ze=["value"];function qe(j,M,g,E,s,e){return W(),Y("div",null,[Oe,J("div",Le,[J("div",Me,[J("a",{class:"ejs-action ejs-action-save",onClick:M[0]||(M[0]=K(t=>e.saveEditor(),["prevent","stop"])),href:"#save"},Ue),J("a",{class:"ejs-action ejs-action-cancel",onClick:M[1]||(M[1]=K(t=>e.escapeEditor(),["prevent","stop"])),href:"#cancel"},Ie)]),J("div",Ae,[J("a",{class:pe(["ejs-action ejs-action-settings",e.sidebarVisible]),onClick:M[2]||(M[2]=K(t=>e.toggleSidebar(),["prevent","stop"])),href:"#settings"},Pe,2)]),J("div",$e,[J("div",Be,[He,J("div",De,[he(J("select",{"onUpdate:modelValue":M[3]||(M[3]=t=>j.$parent.$parent.language.code=t),onChange:M[4]||(M[4]=t=>j.$parent.$parent.changeEditedLang())},[(W(!0),Y(ge,null,ve(j.$store.state.coredata.langs,(t,a)=>(W(),Y("option",{key:a+"langs",value:t.code},ye(t.name),9,ze))),128))],544),[[me,j.$parent.$parent.language.code]])])])])])])}const Je=Q(Ce,[["render",qe]]);const Ge={name:"EditorWrapper",props:["type","editordata"],data(){return{supportedComponents:["editorjs"],language:{code:"en",longCode:"en-US",name:"English"}}},components:{editorjs:Je},created:function(){this.language=this.$store.state.language},methods:{prepareToSave(j){const M=this;if(typeof j<"u"&&j){const g=new RegExp(" data-editable ","g");j.indexOf(" data-editable ")&&(j=j.replace(g,"")),M.$parent.save(j)}else console.error("EditorWrapper prepareToSave - NO editorOutput:",j)}}},Ve={key:0,class:"has-text-left"},Xe={key:0};function We(j,M,g,E,s,e){var a;const t=ne("editorjs");return this.editordata&&this.editordata[g.type]&&this.editordata[g.type].setup&&this.editordata[g.type].data?(W(),Y("div",Ve,[g.type==="editorjs"?(W(),Y("div",Xe,[be(t,{config:(a=this.editordata)==null?void 0:a.editorjs},null,8,["config"])])):ee("",!0)])):ee("",!0)}const nt=Q(Ge,[["render",We]]);const Ye={name:"Sidebar",props:["fullheight","overlay","right","open"],data(){return{}},created:function(){},methods:{}},Ze=J("p",{class:"p-1 has-text-grey"},[J("i",{class:"fas fa-angle-left"}),te(" Click "),J("i",{class:"fas fa-gear"}),te(" to hide")],-1);function Ke(j,M,g,E,s,e){const t=ne("o-sidebar");return W(),we(t,{fullheight:g.fullheight,overlay:!1,right:!0,open:g.open},{default:xe(()=>[Ze,_e(j.$slots,"default")]),_:3},8,["fullheight","open"])}const rt=Q(Ye,[["render",Ke]]);export{nt as E,rt as S};
