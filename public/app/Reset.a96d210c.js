import{G as h}from"./GoogleRecaptcha.b88a47fc.js";import{c as d,a as e,h as f,B as _,H as p,b as v,e as g,d as y,g as b,o as c,j as m}from"./sett.5bce7c7f.js";import{_ as k}from"./index.20e455a6.js";import"./edit.8b295d88.js";const w={name:"UsersVerify",components:{"google-recaptcha":h},data(){return{email:null,sent:!1}},computed:{useRecaptcha:function(){var o,t,s;return((s=(t=(o=this.$store.state)==null?void 0:o.coredata)==null?void 0:t.settings)==null?void 0:s.formVerif)==="recaptcha"}},mounted:function(){},methods:{resetPassword:function(){const o=this;this.$helpers.secureForm("reset",this.$refs.recaptcha).then(t=>{t&&this.$httpc.post("user/reset",{email:this.email},{timeout:7e3,tokenize:!0}).then(function(s){o.sent=!0}).catch(function(s){s.response&&s.response.data&&s.response.data.errors&&Object.keys(s.response.data.errors).length>0&&Object.keys(s.response.data.errors).forEach(function(i){const a=o.$el.querySelector(".field."+i);if(a){const n=a.querySelector('.form-messages .form-message[data-message="'+s.response.data.errors[i]+'"]');if(n&&n!==null){o.$helpers.undecorateFormField(a,"danger");const r=n.innerText;o.$helpers.decorateFormField(a,r,"danger")}}})}).then(function(){})})}}},x={class:"container users-me"},R=e("div",{class:"columns"},[e("div",{class:"column"},[e("h1",{class:"title is-1",translate:"yes"},"Reset password")])],-1),V={class:"columns"},F={key:0,class:"column is-half is-offset-one-quarter"},q={class:""},B=e("div",{class:"columns is-variable is-2 is-centered"},[e("div",{class:"column is-12"}," Required Field ")],-1),E={class:"columns is-variable is-2 is-centered"},$={class:"column is-6"},N={class:"field email"},T=e("label",{class:"label"},"Email",-1),j={class:"control"},C=e("div",{class:"form-messages is-hidden"},[e("div",{class:"form-message","data-message":"not found",translate:"yes"},"This email couldn't be found")],-1),P={class:"button is-success"},S={key:1,class:"column is-half is-offset-one-quarter"},G=e("h2",{class:"title is-2",translate:"yes"},"We are sending you an email",-1),M=e("p",{translate:"yes"},"Check your mailbox for verification email (if not found check, also you spam folder).",-1),O=[G,M];function U(o,t,s,i,a,n){const r=m("font-awesome-icon"),u=m("google-recaptcha");return c(),d("div",x,[R,e("div",V,[a.sent?(c(),d("div",S,O)):(c(),d("div",F,[e("form",{onSubmit:t[1]||(t[1]=f((...l)=>n.resetPassword&&n.resetPassword(...l),["prevent"]))},[e("div",q,[B,e("div",E,[e("div",$,[e("div",N,[T,e("div",j,[_(e("input",{class:"input",type:"email","onUpdate:modelValue":t[0]||(t[0]=l=>a.email=l),placeholder:"Email"},null,512),[[p,a.email]])]),C])])]),e("button",P,[v(r,{icon:"check"}),g(" \xA0 Reset ")]),n.useRecaptcha?(c(),y(u,{key:0,ref:"recaptcha"},null,512)):b("",!0)])],32)]))])])}const A=k(w,[["render",U]]);export{A as default};
