import{_ as k,A as D,o as n,c,a as s,t as m,j as d,b as T,v as I,h as $,g as v,r as x,e as p,P as R,C as E,E as U,m as F,f as C,F as M,i as b,n as O}from"./index.f358bf2e.js";const B={data(){return{eventTimeoutId:null,tempFilter:{page:1,minMaxPrice:{min:0,max:0},stringFilter:"",sort:this.getDefaultSorting()},introMinMaxPrice:{min:null,max:null}}},mounted:function(){console.log("getCategoryType:",this.getCategoryType()),this.eventBus.emit("translateContent",this.$store.getters.getTranslates)},props:["filter","categoryMinMaxPrice","categoryType"],computed:{filterPriceMin:function(){return this.tempFilter.minMaxPrice.min!==0?this.tempFilter.minMaxPrice.min:this.categoryPriceMin},filterPriceMax:function(){return this.tempFilter.minMaxPrice.max!==0?this.tempFilter.minMaxPrice.max:this.categoryPriceMax},categoryPriceMin:function(){return typeof this.categoryMinMaxPrice!="undefined"&&this.categoryMinMaxPrice.min<this.categoryMinMaxPrice.max?this.categoryMinMaxPrice.min:0},categoryPriceMax:function(){return typeof this.categoryMinMaxPrice!="undefined"&&this.categoryMinMaxPrice.max>this.categoryMinMaxPrice.min?this.categoryMinMaxPrice.max:0},filteredCount:function(){return typeof this.$parent!="undefined"?this.$parent.getCategoryFilteredCount():0},categoryTotalCount:function(){return typeof this.$parent!="undefined"&&typeof this.$parent.categoryDetail!="undefined"&&this.$parent.categoryDetail&&this.$parent.categoryDetail.count&&this.$parent.categoryDetail.count>0?this.$parent.categoryDetail.count:0},countsDoNotMatch:function(){return this.filteredCount>0&&this.filteredCount!==this.categoryTotalCount}},methods:{stringFilterChange:function(i){const e=i.target;this.$parent.filter.stringFilter=e.value,this.requestFilteredProductList()},priceSliderChange:function(i){const e=typeof i.forceValue!="undefined"?i.forceValue:null,a=i.target;let l=a.getAttribute("position"),t="",r=0,o=null;l==="left"?(t="right",r=-1,o=a.parentNode.querySelector("input[type=range][position="+t+"]"),a.value=Math.min(a.value,parseInt(o.value)+r)):(l="right",t="left",r=1,o=a.parentNode.querySelector("input[type=range][position="+t+"]"),a.value=Math.max(a.value,parseInt(o.value)+r));let g=null;const u=this.$parent.getCategoryMinMax();e!==null?(a.min===0&&typeof u.min!="undefined"&&(a.min=u.min),a.max===0&&typeof u.max!="undefined"&&(a.max=u.max),g=100/(parseInt(a.max)-parseInt(a.min))*parseInt(e)-100/(parseInt(a.max)-parseInt(a.min))*parseInt(a.min),a.value=e):(a.value===0&&(l==="left"&&u&&(a.value=u.min),l==="right"&&u&&(a.value=u.max)),g=100/(parseInt(a.max)-parseInt(a.min))*parseInt(a.value)-100/(parseInt(a.max)-parseInt(a.min))*parseInt(a.min));const h=a.parentNode.querySelector(".slider-range-controls");l==="left"?(h.querySelector("[inverse-"+l+"]").style.width=g+"%",h.querySelector("[range]").style.left=g+"%"):(h.querySelector("[inverse-"+l+"]").style.width=100-g+"%",h.querySelector("[range]").style.right=100-g+"%"),h.querySelector("[thumb="+l+"]").style.left=g+"%",h.querySelector("[sign="+l+"]").style.left=g+"%",a.value===0?(l==="right"&&typeof u.max!="undefined"&&u.max>0&&(h.querySelector("[sign="+l+"] .value").innerText=u.max),l==="left"&&typeof u.min!="undefined"&&u.min>0&&(h.querySelector("[sign="+l+"] .value").innerText=u.min)):h.querySelector("[sign="+l+"] .value").innerText=a.value;const P={};l==="left"?(P.min=a.value,P.max=o.value):(P.min=o.value,P.max=a.value),this.tempFilter.minMaxPrice=P,e===null&&this.$parent.introLoading===!1&&this.requestFilteredProductList()},requestFilteredProductList(){const i=this;clearTimeout(this.eventTimeoutId),this.eventTimeoutId=setTimeout(function(){i.$root.loadingShow(),i.$httpc.post(i.getCategoryType()+"/filter",i.buildFilterRequestObject(),{timeout:7e3}).then(function(e){const a=i.$parent.categoryDetail;e.data={categories:i.$parent.categories,categoryDetail:a,filter:e.data.filter,results:e.data.results,filteredProductsCount:e.data.filteredProductsCount},i.changeFilterUrl(),i.$parent.processCategoryResponse(e)}).catch(function(e){console.log(e)})},1e3)},buildFilterRequestObject(i){let e=this.tempFilter;typeof i!="undefined"&&i&&(e=i);let a=null;if(typeof this.$parent.categoryDetail!="undefined"&&this.$parent.categoryDetail){e.category={_id:this.$parent.categoryDetail._id,pathSlug:this.$parent.categoryDetail.pathSlug,subsSlugs:this.$parent.categoryDetail.subsSlugs};const o=e.category.subsSlugs;o.unshift(e.category.pathSlug),a={$in:o}}const l={query:{categories:a},limit:D.PER_PAGE,sort:e.sort};if(e.page>1){const o=Math.abs(e.page-1)*D.PER_PAGE;o>0&&(l.offset=o)}e.stringFilter&&e.stringFilter.trim()!==""&&(l.query["name."+this.$store.state.language.code]={$regex:e.stringFilter});const t=typeof e.minMaxPrice!="undefined"&&typeof e.minMaxPrice.min!="undefined"?e.minMaxPrice.min:0,r=typeof e.minMaxPrice!="undefined"&&typeof e.minMaxPrice.max!="undefined"?e.minMaxPrice.max:0;return(t>this.categoryPriceMin||r<this.categoryPriceMax)&&t!==r&&r>0&&(l.query.price={$gte:parseFloat(t),$lte:parseFloat(r)}),l},changeFilterUrl(){const i=this.filterObjectToQueryString();i!==""&&history.pushState({},null,i)},filterObjectToQueryString(){const i=[];let e="";return this.tempFilter.page>1&&i.push("page="+encodeURIComponent(parseInt(this.tempFilter.page))),this.tempFilter.minMaxPrice.min>this.categoryPriceMin&&i.push("price-min="+encodeURIComponent(this.tempFilter.minMaxPrice.min)),this.tempFilter.minMaxPrice.max<this.categoryPriceMax&&i.push("price-max="+encodeURIComponent(this.tempFilter.minMaxPrice.max)),this.tempFilter.stringFilter.trim()!==""&&i.push("string="+encodeURIComponent(this.tempFilter.stringFilter.trim())),this.tempFilter.sort.trim()!==""&&this.tempFilter.sort!==this.filter.sort&&i.push("sort="+encodeURIComponent(this.tempFilter.sort.trim())),i.length>0&&(e=this.$route.path+"?"+i.join("&")),e},setActivePage(i){this.tempFilter.page=i,this.requestFilteredProductList()},changeSorting(i){this.tempFilter.sort=i.target.value,this.requestFilteredProductList()},setTempFilter(i){const e=this;let a=!1;const l={target:this.$el.querySelector("input[type=range][position=left]")},t={target:this.$el.querySelector("input[type=range][position=right]")};Object.keys(i).forEach(function(r){typeof e.tempFilter[r]!="undefined"&&(e.tempFilter[r]=i[r],r==="minMaxPrice"&&(l.forceValue=e.tempFilter.minMaxPrice.min,t.forceValue=e.tempFilter.minMaxPrice.max,a=!0))}),a&&(this.priceSliderChange(l),this.priceSliderChange(t))},getCategoryType(){return this.categoryType?this.categoryType:"products"},getDefaultSorting(){return this.getCategoryType()==="pages"?D.PRODUCT_DEFAULT_SORTING:D.PAGE_DEFAULT_SORTING}}},N={key:0,class:"mt-6"},j={class:"menu"},w=s("p",{class:"menu-label",translate:"yes"}," Filter ",-1),A={class:"menu-list"},V={class:"control has-text-centered is-size-7"},G={key:0},z=s("span",{id:"products-filter-count-filtered",translate:"yes"},"Filtered",-1),H=v(": "),Q=v(" / "),W=s("span",{id:"products-filter-count-total",translate:"yes"},"Total",-1),K=v(": "),J={class:"panel-block pb-4"},X={class:"control has-icons-left"},Y=s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-search","aria-hidden":"true"})],-1),Z={key:0,class:"panel-block py-4"},ee={class:"panel-block-multiwrapper"},te=s("div",null,[s("label",{class:"label",id:"filter_price",translate:"yes"},"Price")],-1),ie={slider:"",class:"slider-range"},re={class:"slider-range-controls"},se=s("div",{"inverse-left":"",style:{width:"0%"}},null,-1),ae=s("div",{"inverse-right":"",style:{width:"0%"}},null,-1),oe=s("div",{range:"",style:{left:"0%",right:"0%"}},null,-1),ne=s("span",{thumb:"left",style:{left:"0%"}},null,-1),le=s("span",{thumb:"right",style:{left:"100%"}},null,-1),ce={sign:"left",style:{left:"0%"}},ue={class:"value"},ge={sign:"right",style:{left:"100%"}},de={class:"value"},pe=["value","max","min"],he=["value","max","min"],ye={key:1,class:"panel-block py-4"},fe={class:"panel-block-multiwrapper"},me=s("div",null,[s("label",{class:"label"},[s("span",{id:"filter_sortby",translate:"yes"},"Sort by"),v(":")])],-1),_e={class:"control has-text-centered"},Pe={class:"select is-small is-centered"},xe=s("option",{value:"price"},"Price Ascending",-1),ve=s("option",{value:"-price"},"Price Descending",-1),Ce=s("option",{value:"-dates.dateCreated"},"Latest",-1),De=s("option",{value:"stockAmount"},"On Stock Amount",-1),Me=[xe,ve,Ce,De],be={key:2,class:"panel-block py-4"},Fe={class:"panel-block-multiwrapper"},Se=s("div",null,[s("label",{class:"label"},[s("span",{translate:"yes"},"Sort by"),v(":")])],-1),Te={class:"control has-text-centered"},ke={class:"select is-small is-centered"},$e=s("option",{value:"-dates.dateCreated"},"Latest",-1),qe=s("option",{value:"dates.dateCreated"},"Oldest",-1),Le=[$e,qe];function Ie(i,e,a,l,t,r){return r.categoryTotalCount>0?(n(),c("nav",N,[s("aside",j,[w,s("ul",A,[s("li",null,[s("p",V,[r.countsDoNotMatch?(n(),c("span",G,[z,H,s("span",null,m(r.filteredCount),1),Q])):d("",!0),W,K,s("span",null,m(r.categoryTotalCount),1)])]),s("li",J,[s("p",X,[T(s("input",{class:"input is-small",type:"text",translate:"yes",placeholder:"search","onUpdate:modelValue":e[0]||(e[0]=o=>t.tempFilter.stringFilter=o),onKeyup:e[1]||(e[1]=(...o)=>r.stringFilterChange&&r.stringFilterChange(...o))},null,544),[[I,t.tempFilter.stringFilter,void 0,{trim:!0}]]),Y])]),a.categoryType=="products"?(n(),c("li",Z,[s("div",ee,[te,s("div",ie,[s("div",re,[se,ae,oe,ne,le,s("div",ce,[s("span",ue,m(r.categoryPriceMin),1)]),s("div",ge,[s("span",de,m(r.categoryPriceMax),1)])]),s("input",{type:"range",position:"left",tabindex:"0",value:r.filterPriceMin,max:r.categoryPriceMax,min:r.categoryPriceMin,step:"1",onInput:e[2]||(e[2]=(...o)=>r.priceSliderChange&&r.priceSliderChange(...o))},null,40,pe),s("input",{type:"range",position:"right",tabindex:"0",value:r.filterPriceMax,max:r.categoryPriceMax,min:r.categoryPriceMin,step:"1",onInput:e[3]||(e[3]=(...o)=>r.priceSliderChange&&r.priceSliderChange(...o))},null,40,he)])])])):d("",!0),a.categoryType=="products"?(n(),c("li",ye,[s("div",fe,[me,s("div",null,[s("div",_e,[s("div",Pe,[T(s("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.tempFilter.sort=o),onChange:e[5]||(e[5]=(...o)=>r.changeSorting&&r.changeSorting(...o))},Me,544),[[$,t.tempFilter.sort]])])])])])])):d("",!0),a.categoryType=="pages"?(n(),c("li",be,[s("div",Fe,[Se,s("div",null,[s("div",Te,[s("div",ke,[T(s("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.tempFilter.sort=o),onChange:e[7]||(e[7]=(...o)=>r.changeSorting&&r.changeSorting(...o))},Le,544),[[$,t.tempFilter.sort]])])])])])])):d("",!0)])])])):d("",!0)}var Re=k(B,[["render",Ie],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/products/CategoryFilter.vue"]]);const Ee={data(){return{current:1,perPage:D.PER_PAGE,order:"is-centered",size:"is-small",isSimple:!1,isRounded:!0}},props:{bottom:Boolean,total:{type:Number,required:!0}},methods:{pagingChanged:function(i){this.current=i,this.$parent.$refs.categoryFilter.setActivePage(i),console.log("value:",i)}}},Ue={key:0},Oe={key:0},Be=s("button",{class:"button"},"Load More ...",-1),Ne=[Be];function je(i,e,a,l,t,r){const o=x("o-pagination");return a.total>t.perPage?(n(),c("section",Ue,[p(o,{total:a.total,current:t.current,"onUpdate:current":e[0]||(e[0]=g=>t.current=g),order:t.order,size:t.size,simple:t.isSimple,rounded:t.isRounded,"per-page":t.perPage,onChange:r.pagingChanged,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},null,8,["total","current","order","size","simple","rounded","per-page","onChange"]),a.bottom==!0?(n(),c("div",Oe,Ne)):d("",!0)])):d("",!0)}var we=k(Ee,[["render",je],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/products/CategoryPaging.vue"]]);const Ae={name:"CategoryList",components:{"product-box":R,"category-filter":Re,"category-paging":we,"page-detail-content":E,"error-page":U},data(){return{categories:[],filteredProductsCount:null,products:[],page:null,itemsToListType:"products",breadcrumbs:[],categoryDetail:null,filter:{minMaxPrice:{min:0,max:0},stringFilter:"",sort:D.PRODUCT_DEFAULT_SORTING},language:"en",groupsLastRefresh:0,introLoading:!1}},computed:{categoryMinMax:function(){return this.categoryDetail&&typeof this.categoryDetail.minMaxPrice!="undefined"?this.categoryDetail.minMaxPrice:{min:null,max:null}},categoryBackground:function(){return!!(this.categoryDetail&&this.categoryDetail.data&&this.categoryDetail.data.images&&this.categoryDetail.data.images.background)},categoryProductsTotalForPaging:function(){return typeof this.filteredProductsCount!="undefined"&&this.filteredProductsCount!==null?this.filteredProductsCount:typeof this.categoryDetail.count!="undefined"&&this.categoryDetail.count?this.categoryDetail.count:0},userCanEdit:function(){return!!(this.$store.state&&this.$store.state.user&&this.$store.state.user.logged&&this.$store.state.user.profile&&this.$store.state.user.profile.type&&this.$store.state.user.profile.type==="admin")},categoryTypePageContent:function(){return this.page&&this.page.data&&this.page.data.blocks&&this.page.data.blocks[0]&&this.page.data.blocks[0][this.$store.state.language.code]?this.page.data.blocks[0][this.$store.state.language.code]:""},categoryTypePageData:function(){return this.page&&this.page.functions&&this.page.functions.length>0?this.page.functions:null}},mounted:function(){this.$store&&this.$store.state&&this.$store.state.language&&this.$store.state.language.code&&this.$store.state.user?this.listCategoryItems(!0):this.eventBus.on("coreDataLoaded",()=>{this.listCategoryItems(!0)})},methods:{processCategoryResponse(i){const e=new Date,a=this;this.groupsLastRefresh=e.getTime();let l=null;if(i.data.categoryDetail&&(this.categoryDetail=i.data.categoryDetail,this.categoryDetail&&this.categoryDetail.name&&a.$store.state&&typeof this.categoryDetail.name[a.$store.state.language.code]!="undefined"&&(document.title=this.categoryDetail.name[a.$store.state.language.code]+" - StretchShop"),i.data.categoryDetail.parentCategories&&(this.breadcrumbs=i.data.categoryDetail.parentCategories),l=this.categoryDetail.taxData?this.categoryDetail.taxData:a.$store.state.coredata.settings),i.data.categories&&(this.categories=i.data.categories),i.data.filteredProductsCount&&(this.filteredProductsCount=i.data.filteredProductsCount),i.data.results){const t=i.data.results;let r=null;i.data.categoryDetail&&i.data.categoryDetail.pathSlug&&(i.data.categoryDetail.type&&(r=i.data.categoryDetail.type),t.forEach(function(o){o=a.$helpers.getProductTaxData(o,l),o.activeParentCategoryUrl=i.data.categoryDetail.pathSlug})),r===null&&t&&t[0]&&t[0].type?this.itemsToListType=t[0].type+"s":this.itemsToListType=r,this.products=this.$store.state.chunk(t,D.PER_ROW)}if(i.data.filter){const t=Object.assign({},this.filter);this.filter=i.data.filter;const r=this;Object.keys(t).forEach(function(o){(typeof r.filter[o]=="undefined"||r.filter[o]===null)&&(r.filter[o]=t[o])})}this.$root.loadingClose()},listCategoryItems:function(i){typeof i=="undefined"&&!i?i=!1:i=!0;const e=this,a=this.$route.path.split("/").filter(Boolean),l=typeof a[1]!="undefined"?a[1]:"products";if(this.$route.params&&this.$route.params.category&&this.$route.params.category.toString().trim()!=="''")if(this.$root.loadingShow(),i&&Object.keys(this.$route.query).length>0){this.queryStringtoFilter();const t=this.categoryDetail&&this.categoryDetail.type==="pages"?"pageCategoryFilter":"categoryFilter";e.$httpc.post(l+"/"+this.$route.params.category,{filter:this.$refs[t].buildFilterRequestObject(this.filter)},{timeout:7e3}).then(function(r){e.processCategoryResponse(r),typeof e.$refs[t]!="undefined"&&(e.introLoading=!0,e.$refs[t].setTempFilter(e.filter),e.introLoading=!1)}).catch(function(r){console.log(r)}).then(()=>{e.eventBus.emit("translateContent",e.$store.getters.getTranslates)})}else console.log("listCategoryItems no need to analyse"),this.$httpc.get(l+"/"+this.$route.params.category,{timeout:7e3}).then(function(t){e.processCategoryResponse(t)}).catch(function(t){console.log(t)}).then(()=>{e.eventBus.emit("translateContent",e.$store.getters.getTranslates)});else{console.log("listCategoryItems no slug");let t=this.$route.path;const r=t.split("/");let o=e.$store.state.language.code;r.length>1&&(o=r[1],r.splice(0,2),t=r.join("/"));const g=t;this.$httpc.post("categories/find",{query:{parentPathSlug:"",type:g},lang:o}).then(function(u){u.data&&(e.categories=u.data.categories,u.data.page&&u.data.page.data&&(e.page=u.data.page.data,e.page.name&&e.$store.state&&typeof e.page.name[e.$store.state.language.code]!="undefined"&&(document.title=e.page.name[e.$store.state.language.code]+" - StretchShop")))}).catch(function(u){console.log(u)}).then(function(){e.eventBus.emit("pageDetailLoaded")})}},queryStringtoFilter:function(){const i={};if(i.minMaxPrice={},typeof this.$route.query["price-min"]!="undefined"){const e=parseFloat(this.$route.query["price-min"]);e>0&&(i.minMaxPrice.min=e)}if(typeof this.$route.query["price-max"]!="undefined"){const e=parseFloat(this.$route.query["price-max"]);e>0&&(i.minMaxPrice.max=e)}if(typeof this.$route.query.string!="undefined"){const e=decodeURIComponent(this.$route.query.string).trim();e!==""&&(i.stringFilter=e)}if(typeof this.$route.query.sort!="undefined"){const e=decodeURIComponent(this.$route.query.sort).trim();e!==""&&(i.sort=e)}this.filter=i},getCategoryMinMax(){return this.categoryDetail&&this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:null},getCategoryFilteredCount(){return this.filteredProductsCount&&this.filteredProductsCount>0?this.filteredProductsCount:0},getCategoryType(){return this.categoryDetail&&this.categoryDetail.type?this.categoryDetail.type:"products"},getCategoryBackground(){return this.categoryDetail&&this.categoryDetail.slug&&this.$store.state.coredata&&this.$store.state.coredata.settings&&this.$store.state.coredata.settings.assets&&this.$store.state.coredata.settings.assets.url?this.$helpers.getImagePath("categories",this.$store.state.coredata,this.categoryDetail.slug,this.categoryDetail.slug+".jpg"):""}}},Ve={class:"container category-list"},Ge={key:0,class:"edit-area"},ze={key:1,class:"columns",id:"category-main-content"},He={class:"column is-3 pr-6"},Qe={key:0,class:"mt-6"},We={class:"menu"},Ke=s("p",{class:"menu-label",translate:"yes"}," Sub-Categories ",-1),Je={class:"menu-list"},Xe={class:"column is-9"},Ye={key:0,class:"breadcrumb mb-2","aria-label":"breadcrumbs"},Ze={class:"is-active"},et={class:"column"},tt={key:0,class:"title mb-0"},it={key:1,class:"title is-6 mb-5 has-text-grey-dark"},rt={key:2,translate:"yes",class:"title is-1 title-products"},st={key:1},at={key:0},ot={key:1},nt={key:2},lt={class:"columns"},ct={class:"column is-12"},ut={key:0,class:"title is-1"},gt={key:2};function dt(i,e,a,l,t,r){const o=x("font-awesome-icon"),g=x("router-link"),u=x("category-filter"),h=x("category-paging"),P=x("product-box"),q=x("page-detail-content"),L=x("error-page");return n(),c("div",Ve,[r.userCanEdit&&(t.categoryDetail&&t.categoryDetail.pathSlug||t.page)?(n(),c("div",Ge,[t.categoryDetail&&t.categoryDetail.pathSlug?(n(),F(g,{key:0,class:"editor-button edit-button",to:{name:"categoryNewEdit",params:{category:t.categoryDetail.pathSlug}}},{default:C(()=>[p(o,{icon:"edit"})]),_:1},8,["to"])):d("",!0),t.page&&t.page.slug?(n(),F(g,{key:1,class:"editor-button edit-button",to:{name:"pageNewEdit",params:{slug:t.page.slug}}},{default:C(()=>[p(o,{icon:"edit"})]),_:1},8,["to"])):d("",!0)])):d("",!0),t.products&&t.products.length>0||t.page&&t.page.data?(n(),c("div",ze,[s("div",He,[t.categories&&t.categories.length>0?(n(),c("nav",Qe,[s("aside",We,[Ke,s("ul",Je,[(n(!0),c(M,null,b(this.categories,(y,_)=>(n(),c("li",{key:_},[p(g,{title:y.descriptionShort[i.$store.state.language.code],to:{name:"categoryList",params:{category:y.pathSlug}}},{default:C(()=>[v(m(y.name[i.$store.state.language.code]),1)]),_:2},1032,["title","to"])]))),128))])])])):d("",!0),p(u,{ref:"categoryFilter",filter:t.filter,categoryMinMaxPrice:r.categoryMinMax,categoryType:r.getCategoryType()},null,8,["filter","categoryMinMaxPrice","categoryType"])]),s("div",Xe,[t.breadcrumbs&&t.breadcrumbs!=null&&t.breadcrumbs.length>0?(n(),c("nav",Ye,[s("ul",null,[(n(!0),c(M,null,b(t.breadcrumbs,(y,_)=>(n(),c("li",{key:_},[p(g,{title:y.name[i.$store.state.language.code],to:{name:"categoryList",params:{category:y.pathSlug}}},{default:C(()=>[v(m(y.name[i.$store.state.language.code]),1)]),_:2},1032,["title","to"])]))),128)),s("li",Ze,[p(g,{title:t.categoryDetail.name[i.$store.state.language.code],to:{name:"categoryList",params:{category:t.categoryDetail.pathSlug}},"aria-current":"page"},{default:C(()=>[v(m(t.categoryDetail.name[i.$store.state.language.code]),1)]),_:1},8,["title","to"])])])])):d("",!0),s("div",{class:"columns category-header mt-2",style:O({backgroundImage:"url("+r.getCategoryBackground()+")"})},[s("div",et,[t.categoryDetail?(n(),c("h1",tt,m(t.categoryDetail.name[i.$store.state.language.code]),1)):d("",!0),t.categoryDetail?(n(),c("h2",it,m(t.categoryDetail.descriptionShort[i.$store.state.language.code]),1)):(n(),c("h1",rt,"Products"))])],4),t.products&&t.products.length>0?(n(),c("div",st,[p(h,{ref:"categoryPaging",total:r.categoryProductsTotalForPaging},null,8,["total"]),t.itemsToListType=="products"?(n(),c("div",at,[(n(!0),c(M,null,b(t.products,(y,_)=>(n(),c("div",{class:"tile is-ancestor",key:t.groupsLastRefresh+_},[(n(!0),c(M,null,b(y,(f,S)=>(n(),F(g,{key:t.groupsLastRefresh+f._id+(_+S),class:"tile is-parent is-4",title:f.descriptionShort[i.$store.state.language.code],to:{name:"productDetail",params:{category:t.categoryDetail.pathSlug,product:f._id,slug:f.slug}}},{default:C(()=>[p(P,{product:f,listType:t.itemsToListType,hideBuyButton:"true"},null,8,["product","listType"])]),_:2},1032,["title","to"]))),128))]))),128))])):d("",!0),t.itemsToListType=="pages"?(n(),c("div",ot,[(n(!0),c(M,null,b(t.products,(y,_)=>(n(),c("div",{class:"tile is-ancestor",key:t.groupsLastRefresh+_},[(n(!0),c(M,null,b(y,(f,S)=>(n(),F(g,{key:t.groupsLastRefresh+f._id+(_+S),class:"tile is-parent is-4",title:f.descriptionShort[i.$store.state.language.code],to:{name:"pageDetailShort",params:{category:t.categoryDetail.pathSlug,slug:f.slug}}},{default:C(()=>[p(P,{product:f,listType:t.itemsToListType},null,8,["product","listType"])]),_:2},1032,["title","to"]))),128))]))),128))])):d("",!0),p(h,{ref:"categoryPaging",bottom:!0,total:r.categoryProductsTotalForPaging},null,8,["total"])])):t.page&&t.page.data?(n(),c("div",nt,[s("div",lt,[s("div",ct,[t.page.data&&t.page.data.name?(n(),c("h1",ut,m(t.page.data.name[i.$store.state.language.code]),1)):d("",!0),p(q,{content:r.categoryTypePageContent,contentData:r.categoryTypePageData,contentLang:t.language.code},null,8,["content","contentData","contentLang"])])])])):d("",!0)])])):(n(),c("div",gt,[p(L)]))])}var ht=k(Ae,[["render",dt],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/products/CategoryList.vue"]]);export{ht as default};
