import{P as v}from"./Paging.f5a3cadf.js";import{_ as m,c as o,a as t,F as f,i as y,e as _,A as c,r as u,o as n,f as A,g as O,t as l}from"./index.9af5a96e.js";const E={name:"UserOrders",components:{paging:v},data(){return{filter:{},orders:[],total:0,page:1}},created:function(){this.getOrders()},methods:{getOrders(){const e={offset:0,limit:c.TABLE_PER_PAGE};this.requestOrders(e)},requestOrders(e){const a=this,d={timeout:3e3,needsAuth:!0};this.$httpc.post("order/list",e,d).then(function(s){s&&s.data&&s.data.results&&(a.orders=s.data.results,a.total=s.data.total)}).catch(function(s){console.log(s)}).then(function(){a.eventBus.emit("translateContent",a.$store.getters.getTranslates)})},setActivePage(e){const a={offset:(e-1)*c.TABLE_PER_PAGE,limit:c.TABLE_PER_PAGE};this.requestOrders(a)}}},P={id:"userOrderList",class:"user-order-list"},b=t("div",{class:"container"},[t("div",{class:"columns"},[t("div",{class:"column"},[t("h1",{class:"title is-1",translate:"yes"},"Your Orders")])])],-1),k={class:"container"},w={class:"columns is-variable"},x={class:"column is-12"},B={key:0},T={class:"columns is-variable"},q={class:"column is-12"},C={class:"b-table"},L={class:"table-wrapper"},D={class:"table is-hoverable is-striped is-fullwidth"},G=t("thead",null,[t("tr",null,[t("th",{class:""},[t("div",{class:"th-wrap",translate:"yes"},"ID")]),t("th",{class:""},[t("div",{class:"th-wrap",translate:"yes"},"Date")]),t("th",{class:""},[t("div",{class:"th-wrap is-pulled-right",translate:"yes"},"Total")]),t("th",{class:""},[t("div",{class:"th-wrap is-pulled-right",translate:"yes"},"Status")])])],-1),N={class:"cartItemAmount has-text-right"},R={class:"has-text-right"},U={key:1},V=t("p",{translate:"yes"},"You have no finished orders",-1),$=[V];function F(e,a,d,s,i,I){const h=u("router-link"),p=u("paging");return n(),o("div",P,[b,t("div",k,[t("div",w,[t("div",x,[i.orders&&i.orders.length>0?(n(),o("div",B,[t("div",T,[t("div",q,[t("div",C,[t("div",L,[t("table",D,[G,t("tbody",null,[(n(!0),o(f,null,y(i.orders,(r,g)=>(n(),o("tr",{key:g},[t("th",null,[_(h,{to:{name:"userOrderDetail",params:{id:r._id}}},{default:A(()=>[O(l(r._id),1)]),_:2},1032,["to"])]),t("td",null,l(r.dates.dateCreated),1),t("td",N,l(e.$helpers.numeral(r.prices.priceTotal).format("0.00")),1),t("td",R,l(r.status),1)]))),128))])])])])])]),_(p,{ref:"categoryPaging",total:i.total},null,8,["total"])])):(n(),o("div",U,$))])])])])}const Y=m(E,[["render",F]]);export{Y as default};
