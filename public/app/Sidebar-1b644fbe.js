import{g as Z,E as st,H as lt,P as ct,N as ut,T as dt,a as ft}from"./edit-e2caae93.js";import{o as W,c as Y,a as P,i as K,n as pt,G as ht,S as mt,F as gt,d as vt,t as yt,r as at,b as bt,h as Q,e as wt,w as xt,H as _t,f as it}from"./sett-4d48a041.js";import{_ as ot}from"./index-278cccc9.js";const kt={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([C,R])=>{if(!R&&C)return C;const x={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return R=R.slice(1).split("&").map(T=>{const[l,t]=T.split("=");return!C&&l==="v"?(C=t,null):x[l]?`${x[l]}=${t}`:null}).filter(T=>!!T),C+"?"+R.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:C=>C.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:C=>C.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:C=>C.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:C=>C.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:C=>C[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:C=>C.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}};var tt={},Et={get exports(){return tt},set exports(C){tt=C}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(C,R){(function(x,T){C.exports=T()})(window,function(){return function(x){var T={};function l(t){if(T[t])return T[t].exports;var e=T[t]={i:t,l:!1,exports:{}};return x[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}return l.m=x,l.c=T,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e||4&e&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&typeof t!="string")for(var a in t)l.d(s,a,function(i){return t[i]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l(l.s=9)}([function(x,T){function l(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}x.exports=function(t,e,s){return e&&l(t.prototype,e),s&&l(t,s),t}},function(x,T,l){x.exports=function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(a,i,f){s.o(a,i)||Object.defineProperty(a,i,{enumerable:!0,get:f})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,i){if(1&i&&(a=s(a)),8&i||4&i&&typeof a=="object"&&a&&a.__esModule)return a;var f=Object.create(null);if(s.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:a}),2&i&&typeof a!="string")for(var g in a)s.d(f,g,function(p){return a[p]}.bind(null,g));return f},s.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(i,"a",i),i},s.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},s.p="",s(s.s=3)}([function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}t.exports=s},function(t,e,s){(function(a){var i=s(2),f=setTimeout;function g(){}function p(r){if(!(this instanceof p))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],n(r,this)}function h(r,u){for(;r._state===3;)r=r._value;r._state!==0?(r._handled=!0,p._immediateFn(function(){var d=r._state===1?u.onFulfilled:u.onRejected;if(d!==null){var _;try{_=d(r._value)}catch(k){return void O(u.promise,k)}L(u.promise,_)}else(r._state===1?L:O)(u.promise,r._value)})):r._deferreds.push(u)}function L(r,u){try{if(u===r)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var d=u.then;if(u instanceof p)return r._state=3,r._value=u,void S(r);if(typeof d=="function")return void n((_=d,k=u,function(){_.apply(k,arguments)}),r)}r._state=1,r._value=u,S(r)}catch(m){O(r,m)}var _,k}function O(r,u){r._state=2,r._value=u,S(r)}function S(r){r._state===2&&r._deferreds.length===0&&p._immediateFn(function(){r._handled||p._unhandledRejectionFn(r._value)});for(var u=0,d=r._deferreds.length;u<d;u++)h(r,r._deferreds[u]);r._deferreds=null}function F(r,u,d){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof u=="function"?u:null,this.promise=d}function n(r,u){var d=!1;try{r(function(_){d||(d=!0,L(u,_))},function(_){d||(d=!0,O(u,_))})}catch(_){if(d)return;d=!0,O(u,_)}}p.prototype.catch=function(r){return this.then(null,r)},p.prototype.then=function(r,u){var d=new this.constructor(g);return h(this,new F(r,u,d)),d},p.prototype.finally=i.a,p.all=function(r){return new p(function(u,d){if(!r||r.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(r);if(_.length===0)return u([]);var k=_.length;function m(j,o){try{if(o&&(typeof o=="object"||typeof o=="function")){var c=o.then;if(typeof c=="function")return void c.call(o,function(y){m(j,y)},d)}_[j]=o,--k==0&&u(_)}catch(y){d(y)}}for(var b=0;b<_.length;b++)m(b,_[b])})},p.resolve=function(r){return r&&typeof r=="object"&&r.constructor===p?r:new p(function(u){u(r)})},p.reject=function(r){return new p(function(u,d){d(r)})},p.race=function(r){return new p(function(u,d){for(var _=0,k=r.length;_<k;_++)r[_].then(u,d)})},p._immediateFn=typeof a=="function"&&function(r){a(r)}||function(r){f(r,0)},p._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)},e.a=p}).call(this,s(5).setImmediate)},function(t,e,s){e.a=function(a){var i=this.constructor;return this.then(function(f){return i.resolve(a()).then(function(){return f})},function(f){return i.resolve(a()).then(function(){return i.reject(f)})})}},function(t,e,s){function a(n){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}s(4);var i,f,g,p,h,L,O,S=s(8),F=(f=function(n){return new Promise(function(r,u){n=p(n),(n=h(n)).beforeSend&&n.beforeSend();var d=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");d.open(n.method,n.url),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n.headers).forEach(function(k){var m=n.headers[k];d.setRequestHeader(k,m)});var _=n.ratio;d.upload.addEventListener("progress",function(k){var m=Math.round(k.loaded/k.total*100),b=Math.ceil(m*_/100);n.progress(Math.min(b,100))},!1),d.addEventListener("progress",function(k){var m=Math.round(k.loaded/k.total*100),b=Math.ceil(m*(100-_)/100)+_;n.progress(Math.min(b,100))},!1),d.onreadystatechange=function(){if(d.readyState===4){var k=d.response;try{k=JSON.parse(k)}catch{}var m=S.parseHeaders(d.getAllResponseHeaders()),b={body:k,code:d.status,headers:m};O(d.status)?r(b):u(b)}},d.send(n.data)})},g=function(n){return n.method="POST",f(n)},p=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.url&&typeof n.url!="string")throw new Error("Url must be a string");if(n.url=n.url||"",n.method&&typeof n.method!="string")throw new Error("`method` must be a string or null");if(n.method=n.method?n.method.toUpperCase():"GET",n.headers&&a(n.headers)!=="object")throw new Error("`headers` must be an object or null");if(n.headers=n.headers||{},n.type&&(typeof n.type!="string"||!Object.values(i).includes(n.type)))throw new Error("`type` must be taken from module's «contentType» library");if(n.progress&&typeof n.progress!="function")throw new Error("`progress` must be a function or null");if(n.progress=n.progress||function(r){},n.beforeSend=n.beforeSend||function(r){},n.ratio&&typeof n.ratio!="number")throw new Error("`ratio` must be a number");if(n.ratio<0||n.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(n.ratio=n.ratio||90,n.accept&&typeof n.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(n.accept=n.accept||"*/*",n.multiple&&typeof n.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(n.multiple=n.multiple||!1,n.fieldName&&typeof n.fieldName!="string")throw new Error("`fieldName` must be a string");return n.fieldName=n.fieldName||"files",n},h=function(n){switch(n.method){case"GET":var r=L(n.data,i.URLENCODED);delete n.data,n.url=/\?/.test(n.url)?n.url+"&"+r:n.url+"?"+r;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var u=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||i.JSON}(n);(S.isFormData(n.data)||S.isFormElement(n.data))&&(u=i.FORM),n.data=L(n.data,u),u!==F.contentType.FORM&&(n.headers["content-type"]=u)}return n},L=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return S.urlEncode(n);case i.JSON:return S.jsonEncode(n);case i.FORM:return S.formEncode(n);default:return n}},O=function(n){return n>=200&&n<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(n){return n.method="GET",f(n)},post:g,transport:function(n){return n=p(n),S.selectFiles(n).then(function(r){for(var u=new FormData,d=0;d<r.length;d++)u.append(n.fieldName,r[d],r[d].name);S.isObject(n.data)&&Object.keys(n.data).forEach(function(k){var m=n.data[k];u.append(k,m)});var _=n.beforeSend;return n.beforeSend=function(){return _(r)},n.data=u,g(n)})},selectFiles:function(n){return delete(n=p(n)).beforeSend,S.selectFiles(n)}});t.exports=F},function(t,e,s){s.r(e);var a=s(1);window.Promise=window.Promise||a.a},function(t,e,s){(function(a){var i=a!==void 0&&a||typeof self<"u"&&self||window,f=Function.prototype.apply;function g(p,h){this._id=p,this._clearFn=h}e.setTimeout=function(){return new g(f.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new g(f.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(p){p&&p.close()},g.prototype.unref=g.prototype.ref=function(){},g.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(p,h){clearTimeout(p._idleTimeoutId),p._idleTimeout=h},e.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},e._unrefActive=e.active=function(p){clearTimeout(p._idleTimeoutId);var h=p._idleTimeout;h>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},h))},s(6),e.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,e.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,s(0))},function(t,e,s){(function(a,i){(function(f,g){if(!f.setImmediate){var p,h,L,O,S,F=1,n={},r=!1,u=f.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(f);d=d&&d.setTimeout?d:f,{}.toString.call(f.process)==="[object process]"?p=function(m){i.nextTick(function(){k(m)})}:function(){if(f.postMessage&&!f.importScripts){var m=!0,b=f.onmessage;return f.onmessage=function(){m=!1},f.postMessage("","*"),f.onmessage=b,m}}()?(O="setImmediate$"+Math.random()+"$",S=function(m){m.source===f&&typeof m.data=="string"&&m.data.indexOf(O)===0&&k(+m.data.slice(O.length))},f.addEventListener?f.addEventListener("message",S,!1):f.attachEvent("onmessage",S),p=function(m){f.postMessage(O+m,"*")}):f.MessageChannel?((L=new MessageChannel).port1.onmessage=function(m){k(m.data)},p=function(m){L.port2.postMessage(m)}):u&&"onreadystatechange"in u.createElement("script")?(h=u.documentElement,p=function(m){var b=u.createElement("script");b.onreadystatechange=function(){k(m),b.onreadystatechange=null,h.removeChild(b),b=null},h.appendChild(b)}):p=function(m){setTimeout(k,0,m)},d.setImmediate=function(m){typeof m!="function"&&(m=new Function(""+m));for(var b=new Array(arguments.length-1),j=0;j<b.length;j++)b[j]=arguments[j+1];var o={callback:m,args:b};return n[F]=o,p(F),F++},d.clearImmediate=_}function _(m){delete n[m]}function k(m){if(r)setTimeout(k,0,m);else{var b=n[m];if(b){r=!0;try{(function(j){var o=j.callback,c=j.args;switch(c.length){case 0:o();break;case 1:o(c[0]);break;case 2:o(c[0],c[1]);break;case 3:o(c[0],c[1],c[2]);break;default:o.apply(void 0,c)}})(b)}finally{_(m),r=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,s(0),s(7))},function(t,e){var s,a,i=t.exports={};function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function p(d){if(s===setTimeout)return setTimeout(d,0);if((s===f||!s)&&setTimeout)return s=setTimeout,setTimeout(d,0);try{return s(d,0)}catch{try{return s.call(null,d,0)}catch{return s.call(this,d,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:f}catch{s=f}try{a=typeof clearTimeout=="function"?clearTimeout:g}catch{a=g}})();var h,L=[],O=!1,S=-1;function F(){O&&h&&(O=!1,h.length?L=h.concat(L):S=-1,L.length&&n())}function n(){if(!O){var d=p(F);O=!0;for(var _=L.length;_;){for(h=L,L=[];++S<_;)h&&h[S].run();S=-1,_=L.length}h=null,O=!1,function(k){if(a===clearTimeout)return clearTimeout(k);if((a===g||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(k);try{a(k)}catch{try{return a.call(null,k)}catch{return a.call(this,k)}}}(d)}}function r(d,_){this.fun=d,this.array=_}function u(){}i.nextTick=function(d){var _=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)_[k-1]=arguments[k];L.push(new r(d,_)),L.length!==1||O||p(n)},r.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=u,i.addListener=u,i.once=u,i.off=u,i.removeListener=u,i.removeAllListeners=u,i.emit=u,i.prependListener=u,i.prependOnceListener=u,i.listeners=function(d){return[]},i.binding=function(d){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(d){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,s){function a(f,g){for(var p=0;p<g.length;p++){var h=g[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}var i=s(9);t.exports=function(){function f(){(function(h,L){if(!(h instanceof L))throw new TypeError("Cannot call a class as a function")})(this,f)}var g,p;return g=f,(p=[{key:"urlEncode",value:function(h){return i(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var L=new FormData;return Object.keys(h).forEach(function(O){var S=h[O];L.append(O,S)}),L}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(L,O){var S=document.createElement("INPUT");S.type="file",h.multiple&&S.setAttribute("multiple","multiple"),h.accept&&S.setAttribute("accept",h.accept),S.style.display="none",document.body.appendChild(S),S.addEventListener("change",function(F){var n=F.target.files;L(n),document.body.removeChild(S)},!1),S.click()})}},{key:"parseHeaders",value:function(h){var L=h.trim().split(/[\r\n]+/),O={};return L.forEach(function(S){var F=S.split(": "),n=F.shift(),r=F.join(": ");n&&(O[n]=r)}),O}}])&&a(g,p),f}()},function(t,e){var s=function(i){return encodeURIComponent(i).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(i,f,g,p){return f=f||null,g=g||"&",p=p||null,i?function(h){for(var L=new Array,O=0;O<h.length;O++)h[O]&&L.push(h[O]);return L}(Object.keys(i).map(function(h){var L,O,S=h;if(p&&(S=p+"["+S+"]"),typeof i[h]=="object"&&i[h]!==null)L=a(i[h],null,g,S);else{f&&(O=S,S=!isNaN(parseFloat(O))&&isFinite(O)?f+Number(S):S);var F=i[h];F=(F=(F=(F=F===!0?"1":F)===!1?"0":F)===0?"0":F)||"",L=s(S)+"="+s(F)}return L})).join(g).replace(/[!'()*]/g,""):""};t.exports=a}])},function(x,T){x.exports=function(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}},function(x,T,l){x.exports=l(10)},function(x,T){x.exports=function(l,t){(t==null||t>l.length)&&(t=l.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=l[e];return s}},function(x,T,l){var t=l(4);x.exports=function(e,s){if(e){if(typeof e=="string")return t(e,s);var a=Object.prototype.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,s):void 0}}},function(x,T){function l(t,e,s,a,i,f,g){try{var p=t[f](g),h=p.value}catch(L){return void s(L)}p.done?e(h):Promise.resolve(h).then(a,i)}x.exports=function(t){return function(){var e=this,s=arguments;return new Promise(function(a,i){var f=t.apply(e,s);function g(h){l(f,a,i,g,p,"next",h)}function p(h){l(f,a,i,g,p,"throw",h)}g(void 0)})}}},function(x,T,l){var t=l(15),e=l(16),s=l(5),a=l(17);x.exports=function(i){return t(i)||e(i)||s(i)||a()}},function(x,T,l){var t=l(18),e=l(19),s=l(5),a=l(20);x.exports=function(i,f){return t(i)||e(i,f)||s(i,f)||a()}},function(x,T,l){x.exports=l(21)},function(x,T,l){var t=function(e){var s=Object.prototype,a=s.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},f=i.iterator||"@@iterator",g=i.asyncIterator||"@@asyncIterator",p=i.toStringTag||"@@toStringTag";function h(v,w,U,M){var I=w&&w.prototype instanceof S?w:S,N=Object.create(I.prototype),$=new c(M||[]);return N._invoke=function(B,q,A){var D="suspendedStart";return function(z,J){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(z==="throw")throw J;return E()}for(A.method=z,A.arg=J;;){var X=A.delegate;if(X){var G=b(X,A);if(G){if(G===O)continue;return G}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(D==="suspendedStart")throw D="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);D="executing";var H=L(B,q,A);if(H.type==="normal"){if(D=A.done?"completed":"suspendedYield",H.arg===O)continue;return{value:H.arg,done:A.done}}H.type==="throw"&&(D="completed",A.method="throw",A.arg=H.arg)}}}(v,U,$),N}function L(v,w,U){try{return{type:"normal",arg:v.call(w,U)}}catch(M){return{type:"throw",arg:M}}}e.wrap=h;var O={};function S(){}function F(){}function n(){}var r={};r[f]=function(){return this};var u=Object.getPrototypeOf,d=u&&u(u(y([])));d&&d!==s&&a.call(d,f)&&(r=d);var _=n.prototype=S.prototype=Object.create(r);function k(v){["next","throw","return"].forEach(function(w){v[w]=function(U){return this._invoke(w,U)}})}function m(v,w){var U;this._invoke=function(M,I){function N(){return new w(function($,B){(function q(A,D,z,J){var X=L(v[A],v,D);if(X.type!=="throw"){var G=X.arg,H=G.value;return H&&typeof H=="object"&&a.call(H,"__await")?w.resolve(H.__await).then(function(V){q("next",V,z,J)},function(V){q("throw",V,z,J)}):w.resolve(H).then(function(V){G.value=V,z(G)},function(V){return q("throw",V,z,J)})}J(X.arg)})(M,I,$,B)})}return U=U?U.then(N,N):N()}}function b(v,w){var U=v.iterator[w.method];if(U===void 0){if(w.delegate=null,w.method==="throw"){if(v.iterator.return&&(w.method="return",w.arg=void 0,b(v,w),w.method==="throw"))return O;w.method="throw",w.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var M=L(U,v.iterator,w.arg);if(M.type==="throw")return w.method="throw",w.arg=M.arg,w.delegate=null,O;var I=M.arg;return I?I.done?(w[v.resultName]=I.value,w.next=v.nextLoc,w.method!=="return"&&(w.method="next",w.arg=void 0),w.delegate=null,O):I:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,O)}function j(v){var w={tryLoc:v[0]};1 in v&&(w.catchLoc=v[1]),2 in v&&(w.finallyLoc=v[2],w.afterLoc=v[3]),this.tryEntries.push(w)}function o(v){var w=v.completion||{};w.type="normal",delete w.arg,v.completion=w}function c(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(j,this),this.reset(!0)}function y(v){if(v){var w=v[f];if(w)return w.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var U=-1,M=function I(){for(;++U<v.length;)if(a.call(v,U))return I.value=v[U],I.done=!1,I;return I.value=void 0,I.done=!0,I};return M.next=M}}return{next:E}}function E(){return{value:void 0,done:!0}}return F.prototype=_.constructor=n,n.constructor=F,n[p]=F.displayName="GeneratorFunction",e.isGeneratorFunction=function(v){var w=typeof v=="function"&&v.constructor;return!!w&&(w===F||(w.displayName||w.name)==="GeneratorFunction")},e.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,n):(v.__proto__=n,p in v||(v[p]="GeneratorFunction")),v.prototype=Object.create(_),v},e.awrap=function(v){return{__await:v}},k(m.prototype),m.prototype[g]=function(){return this},e.AsyncIterator=m,e.async=function(v,w,U,M,I){I===void 0&&(I=Promise);var N=new m(h(v,w,U,M),I);return e.isGeneratorFunction(w)?N:N.next().then(function($){return $.done?$.value:N.next()})},k(_),_[p]="Generator",_[f]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(v){var w=[];for(var U in v)w.push(U);return w.reverse(),function M(){for(;w.length;){var I=w.pop();if(I in v)return M.value=I,M.done=!1,M}return M.done=!0,M}},e.values=y,c.prototype={constructor:c,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(o),!v)for(var w in this)w.charAt(0)==="t"&&a.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var v=this.tryEntries[0].completion;if(v.type==="throw")throw v.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var w=this;function U(q,A){return N.type="throw",N.arg=v,w.next=q,A&&(w.method="next",w.arg=void 0),!!A}for(var M=this.tryEntries.length-1;M>=0;--M){var I=this.tryEntries[M],N=I.completion;if(I.tryLoc==="root")return U("end");if(I.tryLoc<=this.prev){var $=a.call(I,"catchLoc"),B=a.call(I,"finallyLoc");if($&&B){if(this.prev<I.catchLoc)return U(I.catchLoc,!0);if(this.prev<I.finallyLoc)return U(I.finallyLoc)}else if($){if(this.prev<I.catchLoc)return U(I.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return U(I.finallyLoc)}}}},abrupt:function(v,w){for(var U=this.tryEntries.length-1;U>=0;--U){var M=this.tryEntries[U];if(M.tryLoc<=this.prev&&a.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var I=M;break}}I&&(v==="break"||v==="continue")&&I.tryLoc<=w&&w<=I.finallyLoc&&(I=null);var N=I?I.completion:{};return N.type=v,N.arg=w,I?(this.method="next",this.next=I.finallyLoc,O):this.complete(N)},complete:function(v,w){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&w&&(this.next=w),O},finish:function(v){for(var w=this.tryEntries.length-1;w>=0;--w){var U=this.tryEntries[w];if(U.finallyLoc===v)return this.complete(U.completion,U.afterLoc),o(U),O}},catch:function(v){for(var w=this.tryEntries.length-1;w>=0;--w){var U=this.tryEntries[w];if(U.tryLoc===v){var M=U.completion;if(M.type==="throw"){var I=M.arg;o(U)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(v,w,U){return this.delegate={iterator:y(v),resultName:w,nextLoc:U},this.method==="next"&&(this.arg=void 0),O}},e}(x.exports);try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}},function(x,T,l){var t=l(12),e=l(13);typeof(e=e.__esModule?e.default:e)=="string"&&(e=[[x.i,e,""]]);var s={insert:"head",singleton:!1},a=(t(e,s),e.locals?e.locals:{});x.exports=a},function(x,T,l){var t,e=function(){return t===void 0&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},s=function(){var r={};return function(u){if(r[u]===void 0){var d=document.querySelector(u);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch{d=null}r[u]=d}return r[u]}}(),a=[];function i(r){for(var u=-1,d=0;d<a.length;d++)if(a[d].identifier===r){u=d;break}return u}function f(r,u){for(var d={},_=[],k=0;k<r.length;k++){var m=r[k],b=u.base?m[0]+u.base:m[0],j=d[b]||0,o="".concat(b," ").concat(j);d[b]=j+1;var c=i(o),y={css:m[1],media:m[2],sourceMap:m[3]};c!==-1?(a[c].references++,a[c].updater(y)):a.push({identifier:o,updater:n(y,u),references:1}),_.push(o)}return _}function g(r){var u=document.createElement("style"),d=r.attributes||{};if(d.nonce===void 0){var _=l.nc;_&&(d.nonce=_)}if(Object.keys(d).forEach(function(m){u.setAttribute(m,d[m])}),typeof r.insert=="function")r.insert(u);else{var k=s(r.insert||"head");if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");k.appendChild(u)}return u}var p,h=(p=[],function(r,u){return p[r]=u,p.filter(Boolean).join(`
`)});function L(r,u,d,_){var k=d?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(r.styleSheet)r.styleSheet.cssText=h(u,k);else{var m=document.createTextNode(k),b=r.childNodes;b[u]&&r.removeChild(b[u]),b.length?r.insertBefore(m,b[u]):r.appendChild(m)}}function O(r,u,d){var _=d.css,k=d.media,m=d.sourceMap;if(k?r.setAttribute("media",k):r.removeAttribute("media"),m&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(m))))," */")),r.styleSheet)r.styleSheet.cssText=_;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(_))}}var S=null,F=0;function n(r,u){var d,_,k;if(u.singleton){var m=F++;d=S||(S=g(u)),_=L.bind(null,d,m,!1),k=L.bind(null,d,m,!0)}else d=g(u),_=O.bind(null,d,u),k=function(){(function(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b)})(d)};return _(r),function(b){if(b){if(b.css===r.css&&b.media===r.media&&b.sourceMap===r.sourceMap)return;_(r=b)}else k()}}x.exports=function(r,u){(u=u||{}).singleton||typeof u.singleton=="boolean"||(u.singleton=e());var d=f(r=r||[],u);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var k=0;k<d.length;k++){var m=i(d[k]);a[m].references--}for(var b=f(_,u),j=0;j<d.length;j++){var o=i(d[j]);a[o].references===0&&(a[o].updater(),a.splice(o,1))}d=b}}}},function(x,T,l){(T=l(14)(!1)).push([x.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),x.exports=T},function(x,T,l){x.exports=function(t){var e=[];return e.toString=function(){return this.map(function(s){var a=function(i,f){var g=i[1]||"",p=i[3];if(!p)return g;if(f&&typeof btoa=="function"){var h=(O=p,S=btoa(unescape(encodeURIComponent(JSON.stringify(O)))),F="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(S),"/*# ".concat(F," */")),L=p.sources.map(function(n){return"/*# sourceURL=".concat(p.sourceRoot||"").concat(n," */")});return[g].concat(L).concat([h]).join(`
`)}var O,S,F;return[g].join(`
`)}(s,t);return s[2]?"@media ".concat(s[2]," {").concat(a,"}"):a}).join("")},e.i=function(s,a,i){typeof s=="string"&&(s=[[null,s,""]]);var f={};if(i)for(var g=0;g<this.length;g++){var p=this[g][0];p!=null&&(f[p]=!0)}for(var h=0;h<s.length;h++){var L=[].concat(s[h]);i&&f[L[0]]||(a&&(L[2]?L[2]="".concat(a," and ").concat(L[2]):L[2]=a),e.push(L))}},e}},function(x,T,l){var t=l(4);x.exports=function(e){if(Array.isArray(e))return t(e)}},function(x,T){x.exports=function(l){if(typeof Symbol<"u"&&Symbol.iterator in Object(l))return Array.from(l)}},function(x,T){x.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(x,T){x.exports=function(l){if(Array.isArray(l))return l}},function(x,T){x.exports=function(l,t){if(typeof Symbol<"u"&&Symbol.iterator in Object(l)){var e=[],s=!0,a=!1,i=void 0;try{for(var f,g=l[Symbol.iterator]();!(s=(f=g.next()).done)&&(e.push(f.value),!t||e.length!==t);s=!0);}catch(p){a=!0,i=p}finally{try{s||g.return==null||g.return()}finally{if(a)throw i}}return e}}},function(x,T){x.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(x,T,l){l.r(T),l.d(T,"default",function(){return m});var t=l(3),e=l.n(t),s=l(6),a=l.n(s),i=l(2),f=l.n(i),g=l(0),p=l.n(g);l(11);const h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var L=l(7),O=l.n(L);function S(b){var j,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=document.createElement(b);Array.isArray(o)?(j=y.classList).add.apply(j,O()(o)):o&&y.classList.add(o);for(var E in c)y[E]=c[E];return y}var F=function(){function b(j){var o=j.api,c=j.config,y=j.onSelectFile,E=j.readOnly;f()(this,b),this.api=o,this.config=c,this.onSelectFile=y,this.readOnly=E,this.nodes={wrapper:S("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:S("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:S("div",this.CSS.imagePreloader),caption:S("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return p()(b,[{key:"render",value:function(j){return j.file&&Object.keys(j.file).length!==0?this.toggleStatus(b.status.UPLOADING):this.toggleStatus(b.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var j=this,o=S("div",[this.CSS.button]);return o.innerHTML=this.config.buttonContent||"".concat(h," ").concat(this.api.i18n.t("Select an Image")),o.addEventListener("click",function(){j.onSelectFile()}),o}},{key:"showPreloader",value:function(j){this.nodes.imagePreloader.style.backgroundImage="url(".concat(j,")"),this.toggleStatus(b.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(b.status.EMPTY)}},{key:"fillImage",value:function(j){var o=this,c=/\.mp4$/.test(j)?"VIDEO":"IMG",y={src:j},E="load";c==="VIDEO"&&(y.autoplay=!0,y.loop=!0,y.muted=!0,y.playsinline=!0,E="loadeddata"),this.nodes.imageEl=S(c,this.CSS.imageEl,y),this.nodes.imageEl.addEventListener(E,function(){o.toggleStatus(b.status.FILLED),o.nodes.imagePreloader&&(o.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(j){this.nodes.caption&&(this.nodes.caption.innerHTML=j)}},{key:"toggleStatus",value:function(j){for(var o in b.status)Object.prototype.hasOwnProperty.call(b.status,o)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(b.status[o]),j===b.status[o])}},{key:"applyTune",value:function(j,o){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(j),o)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),b}(),n=l(8),r=l.n(n),u=l(1),d=l.n(u);function _(b){return b&&typeof b.then=="function"}var k=function(){function b(j){var o=j.config,c=j.onUpload,y=j.onError;f()(this,b),this.config=o,this.onUpload=c,this.onError=y}return p()(b,[{key:"uploadSelectedFile",value:function(j){var o=this,c=j.onPreview,y=function(E){var v=new FileReader;v.readAsDataURL(E),v.onload=function(w){c(w.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?d.a.selectFiles({accept:this.config.types}).then(function(E){y(E[0]);var v=o.config.uploader.uploadByFile(E[0]);return _(v)||console.warn("Custom uploader method uploadByFile should return a Promise"),v}):d.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(E){y(E[0])},fieldName:this.config.field}).then(function(E){return E.body})).then(function(E){o.onUpload(E)}).catch(function(E){o.onError(E)})}},{key:"uploadByUrl",value:function(j){var o,c=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?_(o=this.config.uploader.uploadByUrl(j))||console.warn("Custom uploader method uploadByUrl should return a Promise"):o=d.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:j},this.config.additionalRequestData),type:d.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(y){return y.body}),o.then(function(y){c.onUpload(y)}).catch(function(y){c.onError(y)})}},{key:"uploadByFile",value:function(j,o){var c,y=this,E=o.onPreview,v=new FileReader;if(v.readAsDataURL(j),v.onload=function(U){E(U.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")_(c=this.config.uploader.uploadByFile(j))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var w=new FormData;w.append(this.config.field,j),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(U){var M=r()(U,2),I=M[0],N=M[1];w.append(I,N)}),c=d.a.post({url:this.config.endpoints.byFile,data:w,type:d.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(U){return U.body})}c.then(function(U){y.onUpload(U)}).catch(function(U){y.onError(U)})}}]),b}(),m=function(){function b(o){var c=this,y=o.data,E=o.config,v=o.api,w=o.readOnly;f()(this,b),this.api=v,this.readOnly=w,this.config={endpoints:E.endpoints||"",additionalRequestData:E.additionalRequestData||{},additionalRequestHeaders:E.additionalRequestHeaders||{},field:E.field||"image",types:E.types||"image/*",captionPlaceholder:this.api.i18n.t(E.captionPlaceholder||"Caption"),buttonContent:E.buttonContent||"",uploader:E.uploader||void 0,actions:E.actions||[]},this.uploader=new k({config:this.config,onUpload:function(U){return c.onUpload(U)},onError:function(U){return c.uploadingFailed(U)}}),this.ui=new F({api:v,config:this.config,onSelectFile:function(){c.uploader.uploadSelectedFile({onPreview:function(U){c.ui.showPreloader(U)}})},readOnly:w}),this._data={},this.data=y}var j;return p()(b,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:h,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),p()(b,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(o){return o.file&&o.file.url}},{key:"save",value:function(){var o=this.ui.nodes.caption;return this._data.caption=o.innerHTML,this.data}},{key:"renderSettings",value:function(){var o=this;return b.tunes.concat(this.config.actions).map(function(c){return{icon:c.icon,label:o.api.i18n.t(c.title),name:c.name,toggle:c.toggle,isActive:o.data[c.name],onActivate:function(){typeof c.action!="function"?o.tuneToggled(c.name):c.action(c.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(j=a()(e.a.mark(function o(c){var y,E,v,w,U;return e.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:M.t0=c.type,M.next=M.t0==="tag"?3:M.t0==="pattern"?15:M.t0==="file"?18:21;break;case 3:if(y=c.detail.data,!/^blob:/.test(y.src)){M.next=13;break}return M.next=7,fetch(y.src);case 7:return E=M.sent,M.next=10,E.blob();case 10:return v=M.sent,this.uploadFile(v),M.abrupt("break",21);case 13:return this.uploadUrl(y.src),M.abrupt("break",21);case 15:return w=c.detail.data,this.uploadUrl(w),M.abrupt("break",21);case 18:return U=c.detail.file,this.uploadFile(U),M.abrupt("break",21);case 21:case"end":return M.stop()}},o,this)})),function(o){return j.apply(this,arguments)})},{key:"onUpload",value:function(o){o.success&&o.file?this.image=o.file:this.uploadingFailed("incorrect response: "+JSON.stringify(o))}},{key:"uploadingFailed",value:function(o){console.log("Image Tool: uploading failed because of",o),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(o){this.setTune(o,!this._data[o])}},{key:"setTune",value:function(o,c){var y=this;this._data[o]=c,this.ui.applyTune(o,c),o==="stretched"&&Promise.resolve().then(function(){var E=y.api.blocks.getCurrentBlockIndex();y.api.blocks.stretchBlock(E,c)}).catch(function(E){console.error(E)})}},{key:"uploadFile",value:function(o){var c=this;this.uploader.uploadByFile(o,{onPreview:function(y){c.ui.showPreloader(y)}})}},{key:"uploadUrl",value:function(o){this.ui.showPreloader(o),this.uploader.uploadByUrl(o)}},{key:"data",set:function(o){var c=this;this.image=o.file,this._data.caption=o.caption||"",this.ui.fillCaption(this._data.caption),b.tunes.forEach(function(y){var E=y.name,v=o[E]!==void 0&&(o[E]===!0||o[E]==="true");c.setTune(E,v)})},get:function(){return this._data}},{key:"image",set:function(o){this._data.file=o||{},o&&o.url&&this.ui.fillImage(o.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),b}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(Et);const St=Z(tt);var et={},jt={get exports(){return et},set exports(C){et=C}};(function(C,R){(function(x,T){C.exports=T()})(window,function(){return function(x){var T={};function l(t){if(T[t])return T[t].exports;var e=T[t]={i:t,l:!1,exports:{}};return x[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}return l.m=x,l.c=T,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e||4&e&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&typeof t!="string")for(var a in t)l.d(s,a,function(i){return t[i]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l(l.s=5)}([function(x,T,l){var t=l(1);typeof t=="string"&&(t=[[x.i,t,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};l(3)(t,e),t.locals&&(x.exports=t.locals)},function(x,T,l){(x.exports=l(2)(!1)).push([x.i,`.ce-rawtool__textarea {
  min-height: 200px;
  resize: vertical;
  border-radius: 8px;
  border: 0;
  background-color: #1e2128;
  font-family: Menlo, Monaco, Consolas, Courier New, monospace;
  font-size: 12px;
  line-height: 1.6;
  letter-spacing: -0.2px;
  color: #a1a7b6;
  overscroll-behavior: contain;
}
`,""])},function(x,T){x.exports=function(l){var t=[];return t.toString=function(){return this.map(function(e){var s=function(a,i){var f=a[1]||"",g=a[3];if(!g)return f;if(i&&typeof btoa=="function"){var p=(L=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */"),h=g.sources.map(function(O){return"/*# sourceURL="+g.sourceRoot+O+" */"});return[f].concat(h).concat([p]).join(`
`)}var L;return[f].join(`
`)}(e,l);return e[2]?"@media "+e[2]+"{"+s+"}":s}).join("")},t.i=function(e,s){typeof e=="string"&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var f=this[i][0];typeof f=="number"&&(a[f]=!0)}for(i=0;i<e.length;i++){var g=e[i];typeof g[0]=="number"&&a[g[0]]||(s&&!g[2]?g[2]=s:s&&(g[2]="("+g[2]+") and ("+s+")"),t.push(g))}},t}},function(x,T,l){var t,e,s={},a=(t=function(){return window&&document&&document.all&&!window.atob},function(){return e===void 0&&(e=t.apply(this,arguments)),e}),i=function(o){return document.querySelector(o)},f=function(o){var c={};return function(y){if(typeof y=="function")return y();if(c[y]===void 0){var E=i.call(this,y);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}c[y]=E}return c[y]}}(),g=null,p=0,h=[],L=l(4);function O(o,c){for(var y=0;y<o.length;y++){var E=o[y],v=s[E.id];if(v){v.refs++;for(var w=0;w<v.parts.length;w++)v.parts[w](E.parts[w]);for(;w<E.parts.length;w++)v.parts.push(d(E.parts[w],c))}else{var U=[];for(w=0;w<E.parts.length;w++)U.push(d(E.parts[w],c));s[E.id]={id:E.id,refs:1,parts:U}}}}function S(o,c){for(var y=[],E={},v=0;v<o.length;v++){var w=o[v],U=c.base?w[0]+c.base:w[0],M={css:w[1],media:w[2],sourceMap:w[3]};E[U]?E[U].parts.push(M):y.push(E[U]={id:U,parts:[M]})}return y}function F(o,c){var y=f(o.insertInto);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=h[h.length-1];if(o.insertAt==="top")E?E.nextSibling?y.insertBefore(c,E.nextSibling):y.appendChild(c):y.insertBefore(c,y.firstChild),h.push(c);else if(o.insertAt==="bottom")y.appendChild(c);else{if(typeof o.insertAt!="object"||!o.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var v=f(o.insertInto+" "+o.insertAt.before);y.insertBefore(c,v)}}function n(o){if(o.parentNode===null)return!1;o.parentNode.removeChild(o);var c=h.indexOf(o);c>=0&&h.splice(c,1)}function r(o){var c=document.createElement("style");return o.attrs.type===void 0&&(o.attrs.type="text/css"),u(c,o.attrs),F(o,c),c}function u(o,c){Object.keys(c).forEach(function(y){o.setAttribute(y,c[y])})}function d(o,c){var y,E,v,w;if(c.transform&&o.css){if(!(w=c.transform(o.css)))return function(){};o.css=w}if(c.singleton){var U=p++;y=g||(g=r(c)),E=m.bind(null,y,U,!1),v=m.bind(null,y,U,!0)}else o.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(y=function(M){var I=document.createElement("link");return M.attrs.type===void 0&&(M.attrs.type="text/css"),M.attrs.rel="stylesheet",u(I,M.attrs),F(M,I),I}(c),E=j.bind(null,y,c),v=function(){n(y),y.href&&URL.revokeObjectURL(y.href)}):(y=r(c),E=b.bind(null,y),v=function(){n(y)});return E(o),function(M){if(M){if(M.css===o.css&&M.media===o.media&&M.sourceMap===o.sourceMap)return;E(o=M)}else v()}}x.exports=function(o,c){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(c=c||{}).attrs=typeof c.attrs=="object"?c.attrs:{},c.singleton||typeof c.singleton=="boolean"||(c.singleton=a()),c.insertInto||(c.insertInto="head"),c.insertAt||(c.insertAt="bottom");var y=S(o,c);return O(y,c),function(E){for(var v=[],w=0;w<y.length;w++){var U=y[w];(M=s[U.id]).refs--,v.push(M)}for(E&&O(S(E,c),c),w=0;w<v.length;w++){var M;if((M=v[w]).refs===0){for(var I=0;I<M.parts.length;I++)M.parts[I]();delete s[M.id]}}}};var _,k=(_=[],function(o,c){return _[o]=c,_.filter(Boolean).join(`
`)});function m(o,c,y,E){var v=y?"":E.css;if(o.styleSheet)o.styleSheet.cssText=k(c,v);else{var w=document.createTextNode(v),U=o.childNodes;U[c]&&o.removeChild(U[c]),U.length?o.insertBefore(w,U[c]):o.appendChild(w)}}function b(o,c){var y=c.css,E=c.media;if(E&&o.setAttribute("media",E),o.styleSheet)o.styleSheet.cssText=y;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(y))}}function j(o,c,y){var E=y.css,v=y.sourceMap,w=c.convertToAbsoluteUrls===void 0&&v;(c.convertToAbsoluteUrls||w)&&(E=L(E)),v&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */");var U=new Blob([E],{type:"text/css"}),M=o.href;o.href=URL.createObjectURL(U),M&&URL.revokeObjectURL(M)}},function(x,T){x.exports=function(l){var t=typeof window<"u"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var e=t.protocol+"//"+t.host,s=e+t.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,i){var f,g=i.trim().replace(/^"(.*)"$/,function(p,h){return h}).replace(/^'(.*)'$/,function(p,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?a:(f=g.indexOf("//")===0?g:g.indexOf("/")===0?e+g:s+g.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(x,T,l){l.r(T),l.d(T,"default",function(){return s}),l(0);function t(a,i){for(var f=0;f<i.length;f++){var g=i[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}function e(a,i,f){return i&&t(a.prototype,i),f&&t(a,f),a}/**
 * Raw HTML Tool for CodeX Editor
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var s=function(){function a(i){var f=i.data,g=i.config,p=i.api,h=i.readOnly;(function(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=p,this.readOnly=h,this.placeholder=g.placeholder||a.DEFAULT_PLACEHOLDER,this.CSS={baseClass:this.api.styles.block,input:this.api.styles.input,wrapper:"ce-rawtool",textarea:"ce-rawtool__textarea"},this.data={html:f.html||""},this.textarea=null,this.resizeDebounce=null}return e(a,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"displayInToolbox",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>',title:"Raw HTML"}}}]),e(a,[{key:"render",value:function(){var i=this,f=document.createElement("div");return this.textarea=document.createElement("textarea"),f.classList.add(this.CSS.baseClass,this.CSS.wrapper),this.textarea.classList.add(this.CSS.textarea,this.CSS.input),this.textarea.textContent=this.data.html,this.textarea.placeholder=this.placeholder,this.readOnly?this.textarea.disabled=!0:this.textarea.addEventListener("input",function(){i.onInput()}),f.appendChild(this.textarea),setTimeout(function(){i.resize()},100),f}},{key:"save",value:function(i){return{html:i.querySelector("textarea").value}}},{key:"onInput",value:function(){var i=this;this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=setTimeout(function(){i.resize()},200)}},{key:"resize",value:function(){this.textarea.style.height="auto",this.textarea.style.height=this.textarea.scrollHeight+"px"}}],[{key:"DEFAULT_PLACEHOLDER",get:function(){return"Enter HTML code"}},{key:"sanitize",get:function(){return{html:!0}}}]),a}()}]).default})})(jt);const Ct=Z(et);var nt={},Tt={get exports(){return nt},set exports(C){nt=C}};(function(C,R){(function(x,T){C.exports=T()})(window,function(){return function(x){var T={};function l(t){if(T[t])return T[t].exports;var e=T[t]={i:t,l:!1,exports:{}};return x[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}return l.m=x,l.c=T,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e||4&e&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&typeof t!="string")for(var a in t)l.d(s,a,function(i){return t[i]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l(l.s=5)}([function(x,T,l){var t=l(1);typeof t=="string"&&(t=[[x.i,t,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};l(3)(t,e),t.locals&&(x.exports=t.locals)},function(x,T,l){(x.exports=l(2)(!1)).push([x.i,`.ce-delimiter {
    line-height: 1.6em;
    width: 100%;
    text-align: center;
}

.ce-delimiter:before {
    display: inline-block;
    content: "***";
    font-size: 30px;
    line-height: 65px;
    height: 30px;
    letter-spacing: 0.2em;
}`,""])},function(x,T){x.exports=function(l){var t=[];return t.toString=function(){return this.map(function(e){var s=function(a,i){var f=a[1]||"",g=a[3];if(!g)return f;if(i&&typeof btoa=="function"){var p=(L=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */"),h=g.sources.map(function(O){return"/*# sourceURL="+g.sourceRoot+O+" */"});return[f].concat(h).concat([p]).join(`
`)}var L;return[f].join(`
`)}(e,l);return e[2]?"@media "+e[2]+"{"+s+"}":s}).join("")},t.i=function(e,s){typeof e=="string"&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var f=this[i][0];typeof f=="number"&&(a[f]=!0)}for(i=0;i<e.length;i++){var g=e[i];typeof g[0]=="number"&&a[g[0]]||(s&&!g[2]?g[2]=s:s&&(g[2]="("+g[2]+") and ("+s+")"),t.push(g))}},t}},function(x,T,l){var t,e,s={},a=(t=function(){return window&&document&&document.all&&!window.atob},function(){return e===void 0&&(e=t.apply(this,arguments)),e}),i=function(m){var b={};return function(j){if(typeof j=="function")return j();if(b[j]===void 0){var o=function(c){return document.querySelector(c)}.call(this,j);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch{o=null}b[j]=o}return b[j]}}(),f=null,g=0,p=[],h=l(4);function L(m,b){for(var j=0;j<m.length;j++){var o=m[j],c=s[o.id];if(c){c.refs++;for(var y=0;y<c.parts.length;y++)c.parts[y](o.parts[y]);for(;y<o.parts.length;y++)c.parts.push(u(o.parts[y],b))}else{var E=[];for(y=0;y<o.parts.length;y++)E.push(u(o.parts[y],b));s[o.id]={id:o.id,refs:1,parts:E}}}}function O(m,b){for(var j=[],o={},c=0;c<m.length;c++){var y=m[c],E=b.base?y[0]+b.base:y[0],v={css:y[1],media:y[2],sourceMap:y[3]};o[E]?o[E].parts.push(v):j.push(o[E]={id:E,parts:[v]})}return j}function S(m,b){var j=i(m.insertInto);if(!j)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=p[p.length-1];if(m.insertAt==="top")o?o.nextSibling?j.insertBefore(b,o.nextSibling):j.appendChild(b):j.insertBefore(b,j.firstChild),p.push(b);else if(m.insertAt==="bottom")j.appendChild(b);else{if(typeof m.insertAt!="object"||!m.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var c=i(m.insertInto+" "+m.insertAt.before);j.insertBefore(b,c)}}function F(m){if(m.parentNode===null)return!1;m.parentNode.removeChild(m);var b=p.indexOf(m);b>=0&&p.splice(b,1)}function n(m){var b=document.createElement("style");return m.attrs.type===void 0&&(m.attrs.type="text/css"),r(b,m.attrs),S(m,b),b}function r(m,b){Object.keys(b).forEach(function(j){m.setAttribute(j,b[j])})}function u(m,b){var j,o,c,y;if(b.transform&&m.css){if(!(y=b.transform(m.css)))return function(){};m.css=y}if(b.singleton){var E=g++;j=f||(f=n(b)),o=k.bind(null,j,E,!1),c=k.bind(null,j,E,!0)}else m.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(j=function(v){var w=document.createElement("link");return v.attrs.type===void 0&&(v.attrs.type="text/css"),v.attrs.rel="stylesheet",r(w,v.attrs),S(v,w),w}(b),o=function(v,w,U){var M=U.css,I=U.sourceMap,N=w.convertToAbsoluteUrls===void 0&&I;(w.convertToAbsoluteUrls||N)&&(M=h(M)),I&&(M+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(I))))+" */");var $=new Blob([M],{type:"text/css"}),B=v.href;v.href=URL.createObjectURL($),B&&URL.revokeObjectURL(B)}.bind(null,j,b),c=function(){F(j),j.href&&URL.revokeObjectURL(j.href)}):(j=n(b),o=function(v,w){var U=w.css,M=w.media;if(M&&v.setAttribute("media",M),v.styleSheet)v.styleSheet.cssText=U;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(U))}}.bind(null,j),c=function(){F(j)});return o(m),function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap)return;o(m=v)}else c()}}x.exports=function(m,b){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(b=b||{}).attrs=typeof b.attrs=="object"?b.attrs:{},b.singleton||typeof b.singleton=="boolean"||(b.singleton=a()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var j=O(m,b);return L(j,b),function(o){for(var c=[],y=0;y<j.length;y++){var E=j[y];(v=s[E.id]).refs--,c.push(v)}for(o&&L(O(o,b),b),y=0;y<c.length;y++){var v;if((v=c[y]).refs===0){for(var w=0;w<v.parts.length;w++)v.parts[w]();delete s[v.id]}}}};var d,_=(d=[],function(m,b){return d[m]=b,d.filter(Boolean).join(`
`)});function k(m,b,j,o){var c=j?"":o.css;if(m.styleSheet)m.styleSheet.cssText=_(b,c);else{var y=document.createTextNode(c),E=m.childNodes;E[b]&&m.removeChild(E[b]),E.length?m.insertBefore(y,E[b]):m.appendChild(y)}}},function(x,T){x.exports=function(l){var t=typeof window<"u"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var e=t.protocol+"//"+t.host,s=e+t.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,i){var f,g=i.trim().replace(/^"(.*)"$/,function(p,h){return h}).replace(/^'(.*)'$/,function(p,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?a:(f=g.indexOf("//")===0?g:g.indexOf("/")===0?e+g:s+g.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(x,T,l){l.r(T),l(0);function t(a,i){for(var f=0;f<i.length;f++){var g=i[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}}function e(a,i,f){return i&&t(a.prototype,i),f&&t(a,f),a}/**
 * Delimiter Block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 * @version 2.0.0
 */l.d(T,"default",function(){return s});var s=function(){function a(i){var f=i.data,g=(i.config,i.api);(function(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=g,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._data={},this._element=this.drawView(),this.data=f}return e(a,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"contentless",get:function(){return!0}}]),e(a,[{key:"drawView",value:function(){var i=document.createElement("DIV");return i.classList.add(this._CSS.wrapper,this._CSS.block),i}},{key:"render",value:function(){return this._element}},{key:"save",value:function(i){return{}}}],[{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',title:"Delimiter"}}}]),a}()}]).default})})(Tt);const Lt=Z(nt);var rt={},Ot={get exports(){return rt},set exports(C){rt=C}};(function(C,R){(function(x,T){C.exports=T()})(window,function(){return function(x){var T={};function l(t){if(T[t])return T[t].exports;var e=T[t]={i:t,l:!1,exports:{}};return x[t].call(e.exports,e,e.exports,l),e.l=!0,e.exports}return l.m=x,l.c=T,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e||4&e&&typeof t=="object"&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&typeof t!="string")for(var a in t)l.d(s,a,function(i){return t[i]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l(l.s=6)}([function(x,T,l){x.exports=function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(a,i,f){s.o(a,i)||Object.defineProperty(a,i,{enumerable:!0,get:f})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,i){if(1&i&&(a=s(a)),8&i||4&i&&typeof a=="object"&&a&&a.__esModule)return a;var f=Object.create(null);if(s.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:a}),2&i&&typeof a!="string")for(var g in a)s.d(f,g,function(p){return a[p]}.bind(null,g));return f},s.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(i,"a",i),i},s.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},s.p="",s(s.s=3)}([function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}t.exports=s},function(t,e,s){(function(a){var i=s(2),f=setTimeout;function g(){}function p(r){if(!(this instanceof p))throw new TypeError("Promises must be constructed via new");if(typeof r!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],n(r,this)}function h(r,u){for(;r._state===3;)r=r._value;r._state!==0?(r._handled=!0,p._immediateFn(function(){var d=r._state===1?u.onFulfilled:u.onRejected;if(d!==null){var _;try{_=d(r._value)}catch(k){return void O(u.promise,k)}L(u.promise,_)}else(r._state===1?L:O)(u.promise,r._value)})):r._deferreds.push(u)}function L(r,u){try{if(u===r)throw new TypeError("A promise cannot be resolved with itself.");if(u&&(typeof u=="object"||typeof u=="function")){var d=u.then;if(u instanceof p)return r._state=3,r._value=u,void S(r);if(typeof d=="function")return void n((_=d,k=u,function(){_.apply(k,arguments)}),r)}r._state=1,r._value=u,S(r)}catch(m){O(r,m)}var _,k}function O(r,u){r._state=2,r._value=u,S(r)}function S(r){r._state===2&&r._deferreds.length===0&&p._immediateFn(function(){r._handled||p._unhandledRejectionFn(r._value)});for(var u=0,d=r._deferreds.length;u<d;u++)h(r,r._deferreds[u]);r._deferreds=null}function F(r,u,d){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof u=="function"?u:null,this.promise=d}function n(r,u){var d=!1;try{r(function(_){d||(d=!0,L(u,_))},function(_){d||(d=!0,O(u,_))})}catch(_){if(d)return;d=!0,O(u,_)}}p.prototype.catch=function(r){return this.then(null,r)},p.prototype.then=function(r,u){var d=new this.constructor(g);return h(this,new F(r,u,d)),d},p.prototype.finally=i.a,p.all=function(r){return new p(function(u,d){if(!r||r.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(r);if(_.length===0)return u([]);var k=_.length;function m(j,o){try{if(o&&(typeof o=="object"||typeof o=="function")){var c=o.then;if(typeof c=="function")return void c.call(o,function(y){m(j,y)},d)}_[j]=o,--k==0&&u(_)}catch(y){d(y)}}for(var b=0;b<_.length;b++)m(b,_[b])})},p.resolve=function(r){return r&&typeof r=="object"&&r.constructor===p?r:new p(function(u){u(r)})},p.reject=function(r){return new p(function(u,d){d(r)})},p.race=function(r){return new p(function(u,d){for(var _=0,k=r.length;_<k;_++)r[_].then(u,d)})},p._immediateFn=typeof a=="function"&&function(r){a(r)}||function(r){f(r,0)},p._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)},e.a=p}).call(this,s(5).setImmediate)},function(t,e,s){e.a=function(a){var i=this.constructor;return this.then(function(f){return i.resolve(a()).then(function(){return f})},function(f){return i.resolve(a()).then(function(){return i.reject(f)})})}},function(t,e,s){function a(n){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}s(4);var i,f,g,p,h,L,O,S=s(8),F=(f=function(n){return new Promise(function(r,u){n=p(n),(n=h(n)).beforeSend&&n.beforeSend();var d=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");d.open(n.method,n.url),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n.headers).forEach(function(k){var m=n.headers[k];d.setRequestHeader(k,m)});var _=n.ratio;d.upload.addEventListener("progress",function(k){var m=Math.round(k.loaded/k.total*100),b=Math.ceil(m*_/100);n.progress(Math.min(b,100))},!1),d.addEventListener("progress",function(k){var m=Math.round(k.loaded/k.total*100),b=Math.ceil(m*(100-_)/100)+_;n.progress(Math.min(b,100))},!1),d.onreadystatechange=function(){if(d.readyState===4){var k=d.response;try{k=JSON.parse(k)}catch{}var m=S.parseHeaders(d.getAllResponseHeaders()),b={body:k,code:d.status,headers:m};O(d.status)?r(b):u(b)}},d.send(n.data)})},g=function(n){return n.method="POST",f(n)},p=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.url&&typeof n.url!="string")throw new Error("Url must be a string");if(n.url=n.url||"",n.method&&typeof n.method!="string")throw new Error("`method` must be a string or null");if(n.method=n.method?n.method.toUpperCase():"GET",n.headers&&a(n.headers)!=="object")throw new Error("`headers` must be an object or null");if(n.headers=n.headers||{},n.type&&(typeof n.type!="string"||!Object.values(i).includes(n.type)))throw new Error("`type` must be taken from module's «contentType» library");if(n.progress&&typeof n.progress!="function")throw new Error("`progress` must be a function or null");if(n.progress=n.progress||function(r){},n.beforeSend=n.beforeSend||function(r){},n.ratio&&typeof n.ratio!="number")throw new Error("`ratio` must be a number");if(n.ratio<0||n.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(n.ratio=n.ratio||90,n.accept&&typeof n.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(n.accept=n.accept||"*/*",n.multiple&&typeof n.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(n.multiple=n.multiple||!1,n.fieldName&&typeof n.fieldName!="string")throw new Error("`fieldName` must be a string");return n.fieldName=n.fieldName||"files",n},h=function(n){switch(n.method){case"GET":var r=L(n.data,i.URLENCODED);delete n.data,n.url=/\?/.test(n.url)?n.url+"&"+r:n.url+"?"+r;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var u=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||i.JSON}(n);(S.isFormData(n.data)||S.isFormElement(n.data))&&(u=i.FORM),n.data=L(n.data,u),u!==F.contentType.FORM&&(n.headers["content-type"]=u)}return n},L=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return S.urlEncode(n);case i.JSON:return S.jsonEncode(n);case i.FORM:return S.formEncode(n);default:return n}},O=function(n){return n>=200&&n<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:f,get:function(n){return n.method="GET",f(n)},post:g,transport:function(n){return n=p(n),S.selectFiles(n).then(function(r){for(var u=new FormData,d=0;d<r.length;d++)u.append(n.fieldName,r[d],r[d].name);S.isObject(n.data)&&Object.keys(n.data).forEach(function(k){var m=n.data[k];u.append(k,m)});var _=n.beforeSend;return n.beforeSend=function(){return _(r)},n.data=u,g(n)})},selectFiles:function(n){return delete(n=p(n)).beforeSend,S.selectFiles(n)}});t.exports=F},function(t,e,s){s.r(e);var a=s(1);window.Promise=window.Promise||a.a},function(t,e,s){(function(a){var i=a!==void 0&&a||typeof self<"u"&&self||window,f=Function.prototype.apply;function g(p,h){this._id=p,this._clearFn=h}e.setTimeout=function(){return new g(f.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new g(f.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(p){p&&p.close()},g.prototype.unref=g.prototype.ref=function(){},g.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(p,h){clearTimeout(p._idleTimeoutId),p._idleTimeout=h},e.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},e._unrefActive=e.active=function(p){clearTimeout(p._idleTimeoutId);var h=p._idleTimeout;h>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},h))},s(6),e.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,e.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,s(0))},function(t,e,s){(function(a,i){(function(f,g){if(!f.setImmediate){var p,h,L,O,S,F=1,n={},r=!1,u=f.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(f);d=d&&d.setTimeout?d:f,{}.toString.call(f.process)==="[object process]"?p=function(m){i.nextTick(function(){k(m)})}:function(){if(f.postMessage&&!f.importScripts){var m=!0,b=f.onmessage;return f.onmessage=function(){m=!1},f.postMessage("","*"),f.onmessage=b,m}}()?(O="setImmediate$"+Math.random()+"$",S=function(m){m.source===f&&typeof m.data=="string"&&m.data.indexOf(O)===0&&k(+m.data.slice(O.length))},f.addEventListener?f.addEventListener("message",S,!1):f.attachEvent("onmessage",S),p=function(m){f.postMessage(O+m,"*")}):f.MessageChannel?((L=new MessageChannel).port1.onmessage=function(m){k(m.data)},p=function(m){L.port2.postMessage(m)}):u&&"onreadystatechange"in u.createElement("script")?(h=u.documentElement,p=function(m){var b=u.createElement("script");b.onreadystatechange=function(){k(m),b.onreadystatechange=null,h.removeChild(b),b=null},h.appendChild(b)}):p=function(m){setTimeout(k,0,m)},d.setImmediate=function(m){typeof m!="function"&&(m=new Function(""+m));for(var b=new Array(arguments.length-1),j=0;j<b.length;j++)b[j]=arguments[j+1];var o={callback:m,args:b};return n[F]=o,p(F),F++},d.clearImmediate=_}function _(m){delete n[m]}function k(m){if(r)setTimeout(k,0,m);else{var b=n[m];if(b){r=!0;try{(function(j){var o=j.callback,c=j.args;switch(c.length){case 0:o();break;case 1:o(c[0]);break;case 2:o(c[0],c[1]);break;case 3:o(c[0],c[1],c[2]);break;default:o.apply(void 0,c)}})(b)}finally{_(m),r=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,s(0),s(7))},function(t,e){var s,a,i=t.exports={};function f(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function p(d){if(s===setTimeout)return setTimeout(d,0);if((s===f||!s)&&setTimeout)return s=setTimeout,setTimeout(d,0);try{return s(d,0)}catch{try{return s.call(null,d,0)}catch{return s.call(this,d,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:f}catch{s=f}try{a=typeof clearTimeout=="function"?clearTimeout:g}catch{a=g}})();var h,L=[],O=!1,S=-1;function F(){O&&h&&(O=!1,h.length?L=h.concat(L):S=-1,L.length&&n())}function n(){if(!O){var d=p(F);O=!0;for(var _=L.length;_;){for(h=L,L=[];++S<_;)h&&h[S].run();S=-1,_=L.length}h=null,O=!1,function(k){if(a===clearTimeout)return clearTimeout(k);if((a===g||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(k);try{a(k)}catch{try{return a.call(null,k)}catch{return a.call(this,k)}}}(d)}}function r(d,_){this.fun=d,this.array=_}function u(){}i.nextTick=function(d){var _=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)_[k-1]=arguments[k];L.push(new r(d,_)),L.length!==1||O||p(n)},r.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=u,i.addListener=u,i.once=u,i.off=u,i.removeListener=u,i.removeAllListeners=u,i.emit=u,i.prependListener=u,i.prependOnceListener=u,i.listeners=function(d){return[]},i.binding=function(d){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(d){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,s){function a(f,g){for(var p=0;p<g.length;p++){var h=g[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}var i=s(9);t.exports=function(){function f(){(function(h,L){if(!(h instanceof L))throw new TypeError("Cannot call a class as a function")})(this,f)}var g,p;return g=f,(p=[{key:"urlEncode",value:function(h){return i(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var L=new FormData;return Object.keys(h).forEach(function(O){var S=h[O];L.append(O,S)}),L}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(L,O){var S=document.createElement("INPUT");S.type="file",h.multiple&&S.setAttribute("multiple","multiple"),h.accept&&S.setAttribute("accept",h.accept),S.style.display="none",document.body.appendChild(S),S.addEventListener("change",function(F){var n=F.target.files;L(n),document.body.removeChild(S)},!1),S.click()})}},{key:"parseHeaders",value:function(h){var L=h.trim().split(/[\r\n]+/),O={};return L.forEach(function(S){var F=S.split(": "),n=F.shift(),r=F.join(": ");n&&(O[n]=r)}),O}}])&&a(g,p),f}()},function(t,e){var s=function(i){return encodeURIComponent(i).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(i,f,g,p){return f=f||null,g=g||"&",p=p||null,i?function(h){for(var L=new Array,O=0;O<h.length;O++)h[O]&&L.push(h[O]);return L}(Object.keys(i).map(function(h){var L,O,S=h;if(p&&(S=p+"["+S+"]"),typeof i[h]=="object"&&i[h]!==null)L=a(i[h],null,g,S);else{f&&(O=S,S=!isNaN(parseFloat(O))&&isFinite(O)?f+Number(S):S);var F=i[h];F=(F=(F=(F=F===!0?"1":F)===!1?"0":F)===0?"0":F)||"",L=s(S)+"="+s(F)}return L})).join(g).replace(/[!'()*]/g,""):""};t.exports=a}])},function(x,T,l){var t=l(2);typeof t=="string"&&(t=[[x.i,t,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};l(4)(t,e),t.locals&&(x.exports=t.locals)},function(x,T,l){(x.exports=l(3)(!1)).push([x.i,`.cdx-attaches {
  --color-line: #EFF0F1;
  --color-bg: #fff;
  --color-bg-secondary: #F8F8F8;
  --color-bg-secondary--hover: #f2f2f2;
  --color-text-secondary: #707684;
}

  .cdx-attaches--with-file {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border: 1px solid var(--color-line);
    border-radius: 7px;
    background: var(--color-bg);
  }

  .cdx-attaches--with-file .cdx-attaches__file-info {
      display: grid;
      grid-gap: 4px;
      max-width: calc(100% - 80px);
      margin: auto 0;
      flex-grow: 2;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button {
      display: flex;
      align-items: center;
      background: var(--color-bg-secondary);
      padding: 6px;
      border-radius: 6px;
      margin: auto 0 auto auto;
    }

  .cdx-attaches--with-file .cdx-attaches__download-button:hover {
        background: var(--color-bg-secondary--hover);
      }

  .cdx-attaches--with-file .cdx-attaches__download-button svg {
        width: 20px;
        height: 20px;
        fill: none;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon {
      position: relative;
    }

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
        background-color: #333;

        width: 27px;
        height: 30px;
        margin-right: 12px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

  @supports(-webkit-mask-box-image: url('')){

  .cdx-attaches--with-file .cdx-attaches__file-icon-background {
          border-radius: 0;
          -webkit-mask-box-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 10.3872C0 1.83334 1.83334 0 10.3872 0H13.6128C22.1667 0 24 1.83334 24 10.3872V13.6128C24 22.1667 22.1667 24 13.6128 24H10.3872C1.83334 24 0 22.1667 0 13.6128V10.3872Z' fill='black'/%3E%3C/svg%3E%0A") 48% 41% 37.9% 53.3%
      };
        }

  .cdx-attaches--with-file .cdx-attaches__file-icon-label {
        position: absolute;
        left: 3px;
        top: 11px;
        background: inherit;
        text-transform: uppercase;
        line-height: 1em;
        color: #fff;
        padding: 1px 2px;
        border-radius: 3px;
        font-size: 10px;
        font-weight: bold;
        /* box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.22); */
        font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;
        letter-spacing: 0.02em;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon svg {
        width: 20px;
        height: 20px;
      }

  .cdx-attaches--with-file .cdx-attaches__file-icon path {
        stroke: #fff;
      }

  .cdx-attaches--with-file .cdx-attaches__size {
      color: var(--color-text-secondary);
      font-size: 12px;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__size::after {
        content: attr(data-size);
        margin-left: 0.2em;
      }

  .cdx-attaches--with-file .cdx-attaches__title {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      outline: none;
      max-width: 90%;
      font-size: 14px;
      font-weight: 500;
      line-height: 1em;
    }

  .cdx-attaches--with-file .cdx-attaches__title:empty::before {
      content: attr(data-placeholder);
      color: #7b7e89;
    }

  .cdx-attaches--loading .cdx-attaches__title,
    .cdx-attaches--loading .cdx-attaches__file-icon,
    .cdx-attaches--loading .cdx-attaches__size,
    .cdx-attaches--loading .cdx-attaches__download-button,
    .cdx-attaches--loading .cdx-attaches__button {
      opacity: 0;
      font-size: 0;
    }

  .cdx-attaches__button {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #000;
    border-radius: 7px;
    font-weight: 500;
  }

  .cdx-attaches__button svg {
      margin-top: 0;
    }
`,""])},function(x,T){x.exports=function(l){var t=[];return t.toString=function(){return this.map(function(e){var s=function(a,i){var f=a[1]||"",g=a[3];if(!g)return f;if(i&&typeof btoa=="function"){var p=(L=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(L))))+" */"),h=g.sources.map(function(O){return"/*# sourceURL="+g.sourceRoot+O+" */"});return[f].concat(h).concat([p]).join(`
`)}var L;return[f].join(`
`)}(e,l);return e[2]?"@media "+e[2]+"{"+s+"}":s}).join("")},t.i=function(e,s){typeof e=="string"&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var f=this[i][0];typeof f=="number"&&(a[f]=!0)}for(i=0;i<e.length;i++){var g=e[i];typeof g[0]=="number"&&a[g[0]]||(s&&!g[2]?g[2]=s:s&&(g[2]="("+g[2]+") and ("+s+")"),t.push(g))}},t}},function(x,T,l){var t,e,s={},a=(t=function(){return window&&document&&document.all&&!window.atob},function(){return e===void 0&&(e=t.apply(this,arguments)),e}),i=function(o){return document.querySelector(o)},f=function(o){var c={};return function(y){if(typeof y=="function")return y();if(c[y]===void 0){var E=i.call(this,y);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}c[y]=E}return c[y]}}(),g=null,p=0,h=[],L=l(5);function O(o,c){for(var y=0;y<o.length;y++){var E=o[y],v=s[E.id];if(v){v.refs++;for(var w=0;w<v.parts.length;w++)v.parts[w](E.parts[w]);for(;w<E.parts.length;w++)v.parts.push(d(E.parts[w],c))}else{var U=[];for(w=0;w<E.parts.length;w++)U.push(d(E.parts[w],c));s[E.id]={id:E.id,refs:1,parts:U}}}}function S(o,c){for(var y=[],E={},v=0;v<o.length;v++){var w=o[v],U=c.base?w[0]+c.base:w[0],M={css:w[1],media:w[2],sourceMap:w[3]};E[U]?E[U].parts.push(M):y.push(E[U]={id:U,parts:[M]})}return y}function F(o,c){var y=f(o.insertInto);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=h[h.length-1];if(o.insertAt==="top")E?E.nextSibling?y.insertBefore(c,E.nextSibling):y.appendChild(c):y.insertBefore(c,y.firstChild),h.push(c);else if(o.insertAt==="bottom")y.appendChild(c);else{if(typeof o.insertAt!="object"||!o.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var v=f(o.insertInto+" "+o.insertAt.before);y.insertBefore(c,v)}}function n(o){if(o.parentNode===null)return!1;o.parentNode.removeChild(o);var c=h.indexOf(o);c>=0&&h.splice(c,1)}function r(o){var c=document.createElement("style");return o.attrs.type===void 0&&(o.attrs.type="text/css"),u(c,o.attrs),F(o,c),c}function u(o,c){Object.keys(c).forEach(function(y){o.setAttribute(y,c[y])})}function d(o,c){var y,E,v,w;if(c.transform&&o.css){if(!(w=c.transform(o.css)))return function(){};o.css=w}if(c.singleton){var U=p++;y=g||(g=r(c)),E=m.bind(null,y,U,!1),v=m.bind(null,y,U,!0)}else o.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(y=function(M){var I=document.createElement("link");return M.attrs.type===void 0&&(M.attrs.type="text/css"),M.attrs.rel="stylesheet",u(I,M.attrs),F(M,I),I}(c),E=j.bind(null,y,c),v=function(){n(y),y.href&&URL.revokeObjectURL(y.href)}):(y=r(c),E=b.bind(null,y),v=function(){n(y)});return E(o),function(M){if(M){if(M.css===o.css&&M.media===o.media&&M.sourceMap===o.sourceMap)return;E(o=M)}else v()}}x.exports=function(o,c){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(c=c||{}).attrs=typeof c.attrs=="object"?c.attrs:{},c.singleton||typeof c.singleton=="boolean"||(c.singleton=a()),c.insertInto||(c.insertInto="head"),c.insertAt||(c.insertAt="bottom");var y=S(o,c);return O(y,c),function(E){for(var v=[],w=0;w<y.length;w++){var U=y[w];(M=s[U.id]).refs--,v.push(M)}for(E&&O(S(E,c),c),w=0;w<v.length;w++){var M;if((M=v[w]).refs===0){for(var I=0;I<M.parts.length;I++)M.parts[I]();delete s[M.id]}}}};var _,k=(_=[],function(o,c){return _[o]=c,_.filter(Boolean).join(`
`)});function m(o,c,y,E){var v=y?"":E.css;if(o.styleSheet)o.styleSheet.cssText=k(c,v);else{var w=document.createTextNode(v),U=o.childNodes;U[c]&&o.removeChild(U[c]),U.length?o.insertBefore(w,U[c]):o.appendChild(w)}}function b(o,c){var y=c.css,E=c.media;if(E&&o.setAttribute("media",E),o.styleSheet)o.styleSheet.cssText=y;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(y))}}function j(o,c,y){var E=y.css,v=y.sourceMap,w=c.convertToAbsoluteUrls===void 0&&v;(c.convertToAbsoluteUrls||w)&&(E=L(E)),v&&(E+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */");var U=new Blob([E],{type:"text/css"}),M=o.href;o.href=URL.createObjectURL(U),M&&URL.revokeObjectURL(M)}},function(x,T){x.exports=function(l){var t=typeof window<"u"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var e=t.protocol+"//"+t.host,s=e+t.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,i){var f,g=i.trim().replace(/^"(.*)"$/,function(p,h){return h}).replace(/^'(.*)'$/,function(p,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?a:(f=g.indexOf("//")===0?g:g.indexOf("/")===0?e+g:s+g.replace(/^\.\//,""),"url("+JSON.stringify(f)+")")})}},function(x,T,l){l.r(T),l.d(T,"default",function(){return O}),l(1);var t=l(0),e=l.n(t);function s(S,F){for(var n=0;n<F.length;n++){var r=F[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(S,r.key,r)}}var a=function(){function S(r){var u=r.config,d=r.onUpload,_=r.onError;(function(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")})(this,S),this.config=u,this.onUpload=d,this.onError=_}var F,n;return F=S,(n=[{key:"uploadSelectedFile",value:function(r){var u=this,d=r.onPreview;(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?e.a.selectFiles({accept:this.config.types}).then(function(_){d();var k,m=u.config.uploader.uploadByFile(_[0]);return(k=m)&&typeof k.then=="function"||console.warn("Custom uploader method uploadByFile should return a Promise"),m}):e.a.transport({url:this.config.endpoint,accept:this.config.types,beforeSend:function(){return d()},fieldName:this.config.field,headers:this.config.additionalRequestHeaders||{}}).then(function(_){return _.body})).then(function(_){u.onUpload(_)}).catch(function(_){var k=_.body,m=k&&k.message?k.message:u.config.errorMessage;u.onError(m)})}}])&&s(F.prototype,n),S}();function i(S){return function(F){if(Array.isArray(F))return f(F)}(S)||function(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}(S)||function(F,n){if(F){if(typeof F=="string")return f(F,n);var r=Object.prototype.toString.call(F).slice(8,-1);if(r==="Object"&&F.constructor&&(r=F.constructor.name),r==="Map"||r==="Set")return Array.from(F);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(F,n)}}(S)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(S,F){(F==null||F>S.length)&&(F=S.length);for(var n=0,r=new Array(F);n<F;n++)r[n]=S[n];return r}function g(S){var F,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=document.createElement(S);Array.isArray(n)?(F=u.classList).add.apply(F,i(n)):n&&u.classList.add(n);for(var d in r)u[d]=r[d];return u}function p(S){return Object.keys(S).length===0}const h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.3236 8.43554L9.49533 12.1908C9.13119 12.5505 8.93118 13.043 8.9393 13.5598C8.94741 14.0767 9.163 14.5757 9.53862 14.947C9.91424 15.3182 10.4191 15.5314 10.9422 15.5397C11.4653 15.5479 11.9637 15.3504 12.3279 14.9908L16.1562 11.2355C16.8845 10.5161 17.2845 9.53123 17.2682 8.4975C17.252 7.46376 16.8208 6.46583 16.0696 5.72324C15.3184 4.98066 14.3086 4.55425 13.2624 4.53782C12.2162 4.52138 11.2193 4.91627 10.4911 5.63562L6.66277 9.39093C5.57035 10.4699 4.97032 11.9473 4.99467 13.4979C5.01903 15.0485 5.66578 16.5454 6.79264 17.6592C7.9195 18.7731 9.43417 19.4127 11.0034 19.4374C12.5727 19.462 14.068 18.8697 15.1604 17.7907L18.9887 14.0354"/></svg>';function L(S,F){for(var n=0;n<F.length;n++){var r=F[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(S,r.key,r)}}var O=function(){function S(u){var d=this,_=u.data,k=u.config,m=u.api,b=u.readOnly;(function(j,o){if(!(j instanceof o))throw new TypeError("Cannot call a class as a function")})(this,S),this.api=m,this.readOnly=b,this.nodes={wrapper:null,button:null,title:null},this._data={file:{},title:""},this.config={endpoint:k.endpoint||"",field:k.field||"file",types:k.types||"*",buttonText:k.buttonText||"Select file to upload",errorMessage:k.errorMessage||"File upload failed",uploader:k.uploader||void 0,additionalRequestHeaders:k.additionalRequestHeaders||{}},_===void 0||p(_)||(this.data=_),this.uploader=new a({config:this.config,onUpload:function(j){return d.onUpload(j)},onError:function(j){return d.uploadingFailed(j)}}),this.enableFileUpload=this.enableFileUpload.bind(this)}var F,n,r;return F=S,r=[{key:"toolbox",get:function(){return{icon:h,title:"Attachment"}}},{key:"isReadOnlySupported",get:function(){return!0}}],(n=[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,apiButton:this.api.styles.button,loader:this.api.styles.loader,wrapper:"cdx-attaches",wrapperWithFile:"cdx-attaches--with-file",wrapperLoading:"cdx-attaches--loading",button:"cdx-attaches__button",title:"cdx-attaches__title",size:"cdx-attaches__size",downloadButton:"cdx-attaches__download-button",fileInfo:"cdx-attaches__file-info",fileIcon:"cdx-attaches__file-icon",fileIconBackground:"cdx-attaches__file-icon-background",fileIconLabel:"cdx-attaches__file-icon-label"}}},{key:"EXTENSIONS",get:function(){return{doc:"#1483E9",docx:"#1483E9",odt:"#1483E9",pdf:"#DB2F2F",rtf:"#744FDC",tex:"#5a5a5b",txt:"#5a5a5b",pptx:"#E35200",ppt:"#E35200",mp3:"#eab456",mp4:"#f676a6",xls:"#11AE3D",html:"#2988f0",htm:"#2988f0",png:"#AA2284",jpg:"#D13359",jpeg:"#D13359",gif:"#f6af76",zip:"#4f566f",rar:"#4f566f",exe:"#e26f6f",svg:"#bf5252",key:"#00B2FF",sketch:"#FFC700",ai:"#FB601D",psd:"#388ae5",dmg:"#e26f6f",json:"#2988f0",csv:"#11AE3D"}}},{key:"validate",value:function(u){return!p(u.file)}},{key:"save",value:function(u){if(this.pluginHasData()){var d=u.querySelector(".".concat(this.CSS.title));d&&Object.assign(this.data,{title:d.innerHTML})}return this.data}},{key:"render",value:function(){var u=g("div",this.CSS.baseClass);return this.nodes.wrapper=g("div",this.CSS.wrapper),this.pluginHasData()?this.showFileData():this.prepareUploadButton(),u.appendChild(this.nodes.wrapper),u}},{key:"prepareUploadButton",value:function(){this.nodes.button=g("div",[this.CSS.apiButton,this.CSS.button]),this.nodes.button.innerHTML="".concat(h," ").concat(this.config.buttonText),this.readOnly||this.nodes.button.addEventListener("click",this.enableFileUpload),this.nodes.wrapper.appendChild(this.nodes.button)}},{key:"appendCallback",value:function(){this.nodes.button.click()}},{key:"pluginHasData",value:function(){return this.data.title!==""||Object.values(this.data.file).some(function(u){return u!==void 0})}},{key:"enableFileUpload",value:function(){var u=this;this.uploader.uploadSelectedFile({onPreview:function(){u.nodes.wrapper.classList.add(u.CSS.wrapperLoading,u.CSS.loader)}})}},{key:"onUpload",value:function(u){var d,_,k,m=u;try{m.success&&m.file!==void 0&&!p(m.file)?(this.data={file:m.file,title:m.file.title||""},this.nodes.button.remove(),this.showFileData(),d=this.nodes.title,_=document.createRange(),k=window.getSelection(),_.selectNodeContents(d),_.collapse(!1),k.removeAllRanges(),k.addRange(_),this.removeLoader()):this.uploadingFailed(this.config.errorMessage)}catch(b){console.error("Attaches tool error:",b),this.uploadingFailed(this.config.errorMessage)}this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).dispatchChange()}},{key:"appendFileIcon",value:function(u){var d,_=u.extension||((d=u.name)===void 0?"":d.split(".").pop()),k=this.EXTENSIONS[_],m=g("div",this.CSS.fileIcon),b=g("div",this.CSS.fileIconBackground);if(k&&(b.style.backgroundColor=k),m.appendChild(b),_){var j=_;_.length>4&&(j=_.substring(0,4)+"…");var o=g("div",this.CSS.fileIconLabel,{textContent:j,title:_});k&&(o.style.backgroundColor=k),m.appendChild(o)}else b.innerHTML=h;this.nodes.wrapper.appendChild(m)}},{key:"removeLoader",value:function(){var u=this;setTimeout(function(){return u.nodes.wrapper.classList.remove(u.CSS.wrapperLoading,u.CSS.loader)},500)}},{key:"showFileData",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperWithFile);var u=this.data,d=u.file,_=u.title;this.appendFileIcon(d);var k=g("div",this.CSS.fileInfo);if(this.nodes.title=g("div",this.CSS.title,{contentEditable:this.readOnly===!1}),this.nodes.title.dataset.placeholder=this.api.i18n.t("File title"),this.nodes.title.textContent=_||"",k.appendChild(this.nodes.title),d.size){var m,b,j=g("div",this.CSS.size);Math.log10(+d.size)>=6?(m="MiB",b=d.size/Math.pow(2,20)):(m="KiB",b=d.size/Math.pow(2,10)),j.textContent=b.toFixed(1),j.setAttribute("data-size",m),k.appendChild(j)}if(this.nodes.wrapper.appendChild(k),d.url!==void 0){var o=g("a",this.CSS.downloadButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',href:d.url,target:"_blank",rel:"nofollow noindex noreferrer"});this.nodes.wrapper.appendChild(o)}}},{key:"uploadingFailed",value:function(u){this.api.notifier.show({message:u,style:"error"}),this.removeLoader()}},{key:"data",get:function(){return this._data},set:function(u){var d=u.file,_=u.title;this._data={file:d,title:_}}}])&&L(F.prototype,n),r&&L(F,r),S}()}]).default})})(Ot);const Mt=Z(rt);const Ft={name:"EditorJS",props:["config"],data(){return{editor:null,main:null,language:{code:"en",longCode:"en-US",name:"English"}}},created:function(){this.removeEditor(),this.language=this.$parent.$parent.language,this.eventBus.on("runEditor",()=>{var C;this.editor||this.runEditor((C=this.config)==null?void 0:C.setup)}),this.eventBus.on("removeEditor",()=>{this.removeEditor()})},computed:{user(){return this.$store.getters.getUserProfile},sidebarVisible(){return this.$parent.$parent.sidebar?"sidebar-visible":"sidebar-hidden"}},watch:{},mounted:function(){},methods:{toggleSidebar(){this.$parent.$parent.toggleSidebar()},removeEditor(){this.editor&&this.editor.destroy&&typeof this.editor.destroy=="function"&&this.editor.destroy()},runEditor(C){var t,e,s,a;console.debug("runEditor2 INCOMING");const R=this;let x={header:{class:lt,inlineToolbar:!0},paragraph:{class:ct,inlineToolbar:!0},nestedlist:{class:ut,inlineToolbar:!0},table:{class:dt,inlineToolbar:!0},image:{class:St,inlineToolbar:!0},embed:{class:ft,config:{services:{youtube:!0,vimeo:!0,facebook:!0}},inlineToolbar:!0},delimiter:Lt,attaches:{class:Mt}};((a=(s=(e=(t=this.$store)==null?void 0:t.state)==null?void 0:e.user)==null?void 0:s.profile)==null?void 0:a.type)==="admin"&&(x.raw={class:Ct});let T;C?T=this.$helpers.updateObjectDeep(x,C):T=x,this.editor=new st({holder:"editorjs",minHeight:30,tools:T});let l=this.editorHTMLtoObj(this.ensureHtmlValue(this.config.data));this.editor.isReady.then(()=>{R.$parent.$parent.editing=!0,R.$parent.$parent.newLanguage=R.$parent.$parent.language,R.editor.render(l)})},ensureHtmlValue(C){var x;let R="<p></p>";return C=(x=C==null?void 0:C.toString())==null?void 0:x.trim(),C&&(R=C,/<\/?[a-z][\s\S]*>/i.test(R)===!1)&&(R=`<p> ${R} </p>`),R},saveEditor(){const C=this;let R="";this.editor?this.editor.save().then(x=>{x.blocks.forEach(T=>{R+=this.editorBlockToTag(T)}),C.$parent.prepareToSave(R)}).catch(x=>{console.error("Saving failed: ",x)}):C.$parent.prepareToSave(R)},editorHTMLtoObj(C){let R={time:new Date().getTime(),blocks:[]};return C&&new DOMParser().parseFromString(C,"text/html").querySelector("body").childNodes.forEach(l=>{if(l.nodeName!=="#text"){const t=this.editorTagToBlock(l.tagName,l);t&&t.type&&R.blocks.push(t)}}),R},editorTagToBlock(C,R){var T,l,t,e;let x={type:null,data:null};switch(C=C.toString().toLowerCase(),C){case"p":x.type="paragraph",x.data={text:this.$helpers.decodeHtml(R.innerHTML)};break;case"img":x.type="image",x.data={file:{url:R.getAttribute("src")||null},caption:R.getAttribute("title")||null,withBorder:!!R.getAttribute("data-ejs-border"),withBackground:!!R.getAttribute("data-ejs-bg"),stretched:!!R.getAttribute("data-ejs-stretched")};break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":x.type="header",x.data={text:this.$helpers.decodeHtml(R.innerHTML),level:parseInt(C.trim().substring(1,2))||1};break;case"iframe":x.type="embed";let s="youtube";const a=R.getAttribute("src").match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im);a&&(s=a[1].split(".")[0]),x.data={service:s,source:R.getAttribute("src"),embed:R.getAttribute("src"),width:parseInt(R.getAttribute("width")),height:parseInt(R.getAttribute("height")),caption:R.getAttribute("data-ejs-caption")|null};break;case"hr":x.type="delimiter";break;case"ul":case"ol":x.type="nestedlist",x.data={style:C==="ol"?"ordered":"unordered",items:this.getListItem(R)};break;case"table":x.type="table",x.data={withHeadings:!!R.querySelector("th"),content:this.tableToJson(R)};break;case"div":if(R.classList,R.hasAttribute("data-ejs-type")){const i=R.getAttribute("data-ejs-type");i==="raw"&&((e=(t=(l=(T=this.$store)==null?void 0:T.state)==null?void 0:l.user)==null?void 0:t.profile)==null?void 0:e.type)==="admin"?(x.type="raw",x.data={html:R.innerHTML}):i==="attaches"&&(x.type="attaches",x.data=this.attachToJson(R))}break;default:console.error("Unknown block type",x.type);break}return x},getCodeFromServiceUrl(C,R){let x=null,T;const l=new RegExp(C.regex,"gi");for(;(T=l.exec(R))!==null;)T.index===l.lastIndex&&l.lastIndex++,T&&T[1]&&(x=T[1]);return x},getListItem(C,R=1){let x={content:null,items:[]};const T=C.childNodes;return T&&T.forEach(l=>{if(l.nodeName.toString().toLowerCase()==="li"){const e=l.childNodes;let s={content:null,items:[]};e&&e.forEach(a=>{var f,g;const i=(f=a.nodeName)==null?void 0:f.toString().toLowerCase();if(i==="ol"||i==="ul"){const p=this.getListItem(a,R+1);s.items=p.items}i==="#text"&&((g=a.nodeValue)==null?void 0:g.trim())!==""&&(s.content=a.nodeValue.trim())}),x.items.push(s)}}),R>1?x:x.items},tableToJson(C){let R=[],x=this;const T=C.childNodes;return T&&T.forEach(l=>{const t=x.tableToJsonGetRow(l);t&&t.length>0&&(R=[...R,...t])}),R},tableToJsonGetRow(C){let R=this,x=[];if(C.nodeName.toString().toLowerCase()==="tr"){const l=C.childNodes;if(l){let t=[];l.forEach(e=>{const s=e.nodeName.toLowerCase();(s==="td"||s==="th")&&e.childNodes.forEach(i=>{var g;((g=i==null?void 0:i.nodeName)==null?void 0:g.toLowerCase())==="#text"&&t.push(this.$helpers.decodeHtml(i.nodeValue))})}),t.length>0&&x.push(t)}}else{const l=C.childNodes;l&&l.forEach(t=>{const e=R.tableToJsonGetRow(t);e!==null&&e.length>0&&(x=[...x,...e])})}return x},attachToJson(C){var T;let R={file:{url:C.querySelector("a").getAttribute("href"),size:parseInt((T=C.querySelector("a [data-ejs-attaches-type=size]"))==null?void 0:T.textContent)},title:C.querySelector("a [data-ejs-attaches-type=title]").textContent};const x=C.querySelectorAll("a .additional-properties [data-ejs-attaches-type]");return x&&x.forEach(l=>{const t=l.getAttribute("data-ejs-attaches-type"),e=l.textContent;R.file[t.trim()]=e.trim()}),R},editorBlockToTag(C){var x,T,l,t,e;let R="";switch(C.type){case"paragraph":R+=`<p>${C.data.text}</p>`;break;case"image":let s=[],a=[];C.withBorder&&(s.push("ejs-border"),a.push("data-ejs-border")),C.withBackground&&(s.push("data-ejs-bg"),a.push("data-ejs-bg")),C.stretched&&(s.push("ejs-stretched"),a.push("data-ejs-stretched")),R+=`<img class="img-fluid ${s.join(" ")}" src="${C.data.file.url}" title="${C.data.caption}" alt="${C.data.caption}" ${a.join(" ")} /><br /><em>${C.data.caption}</em>`;break;case"header":R+=`<h${C.data.level}>${C.data.text}</h${C.data.level}>`;break;case"embded":kt[service],R+=`<iframe width="${C.data.width}" height="${C.data.height}" src="${C.data.embed}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><br /><em>${C.data.caption}</em>`;break;case"delimiter":R+="<hr />";break;case"nestedlist":let i="ul";C.data.style==="ordered"&&(i="ol"),R+=`<${i}>`,C.data.items.forEach(p=>{R+=this.listJsonToHtml(p,i)}),R+=`</${i}>`;break;case"table":R+=this.tableJsonToHtml(C.data.content,C.data.withHeadings);break;case"raw":((t=(l=(T=(x=this.$store)==null?void 0:x.state)==null?void 0:T.user)==null?void 0:l.profile)==null?void 0:t.type)==="admin"&&(R+=`<div data-ejs-type="raw">${C.data.html}</div>`);break;case"attaches":let f=[];Object.keys(C.data.file).forEach(p=>{p!=="size"&&f.push({type:p,value:C.data.file[p]})});let g="";if(f.length>0){let p="";f.forEach(h=>{p+=`
              <span class="${h.type}" data-ejs-attaches-type="${h.type}">${h.value}</span>`}),g=`
            <div class="additional-properties">
              ${p}
	          </div>`}R+=`
          <div data-ejs-type="attaches">
            <a href="${C.data.file.url}" download>
                <span class="title" data-ejs-attaches-type="title">${C.data.title}</span>
                <span class="size" data-ejs-attaches-type="size">${((e=C.data.file)==null?void 0:e.size)??""}</span>
                ${g}
            </a>
          </div>`;break;default:console.warn("Unknown block type",C.type);break}return R},listJsonToHtml(C,R){let x=this,T="";C.content&&(T=C.content);let l="";return C.items&&C.items.length>0&&(l+=`
        <${R}>`,C.items.forEach(t=>{l+=x.listJsonToHtml(t,R)}),l+=`
        </${R}>`),`
      <li>
        ${T}
        ${l}
      </li>`},tableJsonToHtml(C,R){R=typeof R>"u"?!1:!!R;let x=`
      <table>`;return C&&C.length>0&&C.forEach((T,l)=>{let t="td";R&&l===0&&(t="th",x+=`
        <thead>`),x+=`
          <tr>`,T&&T.length>0&&T.forEach(e=>{x+=`
              <${t}>${e}</${t}>`}),x+=`
          </tr>`,R&&l===0&&(x+=`
        </thead>
        <tbody>`)}),R&&(x+=`
        </tbody>`),x+=`
      </table>`,x},escapeEditor(){let C=this.$route.path.split("/");C.pop(),window.location.href=C.join("/")}}},Ut=P("div",{id:"editorjs"},null,-1),Rt={id:"editorjs-toolbar"},It={class:"ejs-actions-block"},At=P("i",{class:"fas fa-check"},null,-1),Nt=[At],Pt=P("i",{class:"fas fa-plus"},null,-1),$t=[Pt],Ht={class:"ejs-actions-block"},Bt=P("i",{class:"fas fa-gear"},null,-1),Dt=[Bt],qt={class:"product-edit-language ejs-actions-block"},zt={class:"field"},Jt=P("label",{class:"label",translate:"yes"},"Edit Language",-1),Gt={class:"control select"},Vt=["value"];function Xt(C,R,x,T,l,t){return W(),Y("div",null,[Ut,P("div",Rt,[P("div",It,[P("a",{class:"ejs-action ejs-action-save",onClick:R[0]||(R[0]=K(e=>t.saveEditor(),["prevent","stop"])),href:"#save"},Nt),P("a",{class:"ejs-action ejs-action-cancel",onClick:R[1]||(R[1]=K(e=>t.escapeEditor(),["prevent","stop"])),href:"#cancel"},$t)]),P("div",Ht,[P("a",{class:pt(["ejs-action ejs-action-settings",t.sidebarVisible]),onClick:R[2]||(R[2]=K(e=>t.toggleSidebar(),["prevent","stop"])),href:"#settings"},Dt,2)]),P("div",qt,[P("div",zt,[Jt,P("div",Gt,[ht(P("select",{"onUpdate:modelValue":R[3]||(R[3]=e=>C.$parent.$parent.language.code=e),onChange:R[4]||(R[4]=e=>C.$parent.$parent.changeEditedLang())},[(W(!0),Y(gt,null,vt(C.$store.state.coredata.langs,(e,s)=>(W(),Y("option",{key:s+"langs",value:e.code},yt(e.name),9,Vt))),128))],544),[[mt,C.$parent.$parent.language.code]])])])])])])}const Wt=ot(Ft,[["render",Xt],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/editors/EditorJS.vue"]]);const Yt={name:"EditorWrapper",props:["type","editordata"],data(){return{supportedComponents:["editorjs"],language:{code:"en",longCode:"en-US",name:"English"}}},components:{editorjs:Wt},created:function(){this.language=this.$store.state.language},methods:{prepareToSave(C){const R=this;if(typeof C<"u"&&C){const x=new RegExp(" data-editable ","g");C.indexOf(" data-editable ")&&(C=C.replace(x,"")),R.$parent.save(C)}else console.warn("EditorWrapper prepareToSave - NO editorOutput:",C),R.$parent.save(C)}}},Zt={key:0,class:"has-text-left"},Kt={key:0};function Qt(C,R,x,T,l,t){var s;const e=at("editorjs");return this.editordata&&this.editordata[x.type]&&this.editordata[x.type].setup&&typeof this.editordata[x.type].data!==void 0?(W(),Y("div",Zt,[x.type==="editorjs"?(W(),Y("div",Kt,[bt(e,{config:(s=this.editordata)==null?void 0:s.editorjs},null,8,["config"])])):Q("v-if",!0),Q(` <div v-else-if="type === 'contenttools'">
      <contenttools :config="this.editordata?.contenttools?.page"></contenttools>
    </div> `)])):Q("v-if",!0)}const ae=ot(Yt,[["render",Qt],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/editors/EditorWrapper.vue"]]);const te={name:"Sidebar",props:["fullheight","overlay","right","open"],data(){return{}},created:function(){},methods:{}},ee=P("p",{class:"p-1 has-text-grey"},[P("i",{class:"fas fa-angle-left"}),it(" Click "),P("i",{class:"fas fa-gear"}),it(" to hide")],-1);function ne(C,R,x,T,l,t){const e=at("o-sidebar");return W(),wt(e,{fullheight:x.fullheight,overlay:!1,right:!0,open:x.open},{default:xt(()=>[ee,_t(C.$slots,"default")]),_:3},8,["fullheight","open"])}const se=ot(te,[["render",ne],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/global/Sidebar.vue"]]);export{ae as E,se as S};
