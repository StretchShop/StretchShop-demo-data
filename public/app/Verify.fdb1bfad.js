import{_ as d,r as h,o as a,c as i,a as t,t as m,e as _,f as p,j as f,g as c}from"./index.78dc2935.js";const y={name:"UsersVerify",data(){return{error:!1}},computed:{email:function(){const e=new RegExp("--","g");return this.$route.params.id.toString().replace("---","@").replace(e,".")}},mounted:function(){console.log("verify"),this.sendVerifycation()},methods:{sendVerifycation:function(){const e=this,o=decodeURIComponent(this.$route.params.id),n=decodeURIComponent(this.$route.params.hash);this.$httpc.post("user/verify",{email:o,hash:n},{timeout:7e3}).then(function(s){if(s.data.user){e.$store.state.user.logged=!0,e.$store.state.user.remember=e.remember;const r=s.data.user;e.$store.dispatch("setUser",r),e.$router.push({name:"me"})}}).catch(function(s){console.log(s),e.error=!0}).then(function(){e.$store.state.user.logged?e.$router.push({name:"me"}):e.error=!0})}}},g={class:"container users-me"},v={class:"columns"},$={class:"column"},V=t("h1",{class:"title is-1",translate:"yes"},"Verify",-1),x={class:""},k={key:0},C=t("p",{class:"has-text-danger",translate:"yes"},"Activation link is not valid anymore (valid only for 2 hours)",-1),U=t("span",{translate:"yes"},"If more than 2 hours passed, try to",-1),N=c(" \xA0"),b=c("reset your password");function w(e,o,n,s,r,l){const u=h("router-link");return a(),i("div",g,[t("div",v,[t("div",$,[V,t("p",x,m(l.email),1),r.error?(a(),i("div",k,[C,t("p",null,[U,N,_(u,{to:{name:"reset"},tag:"a",translate:"yes"},{default:p(()=>[b]),_:1})])])):f("",!0)])])])}var I=d(y,[["render",w],["__file","/Users/marthol/Documents/GitHub/stretchshop-front-vue/src/components/users/Verify.vue"]]);export{I as default};
