import{_ as k,A as F,o as l,c,a,t as m,j as d,b as T,v as I,h as $,g as x,r as v,e as p,P as R,C as E,E as N,m as b,f as C,F as M,i as D,n as O}from"./index.b9031fb8.js";const U={data(){return{eventTimeoutId:null,tempFilter:{page:1,minMaxPrice:{min:0,max:0},stringFilter:"",sort:this.getDefaultSorting()},introMinMaxPrice:{min:null,max:null}}},mounted:function(){this.eventBus.emit("translateContent",this.$store.getters.getTranslates)},props:["filter","categoryMinMaxPrice","categoryType"],computed:{filterPriceMin:function(){return this.tempFilter.minMaxPrice.min!==0?this.tempFilter.minMaxPrice.min:this.categoryPriceMin},filterPriceMax:function(){return this.tempFilter.minMaxPrice.max!==0?this.tempFilter.minMaxPrice.max:this.categoryPriceMax},categoryPriceMin:function(){return typeof this.categoryMinMaxPrice<"u"&&this.categoryMinMaxPrice.min<this.categoryMinMaxPrice.max?this.categoryMinMaxPrice.min:0},categoryPriceMax:function(){return typeof this.categoryMinMaxPrice<"u"&&this.categoryMinMaxPrice.max>this.categoryMinMaxPrice.min?this.categoryMinMaxPrice.max:0},filteredCount:function(){return typeof this.$parent<"u"?this.$parent.getCategoryFilteredCount():0},categoryTotalCount:function(){return typeof this.$parent<"u"&&typeof this.$parent.categoryDetail<"u"&&this.$parent.categoryDetail&&this.$parent.categoryDetail.count&&this.$parent.categoryDetail.count>0?this.$parent.categoryDetail.count:0},countsDoNotMatch:function(){return this.filteredCount>0&&this.filteredCount!==this.categoryTotalCount}},methods:{stringFilterChange:function(i){const e=i.target;this.$parent.filter.stringFilter=e.value,this.requestFilteredProductList()},priceSliderChange:function(i){const e=typeof i.forceValue<"u"?i.forceValue:null,s=i.target;let n=s.getAttribute("position"),t="",r=0,o=null;n==="left"?(t="right",r=-1,o=s.parentNode.querySelector("input[type=range][position="+t+"]"),s.value=Math.min(s.value,parseInt(o.value)+r)):(n="right",t="left",r=1,o=s.parentNode.querySelector("input[type=range][position="+t+"]"),s.value=Math.max(s.value,parseInt(o.value)+r));let u=null;const g=this.$parent.getCategoryMinMax();e!==null?(s.min===0&&typeof g.min<"u"&&(s.min=g.min),s.max===0&&typeof g.max<"u"&&(s.max=g.max),u=100/(parseInt(s.max)-parseInt(s.min))*parseInt(e)-100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.min),s.value=e):(s.value===0&&(n==="left"&&g&&(s.value=g.min),n==="right"&&g&&(s.value=g.max)),u=100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.value)-100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.min));const h=s.parentNode.querySelector(".slider-range-controls");n==="left"?(h.querySelector("[inverse-"+n+"]").style.width=u+"%",h.querySelector("[range]").style.left=u+"%"):(h.querySelector("[inverse-"+n+"]").style.width=100-u+"%",h.querySelector("[range]").style.right=100-u+"%"),h.querySelector("[thumb="+n+"]").style.left=u+"%",h.querySelector("[sign="+n+"]").style.left=u+"%",s.value===0?(n==="right"&&typeof g.max<"u"&&g.max>0&&(h.querySelector("[sign="+n+"] .value").innerText=g.max),n==="left"&&typeof g.min<"u"&&g.min>0&&(h.querySelector("[sign="+n+"] .value").innerText=g.min)):h.querySelector("[sign="+n+"] .value").innerText=s.value;const P={};n==="left"?(P.min=s.value,P.max=o.value):(P.min=o.value,P.max=s.value),this.tempFilter.minMaxPrice=P,e===null&&this.$parent.introLoading===!1&&this.requestFilteredProductList()},requestFilteredProductList(){const i=this;i.$root.loadingShow(),clearTimeout(this.eventTimeoutId),this.eventTimeoutId=setTimeout(function(){i.$httpc.post(i.getCategoryType()+"/filter",i.buildFilterRequestObject(),{timeout:7e3}).then(function(e){const s=i.$parent.categoryDetail;e.data={categories:i.$parent.categories,categoryDetail:s,filter:e.data.filter,results:e.data.results,filteredProductsCount:e.data.filteredProductsCount},i.changeFilterUrl(),i.$parent.processCategoryResponse(e)}).catch(function(e){console.error(e)})},1e3)},buildFilterRequestObject(i){let e=this.tempFilter;typeof i<"u"&&i&&(e=i);let s=null;if(typeof this.$parent.categoryDetail<"u"&&this.$parent.categoryDetail){e.category={_id:this.$parent.categoryDetail._id,pathSlug:this.$parent.categoryDetail.pathSlug,subsSlugs:this.$parent.categoryDetail.subsSlugs};const o=e.category.subsSlugs;o.unshift(e.category.pathSlug),s={$in:o}}const n={query:{categories:s},limit:this.$parent.filter.limit,sort:e.sort};if(e.page>1){const o=Math.abs(e.page-1)*this.$parent.filter.limit;o>0&&(n.offset=o)}if(e.stringFilter&&e.stringFilter.trim()!==""){let o=[],u={};u["name."+this.$store.state.language.code]={$regex:e.stringFilter},o.push(u),this.getCategoryType()==="products"&&o.push({orderCode:{$regex:e.stringFilter}}),n.query={$or:o}}const t=typeof e.minMaxPrice<"u"&&typeof e.minMaxPrice.min<"u"?e.minMaxPrice.min:0,r=typeof e.minMaxPrice<"u"&&typeof e.minMaxPrice.max<"u"?e.minMaxPrice.max:0;return(t>this.categoryPriceMin||r<this.categoryPriceMax)&&t!==r&&r>0&&(n.query.price={$gte:parseFloat(t),$lte:parseFloat(r)}),n},changeFilterUrl(){const i=this.filterObjectToQueryString();i!==""&&history.pushState({},null,i)},filterObjectToQueryString(){const i=[];let e="";return this.tempFilter.page>1&&i.push("page="+encodeURIComponent(parseInt(this.tempFilter.page))),this.tempFilter.minMaxPrice.min>this.categoryPriceMin&&i.push("price-min="+encodeURIComponent(this.tempFilter.minMaxPrice.min)),this.tempFilter.minMaxPrice.max<this.categoryPriceMax&&i.push("price-max="+encodeURIComponent(this.tempFilter.minMaxPrice.max)),this.tempFilter.stringFilter.trim()!==""&&i.push("string="+encodeURIComponent(this.tempFilter.stringFilter.trim())),this.tempFilter.sort.trim()!==""&&this.tempFilter.sort!==this.filter.sort&&i.push("sort="+encodeURIComponent(this.tempFilter.sort.trim())),i.length>0&&(e=this.$route.path+"?"+i.join("&")),e},setActivePage(i){this.tempFilter.page=i,this.requestFilteredProductList()},changeSorting(i){this.tempFilter.sort=i.target.value,this.requestFilteredProductList()},setTempFilter(i){const e=this;let s=!1;const n={target:this.$el.querySelector("input[type=range][position=left]")},t={target:this.$el.querySelector("input[type=range][position=right]")};Object.keys(i).forEach(function(r){typeof e.tempFilter[r]<"u"&&(e.tempFilter[r]=i[r],r==="minMaxPrice"&&(n.forceValue=e.tempFilter.minMaxPrice.min,t.forceValue=e.tempFilter.minMaxPrice.max,s=!0))}),s&&(this.priceSliderChange(n),this.priceSliderChange(t))},getCategoryType(){return this.categoryType?this.categoryType:"products"},getDefaultSorting(){return this.getCategoryType()==="pages"?F.PRODUCT_DEFAULT_SORTING:F.PAGE_DEFAULT_SORTING}}},B={key:0,class:"mt-6"},j={class:"menu"},A=a("p",{class:"menu-label filter",translate:"yes"}," Filter ",-1),w={class:"menu-list"},V={class:"control has-text-centered is-size-7"},z={key:0},G=a("span",{id:"products-filter-count-filtered",translate:"yes"},"Filtered",-1),Q=x(": "),H=x(" / "),W=a("span",{id:"products-filter-count-total",translate:"yes"},"Total",-1),K=x(": "),J={class:"panel-block pb-4"},X={class:"control has-icons-left"},Y=a("span",{class:"icon is-small is-left"},[a("i",{class:"fas fa-search","aria-hidden":"true"})],-1),Z={key:0,class:"panel-block py-4"},ee={class:"panel-block-multiwrapper"},te=a("div",null,[a("label",{class:"label",id:"filter_price",translate:"yes"},"Price")],-1),ie={slider:"",class:"slider-range"},re={class:"slider-range-controls"},ae=a("div",{"inverse-left":"",style:{width:"0%"}},null,-1),se=a("div",{"inverse-right":"",style:{width:"0%"}},null,-1),oe=a("div",{range:"",style:{left:"0%",right:"0%"}},null,-1),ne=a("span",{thumb:"left",style:{left:"0%"}},null,-1),le=a("span",{thumb:"right",style:{left:"100%"}},null,-1),ce={sign:"left",style:{left:"0%"}},ue={class:"value"},ge={sign:"right",style:{left:"100%"}},de={class:"value"},pe=["value","max","min"],he=["value","max","min"],ye={key:1,class:"panel-block py-4"},fe={class:"panel-block-multiwrapper"},me=a("div",null,[a("label",{class:"label"},[a("span",{id:"filter_sortby",translate:"yes"},"Sort by"),x(":")])],-1),_e={class:"control has-text-centered"},Pe={class:"select is-small is-centered"},ve=a("option",{value:"price"},"Price Ascending",-1),xe=a("option",{value:"-price"},"Price Descending",-1),Ce=a("option",{value:"-dates.dateCreated"},"Latest",-1),Me=a("option",{value:"stockAmount"},"On Stock Amount",-1),De=[ve,xe,Ce,Me],Fe={key:2,class:"panel-block py-4"},be={class:"panel-block-multiwrapper"},Se=a("div",null,[a("label",{class:"label"},[a("span",{translate:"yes"},"Sort by"),x(":")])],-1),Te={class:"control has-text-centered"},ke={class:"select is-small is-centered"},$e=a("option",{value:"-dates.dateCreated"},"Latest",-1),Le=a("option",{value:"dates.dateCreated"},"Oldest",-1),qe=[$e,Le];function Ie(i,e,s,n,t,r){return r.categoryTotalCount>0?(l(),c("nav",B,[a("aside",j,[A,a("ul",w,[a("li",null,[a("p",V,[r.countsDoNotMatch?(l(),c("span",z,[G,Q,a("span",null,m(r.filteredCount),1),H])):d("",!0),W,K,a("span",null,m(r.categoryTotalCount),1)])]),a("li",J,[a("p",X,[T(a("input",{class:"input is-small",type:"text",translate:"yes",placeholder:"search","onUpdate:modelValue":e[0]||(e[0]=o=>t.tempFilter.stringFilter=o),onKeyup:e[1]||(e[1]=(...o)=>r.stringFilterChange&&r.stringFilterChange(...o))},null,544),[[I,t.tempFilter.stringFilter,void 0,{trim:!0}]]),Y])]),s.categoryType=="products"?(l(),c("li",Z,[a("div",ee,[te,a("div",ie,[a("div",re,[ae,se,oe,ne,le,a("div",ce,[a("span",ue,m(r.categoryPriceMin),1)]),a("div",ge,[a("span",de,m(r.categoryPriceMax),1)])]),a("input",{type:"range",position:"left",tabindex:"0",value:r.filterPriceMin,max:r.categoryPriceMax,min:r.categoryPriceMin,step:"1",onInput:e[2]||(e[2]=(...o)=>r.priceSliderChange&&r.priceSliderChange(...o))},null,40,pe),a("input",{type:"range",position:"right",tabindex:"0",value:r.filterPriceMax,max:r.categoryPriceMax,min:r.categoryPriceMin,step:"1",onInput:e[3]||(e[3]=(...o)=>r.priceSliderChange&&r.priceSliderChange(...o))},null,40,he)])])])):d("",!0),s.categoryType=="products"?(l(),c("li",ye,[a("div",fe,[me,a("div",null,[a("div",_e,[a("div",Pe,[T(a("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.tempFilter.sort=o),onChange:e[5]||(e[5]=(...o)=>r.changeSorting&&r.changeSorting(...o))},De,544),[[$,t.tempFilter.sort]])])])])])])):d("",!0),s.categoryType=="pages"?(l(),c("li",Fe,[a("div",be,[Se,a("div",null,[a("div",Te,[a("div",ke,[T(a("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>t.tempFilter.sort=o),onChange:e[7]||(e[7]=(...o)=>r.changeSorting&&r.changeSorting(...o))},qe,544),[[$,t.tempFilter.sort]])])])])])])):d("",!0)])])])):d("",!0)}const Re=k(U,[["render",Ie]]),Ee={data(){return{order:"centered",size:"",isSimple:!1,isRounded:!0}},props:{bottom:Boolean,active:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0}},methods:{pagingChanged:function(i){this.$parent.$refs.categoryFilter.setActivePage(i)},loadMore:function(){let i=this.perPage+F.PER_PAGE;this.$parent.filter.limit=i,this.$parent.$refs.categoryFilter.requestFilteredProductList()}}},Ne={key:0},Oe={key:0};function Ue(i,e,s,n,t,r){const o=v("o-pagination");return s.total>s.perPage?(l(),c("section",Ne,[p(o,{total:s.total,current:s.active,"onUpdate:current":e[0]||(e[0]=u=>s.active=u),order:t.order,size:t.size,simple:t.isSimple,rounded:t.isRounded,"per-page":s.perPage,onChange:r.pagingChanged,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page",iconPack:"fas",iconNext:"angle-right",iconPrev:"angle-left"},null,8,["total","current","order","size","simple","rounded","per-page","onChange"]),s.bottom==!0?(l(),c("div",Oe,[a("button",{class:"button",onClick:e[1]||(e[1]=u=>r.loadMore())},"Load More ...")])):d("",!0)])):d("",!0)}const Be=k(Ee,[["render",Ue]]);const je={name:"CategoryList",components:{"product-box":R,"category-filter":Re,"category-paging":Be,"page-detail-content":E,"error-page":N},data(){return{categories:[],filteredProductsCount:null,products:[],page:null,itemsToListType:"products",breadcrumbs:[],categoryDetail:null,filter:{minMaxPrice:{min:0,max:0},stringFilter:"",limit:F.PER_PAGE,sort:F.PRODUCT_DEFAULT_SORTING},language:"en",groupsLastRefresh:0,introLoading:!1}},computed:{categoryMinMax:function(){return this.categoryDetail&&typeof this.categoryDetail.minMaxPrice<"u"?this.categoryDetail.minMaxPrice:{min:null,max:null}},categoryBackground:function(){return!!(this.categoryDetail&&this.categoryDetail.data&&this.categoryDetail.data.images&&this.categoryDetail.data.images.background)},categoryProductsTotalForPaging:function(){return typeof this.filteredProductsCount<"u"&&this.filteredProductsCount!==null?this.filteredProductsCount:typeof this.categoryDetail.count<"u"&&this.categoryDetail.count?this.categoryDetail.count:0},userCanEdit:function(){return!!(this.$store.state&&this.$store.state.user&&this.$store.state.user.logged&&this.$store.state.user.profile&&this.$store.state.user.profile.type&&this.$store.state.user.profile.type==="admin")},categoryTypePageContent:function(){return this.page&&this.page.data&&this.page.data.blocks&&this.page.data.blocks[0]&&this.page.data.blocks[0][this.$store.state.language.code]?this.page.data.blocks[0][this.$store.state.language.code]:""},categoryTypePageData:function(){return this.page&&this.page.functions&&this.page.functions.length>0?this.page.functions:null},categoryActivePage:function(){var i,e,s,n,t,r;return(s=(e=(i=this.$refs)==null?void 0:i.categoryFilter)==null?void 0:e.tempFilter)!=null&&s.page?(r=(t=(n=this.$refs)==null?void 0:n.categoryFilter)==null?void 0:t.tempFilter)==null?void 0:r.page:1}},mounted:function(){this.$store&&this.$store.state&&this.$store.state.language&&this.$store.state.language.code&&this.$store.state.user?this.listCategoryItems(!0):this.eventBus.on("coreDataLoaded",()=>{this.listCategoryItems(!0)})},methods:{processCategoryResponse(i){const e=new Date,s=this;this.groupsLastRefresh=e.getTime();let n=null;if(i.data.categoryDetail&&(this.categoryDetail=i.data.categoryDetail,this.categoryDetail&&this.categoryDetail.name&&s.$store.state&&typeof this.categoryDetail.name[s.$store.state.language.code]<"u"&&(document.title=this.categoryDetail.name[s.$store.state.language.code]+" - StretchShop"),i.data.categoryDetail.parentCategories&&(this.breadcrumbs=i.data.categoryDetail.parentCategories),n=this.categoryDetail.taxData?this.categoryDetail.taxData:s.$store.state.coredata.settings),i.data.categories&&(this.categories=i.data.categories),i.data.filteredProductsCount&&(this.filteredProductsCount=i.data.filteredProductsCount),i.data.results){const t=i.data.results;let r=null;i.data.categoryDetail&&i.data.categoryDetail.pathSlug&&(i.data.categoryDetail.type&&(r=i.data.categoryDetail.type),t.forEach(function(o){o=s.$helpers.getProductTaxData(o,n),o.activeParentCategoryUrl=i.data.categoryDetail.pathSlug})),r===null&&t&&t[0]&&t[0].type?this.itemsToListType=t[0].type+"s":this.itemsToListType=r,this.products=this.$store.state.chunk(t,F.PER_ROW)}if(i.data.filter){const t=Object.assign({},this.filter);this.filter=i.data.filter;const r=this;Object.keys(t).forEach(function(o){(typeof r.filter[o]>"u"||r.filter[o]===null)&&(r.filter[o]=t[o])})}this.$root.loadingClose()},listCategoryItems:function(i){typeof i>"u"&&!i?i=!1:i=!0;const e=this,s=this.$route.path.split("/").filter(Boolean),n=typeof s[1]<"u"?s[1]:"products";if(this.$route.params&&this.$route.params.category&&this.$route.params.category.toString().trim()!=="''")if(this.$root.loadingShow(),i&&Object.keys(this.$route.query).length>0){this.queryStringtoFilter();const t=this.categoryDetail&&this.categoryDetail.type==="pages"?"pageCategoryFilter":"categoryFilter";e.$httpc.post(n+"/"+this.$route.params.category,{filter:this.$refs[t].buildFilterRequestObject(this.filter)},{timeout:7e3}).then(function(r){e.processCategoryResponse(r),typeof e.$refs[t]<"u"&&(e.introLoading=!0,e.$refs[t].setTempFilter(e.filter),e.introLoading=!1)}).catch(function(r){console.error(r)}).then(()=>{e.eventBus.emit("translateContent",e.$store.getters.getTranslates)})}else this.$httpc.get(n+"/"+this.$route.params.category,{timeout:7e3,params:{limit:this.filter.limit}}).then(function(t){e.processCategoryResponse(t)}).catch(function(t){console.error(t)}).then(()=>{e.eventBus.emit("translateContent",e.$store.getters.getTranslates)});else{let t=this.$route.path;const r=t.split("/");let o=e.$store.state.language.code;r.length>1&&(o=r[1],r.splice(0,2),t=r.join("/"));const u=t;this.$httpc.post("categories/find",{query:{parentPathSlug:"",type:u},lang:o}).then(function(g){g.data&&(e.categories=g.data.categories,g.data.page&&g.data.page.data&&(e.page=g.data.page.data,e.page.name&&e.$store.state&&typeof e.page.name[e.$store.state.language.code]<"u"&&(document.title=e.page.name[e.$store.state.language.code]+" - StretchShop")))}).catch(function(g){console.error(g)}).then(function(){e.eventBus.emit("pageDetailLoaded")})}this.$root.loadingClose()},queryStringtoFilter:function(){const i={};if(i.minMaxPrice={},typeof this.$route.query["price-min"]<"u"){const e=parseFloat(this.$route.query["price-min"]);e>0&&(i.minMaxPrice.min=e)}if(typeof this.$route.query["price-max"]<"u"){const e=parseFloat(this.$route.query["price-max"]);e>0&&(i.minMaxPrice.max=e)}if(typeof this.$route.query.string<"u"){const e=decodeURIComponent(this.$route.query.string).trim();e!==""&&(i.stringFilter=e)}if(typeof this.$route.query.sort<"u"){const e=decodeURIComponent(this.$route.query.sort).trim();e!==""&&(i.sort=e)}this.filter=i},getCategoryMinMax(){return this.categoryDetail&&this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:null},getCategoryFilteredCount(){return this.filteredProductsCount&&this.filteredProductsCount>0?this.filteredProductsCount:0},getCategoryType(){return this.categoryDetail&&this.categoryDetail.type?this.categoryDetail.type:"products"},getCategoryBackground(){return this.categoryDetail&&this.categoryDetail.slug&&this.$store.state.coredata&&this.$store.state.coredata.settings&&this.$store.state.coredata.settings.assets&&this.$store.state.coredata.settings.assets.url?this.$helpers.getImagePath("categories",this.$store.state.coredata,this.categoryDetail.slug,this.categoryDetail.slug+".jpg"):""}}},Ae={class:"container category-list"},we={key:0,class:"edit-area"},Ve={class:"columns",id:"category-main-content"},ze={class:"column is-3 pr-6"},Ge={key:0,class:"mt-6"},Qe={class:"menu"},He=a("p",{class:"menu-label subcategories",translate:"yes"}," Sub-Categories ",-1),We={class:"menu-list"},Ke={class:"column is-9"},Je={key:0,class:"breadcrumb mb-2","aria-label":"breadcrumbs"},Xe={class:"is-active"},Ye={class:"column"},Ze={key:0,class:"title mb-0"},et={key:1,class:"title is-6 mb-5 has-text-grey-dark"},tt={key:2,translate:"yes",class:"title is-1 title-products"},it=["innerHTML"],rt={key:1,ref:"categoryListResults"},at={key:0},st={key:1},ot={key:2},nt={class:"columns"},lt={class:"column is-12"},ct={key:0,class:"title is-1"},ut={key:3};function gt(i,e,s,n,t,r){const o=v("font-awesome-icon"),u=v("router-link"),g=v("category-filter"),h=v("category-paging"),P=v("product-box"),L=v("page-detail-content"),q=v("error-page");return l(),c("div",Ae,[r.userCanEdit&&(t.categoryDetail&&t.categoryDetail.pathSlug||t.page)?(l(),c("div",we,[t.categoryDetail&&t.categoryDetail.pathSlug?(l(),b(u,{key:0,class:"editor-button edit-button",to:{name:"categoryNewEdit",params:{category:t.categoryDetail.pathSlug}}},{default:C(()=>[p(o,{icon:"edit"})]),_:1},8,["to"])):d("",!0),t.page&&t.page.slug?(l(),b(u,{key:1,class:"editor-button edit-button",to:{name:"pageNewEdit",params:{slug:t.page.slug}}},{default:C(()=>[p(o,{icon:"edit"})]),_:1},8,["to"])):d("",!0)])):d("",!0),a("div",Ve,[a("div",ze,[t.categories&&t.categories.length>0?(l(),c("nav",Ge,[a("aside",Qe,[He,a("ul",We,[(l(!0),c(M,null,D(this.categories,(y,_)=>(l(),c("li",{key:_},[p(u,{title:y.descriptionShort[i.$store.state.language.code],to:{name:"categoryList",params:{category:y.pathSlug}}},{default:C(()=>[x(m(y.name[i.$store.state.language.code]),1)]),_:2},1032,["title","to"])]))),128))])])])):d("",!0),p(g,{ref:"categoryFilter",filter:t.filter,categoryMinMaxPrice:r.categoryMinMax,categoryType:r.getCategoryType()},null,8,["filter","categoryMinMaxPrice","categoryType"])]),a("div",Ke,[t.breadcrumbs&&t.breadcrumbs!=null&&t.breadcrumbs.length>0?(l(),c("nav",Je,[a("ul",null,[(l(!0),c(M,null,D(t.breadcrumbs,(y,_)=>(l(),c("li",{key:_},[p(u,{title:y.name[i.$store.state.language.code],to:{name:"categoryList",params:{category:y.pathSlug}}},{default:C(()=>[x(m(y.name[i.$store.state.language.code]),1)]),_:2},1032,["title","to"])]))),128)),a("li",Xe,[p(u,{title:t.categoryDetail.name[i.$store.state.language.code],to:{name:"categoryList",params:{category:t.categoryDetail.pathSlug}},"aria-current":"page"},{default:C(()=>[x(m(t.categoryDetail.name[i.$store.state.language.code]),1)]),_:1},8,["title","to"])])])])):d("",!0),a("div",{class:"columns category-header mt-2",style:O({backgroundImage:"url("+r.getCategoryBackground()+")"})},[a("div",Ye,[t.categoryDetail?(l(),c("h1",Ze,m(t.categoryDetail.name[i.$store.state.language.code]),1)):d("",!0),t.categoryDetail?(l(),c("h2",et,m(t.categoryDetail.descriptionShort[i.$store.state.language.code]),1)):(l(),c("h1",tt,"Products")),t.categoryDetail?(l(),c("div",{key:3,class:"categoryDescLong",innerHTML:t.categoryDetail.descriptionLong[i.$store.state.language.code]},null,8,it)):d("",!0)])],4),t.products&&t.products.length>0?(l(),c("div",rt,[p(h,{ref:"categoryPaging",total:r.categoryProductsTotalForPaging,active:r.categoryActivePage,perPage:t.filter.limit},null,8,["total","active","perPage"]),t.itemsToListType=="products"?(l(),c("div",at,[(l(!0),c(M,null,D(t.products,(y,_)=>(l(),c("div",{class:"tile is-ancestor",key:t.groupsLastRefresh+_},[(l(!0),c(M,null,D(y,(f,S)=>(l(),b(u,{key:t.groupsLastRefresh+f._id+(_+S),class:"tile is-parent is-4",title:f.descriptionShort[i.$store.state.language.code],to:{name:"productDetail",params:{category:t.categoryDetail.pathSlug,product:f._id,slug:f.slug}}},{default:C(()=>[p(P,{product:f,listType:t.itemsToListType,hideBuyButton:"true"},null,8,["product","listType"])]),_:2},1032,["title","to"]))),128))]))),128))])):d("",!0),t.itemsToListType=="pages"?(l(),c("div",st,[(l(!0),c(M,null,D(t.products,(y,_)=>(l(),c("div",{class:"tile is-ancestor",key:t.groupsLastRefresh+_},[(l(!0),c(M,null,D(y,(f,S)=>(l(),b(u,{key:t.groupsLastRefresh+f._id+(_+S),class:"tile is-parent is-4",title:f.descriptionShort[i.$store.state.language.code],to:{name:"pageDetailShort",params:{category:t.categoryDetail.pathSlug,slug:f.slug}}},{default:C(()=>[p(P,{product:f,listType:t.itemsToListType},null,8,["product","listType"])]),_:2},1032,["title","to"]))),128))]))),128))])):d("",!0),p(h,{ref:"categoryPaging",bottom:!0,total:r.categoryProductsTotalForPaging,active:r.categoryActivePage,perPage:t.filter.limit},null,8,["total","active","perPage"])],512)):t.page&&t.page.data?(l(),c("div",ot,[a("div",nt,[a("div",lt,[t.page.data&&t.page.data.name?(l(),c("h1",ct,m(t.page.data.name[i.$store.state.language.code]),1)):d("",!0),p(L,{content:r.categoryTypePageContent,contentData:r.categoryTypePageData,contentLang:t.language.code},null,8,["content","contentData","contentLang"])])])])):(l(),c("div",ut,[p(q)]))])])])}const pt=k(je,[["render",gt]]);export{pt as default};
