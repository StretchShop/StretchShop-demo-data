(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1430"],{"7a4d":function(e,t,r){"use strict";r.r(t);var s=r("7a23"),a={class:"container users-login"},o=Object(s["createElementVNode"])("div",{class:"column"},[Object(s["createElementVNode"])("h1",{class:"title is-1"},"Login")],-1),c={class:"column is-4 is-offset-4"},n={class:"field email"},i={class:"control"},l=Object(s["createElementVNode"])("div",{class:"form-messages is-hidden"},[Object(s["createElementVNode"])("div",{class:"form-message","data-message":"wrong credentials",translate:"yes"},"Wrong credentials"),Object(s["createElementVNode"])("div",{class:"form-message","data-message":"not activated",translate:"yes"},"Account not activated. Check your mailbox for activation email."),Object(s["createElementVNode"])("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty")],-1),d={class:"field password"},m={class:"control"},u=Object(s["createElementVNode"])("div",{class:"form-messages is-hidden"},[Object(s["createElementVNode"])("div",{class:"form-message","data-message":"is empty",translate:"yes"},"This field cannot be empty")],-1),p={class:"field"},b=Object(s["createElementVNode"])("span",{translate:"yes"},"Remember my login on this computer",-1),h=Object(s["createElementVNode"])("button",{class:"button is-medium is-primary",type:"submit",translate:"yes"},"Login",-1),f=Object(s["createElementVNode"])("p",null,[Object(s["createTextVNode"])(" This site is protected by reCAPTCHA and the Google"),Object(s["createElementVNode"])("br"),Object(s["createElementVNode"])("a",{href:"https://policies.google.com/privacy"},"Privacy Policy"),Object(s["createTextVNode"])(" and "),Object(s["createElementVNode"])("a",{href:"https://policies.google.com/terms"},"Terms of Service"),Object(s["createTextVNode"])(" apply. ")],-1),O={class:"column is-4 is-offset-4"},j={translate:"yes"},v=Object(s["createTextVNode"])("Forgot your password? "),g=Object(s["createTextVNode"])("Reset your password");function E(e,t,r,E,N,V){var y=Object(s["resolveComponent"])("router-link");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",a,[o,Object(s["createElementVNode"])("div",c,[Object(s["createElementVNode"])("form",{onSubmit:t[3]||(t[3]=Object(s["withModifiers"])((function(){return V.userLogin&&V.userLogin.apply(V,arguments)}),["prevent"])),ref:"loginSubmit"},[Object(s["createElementVNode"])("div",n,[Object(s["createElementVNode"])("div",i,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{class:"input",placeholder:"Email",type:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return N.email=e})},null,512),[[s["vModelText"],N.email,void 0,{trim:!0}]])]),l]),Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("div",m,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{class:"input",placeholder:"Password",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return N.password=e})},null,512),[[s["vModelText"],N.password,void 0,{trim:!0}]])]),u]),Object(s["createElementVNode"])("div",p,[b,Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return N.remember=e})},null,512),[[s["vModelCheckbox"],N.remember]])]),h,f],544)]),Object(s["createElementVNode"])("div",O,[Object(s["createElementVNode"])("p",j,[v,Object(s["createVNode"])(y,{to:{name:"reset"},tag:"a"},{default:Object(s["withCtx"])((function(){return[g]})),_:1})])])])}r("b64b"),r("d3b7"),r("159b");var N=r("760d"),V=r("5b55"),y={name:"UsersLogin",setup:function(){return{recaptcha:Object(N["useReCaptcha"])()}},data:function(){return{email:"",password:"",remember:!1}},created:function(){},methods:{userLogin:function(){var e=this,t=this,r=this.$helpers.propertiesRequiredConfirm({email:this.email,password:this.password},["email","password"]);r.result&&""!==this.email&&""!==this.password?this.recaptcha.recaptchaLoaded().then((function(){return e.rcptch.executeRecaptcha("register")})).then((function(t){return e.$httpc.post("helpers/recaptcha",{token:t},{timeout:3e3}).then((function(e){return e}))})).catch((function(e){if(e&&console.error("error:",e),console.log("RECAPTCHA NOT WORKING! Make sure you have RECAPTCHA variables set in backend enviroment."),confirm("RECAPTCHA NOT WORKING\nAre you sure you want to Login?\n\nSee console for more information"))return{data:!0}})).then((function(r){r&&!0===r.data&&e.$httpc.post("users/login",{user:{email:e.email,password:e.password}}).then((function(e){if(e.data.user&&e.data.user._id){V["a"].COOKIE_TIME;!0===t.remember&&V["a"].COOKIE_TIME_REMEMBER;t.$store.state.user.logged=!0,t.$store.state.user.remember=t.remember;var r=e.data.user;t.$store.dispatch("setUser",r),t.$router.push({name:"me"})}})).catch((function(e){e.response&&e.response.data&&e.response.data.errors&&Object.keys(e.response.data.errors).length>0&&Object.keys(e.response.data.errors).forEach((function(r){var s=t.$el.querySelector(".field."+r);if(s){var a=s.querySelector('.form-messages .form-message[data-message="'+e.response.data.errors[r]+'"]');if(a&&null!==a){t.$helpers.undecorateFormField(s,"danger");var o=a.innerText;t.$helpers.decorateFormField(s,o,"danger")}}}))})).then((function(e){}))})):this.$helpers.formUndecorateAndDecorateFields(r.fields,r.errors)}}},w=r("6b0d"),T=r.n(w);const C=T()(y,[["render",E]]);t["default"]=C}}]);
//# sourceMappingURL=chunk-2d0e1430.07e7bcde.js.map