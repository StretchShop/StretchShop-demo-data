(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07531ed7"],{"04d1":function(e,t,a){var r=a("342f"),n=r.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},"25dc":function(e,t,a){"use strict";a("eabb")},"4e82":function(e,t,a){"use strict";var r=a("23e7"),n=a("e330"),o=a("59ed"),i=a("7b0b"),c=a("07fa"),l=a("577e"),s=a("d039"),u=a("addb"),d=a("a640"),g=a("04d1"),p=a("d998"),m=a("2d00"),y=a("512c"),h=[],b=n(h.sort),f=n(h.push),O=s((function(){h.sort(void 0)})),j=s((function(){h.sort(null)})),v=d("sort"),N=!s((function(){if(m)return m<70;if(!(g&&g>3)){if(p)return!0;if(y)return y<603;var e,t,a,r,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(r=0;r<47;r++)h.push({k:t+r,v:a})}for(h.sort((function(e,t){return t.v-e.v})),r=0;r<h.length;r++)t=h[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),k=O||!j||!v||!N,x=function(e){return function(t,a){return void 0===a?-1:void 0===t?1:void 0!==e?+e(t,a)||0:l(t)>l(a)?1:-1}};r({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(N)return void 0===e?b(t):b(t,e);var a,r,n=[],l=c(t);for(r=0;r<l;r++)r in t&&f(n,t[r]);u(n,x(e)),a=n.length,r=0;while(r<a)t[r]=n[r++];while(r<l)delete t[r++];return t}})},"512c":function(e,t,a){var r=a("342f"),n=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},7156:function(e,t,a){var r=a("1626"),n=a("861d"),o=a("d2bb");e.exports=function(e,t,a){var i,c;return o&&r(i=t.constructor)&&i!==a&&n(c=i.prototype)&&c!==a.prototype&&o(e,c),e}},"74ff":function(e,t,a){},a9e3:function(e,t,a){"use strict";var r=a("83ab"),n=a("da84"),o=a("e330"),i=a("94ca"),c=a("6eeb"),l=a("1a2d"),s=a("7156"),u=a("3a9b"),d=a("d9b5"),g=a("c04e"),p=a("d039"),m=a("241c").f,y=a("06cf").f,h=a("9bf2").f,b=a("408a"),f=a("58a8").trim,O="Number",j=n[O],v=j.prototype,N=n.TypeError,k=o("".slice),x=o("".charCodeAt),E=function(e){var t=g(e,"number");return"bigint"==typeof t?t:C(t)},C=function(e){var t,a,r,n,o,i,c,l,s=g(e,"number");if(d(s))throw N("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=f(s),t=x(s,0),43===t||45===t){if(a=x(s,2),88===a||120===a)return NaN}else if(48===t){switch(x(s,1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+s}for(o=k(s,2),i=o.length,c=0;c<i;c++)if(l=x(o,c),l<48||l>n)return NaN;return parseInt(o,r)}return+s};if(i(O,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var P,V=function(e){var t=arguments.length<1?0:j(E(e)),a=this;return u(v,a)&&p((function(){b(a)}))?s(Object(t),a,V):t},D=r?m(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),M=0;D.length>M;M++)l(j,P=D[M])&&!l(V,P)&&h(V,P,y(j,P));V.prototype=v,v.constructor=V,c(n,O,V)}},addb:function(e,t,a){var r=a("4dae"),n=Math.floor,o=function(e,t){var a=e.length,l=n(a/2);return a<8?i(e,t):c(e,o(r(e,0,l),t),o(r(e,l),t),t)},i=function(e,t){var a,r,n=e.length,o=1;while(o<n){r=o,a=e[o];while(r&&t(e[r-1],a)>0)e[r]=e[--r];r!==o++&&(e[r]=a)}return e},c=function(e,t,a,r){var n=t.length,o=a.length,i=0,c=0;while(i<n||c<o)e[i+c]=i<n&&c<o?r(t[i],a[c])<=0?t[i++]:a[c++]:i<n?t[i++]:a[c++];return e};e.exports=o},b3b9:function(e,t,a){"use strict";a.r(t);a("b0c0"),a("4de4"),a("d3b7");var r=a("7a23"),n={class:"container category-list"},o={key:0,class:"edit-area"},i={key:1,class:"columns",id:"category-main-content"},c={class:"column is-3 pr-6"},l={key:0,class:"mt-6"},s={class:"menu"},u=Object(r["createElementVNode"])("p",{class:"menu-label",translate:"yes"}," Sub-Categories ",-1),d={class:"menu-list"},g={class:"column is-9"},p={key:0,class:"breadcrumb mb-2","aria-label":"breadcrumbs"},m={class:"is-active"},y={class:"column"},h={key:0,class:"title mb-0"},b={key:1,class:"title is-6 mb-5 has-text-grey-dark"},f={key:2,translate:"yes",class:"title is-1 title-products"},O={key:1},j={key:0},v={key:1},N={key:2},k={class:"columns"},x={class:"column is-12"},E={key:0,class:"title is-1"},C={key:2};function P(e,t,a,P,V,D){var M=Object(r["resolveComponent"])("font-awesome-icon"),$=Object(r["resolveComponent"])("router-link"),F=Object(r["resolveComponent"])("category-filter"),S=Object(r["resolveComponent"])("category-paging"),T=Object(r["resolveComponent"])("product-box"),B=Object(r["resolveComponent"])("page-detail-content"),I=Object(r["resolveComponent"])("error-page");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[D.userCanEdit&&(V.categoryDetail&&V.categoryDetail.pathSlug||V.page)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[V.categoryDetail&&V.categoryDetail.pathSlug?(Object(r["openBlock"])(),Object(r["createBlock"])($,{key:0,class:"editor-button edit-button",to:{name:"categoryNewEdit",params:{category:V.categoryDetail.pathSlug}}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(M,{icon:"edit"})]})),_:1},8,["to"])):Object(r["createCommentVNode"])("",!0),V.page&&V.page.slug?(Object(r["openBlock"])(),Object(r["createBlock"])($,{key:1,class:"editor-button edit-button",to:{name:"pageNewEdit",params:{slug:V.page.slug}}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(M,{icon:"edit"})]})),_:1},8,["to"])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0),V.products&&V.products.length>0||V.page&&V.page.data?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",i,[Object(r["createElementVNode"])("div",c,[V.categories&&V.categories.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",l,[Object(r["createElementVNode"])("aside",s,[u,Object(r["createElementVNode"])("ul",d,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(this.categories,(function(t,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:a},[Object(r["createVNode"])($,{title:t.descriptionShort[e.$store.state.language.code],to:{name:"categoryList",params:{category:t.pathSlug}}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name[e.$store.state.language.code]),1)]})),_:2},1032,["title","to"])])})),128))])])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(F,{ref:"categoryFilter",filter:V.filter,categoryMinMaxPrice:D.categoryMinMax,categoryType:D.getCategoryType()},null,8,["filter","categoryMinMaxPrice","categoryType"])]),Object(r["createElementVNode"])("div",g,[V.breadcrumbs&&null!=V.breadcrumbs&&V.breadcrumbs.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",p,[Object(r["createElementVNode"])("ul",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(V.breadcrumbs,(function(t,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:a},[Object(r["createVNode"])($,{title:t.name[e.$store.state.language.code],to:{name:"categoryList",params:{category:t.pathSlug}}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name[e.$store.state.language.code]),1)]})),_:2},1032,["title","to"])])})),128)),Object(r["createElementVNode"])("li",m,[Object(r["createVNode"])($,{title:V.categoryDetail.name[e.$store.state.language.code],to:{name:"categoryList",params:{category:V.categoryDetail.pathSlug}},"aria-current":"page"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(V.categoryDetail.name[e.$store.state.language.code]),1)]})),_:1},8,["title","to"])])])])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("div",{class:"columns category-header mt-2",style:Object(r["normalizeStyle"])({backgroundImage:"url("+D.getCategoryBackground()+")"})},[Object(r["createElementVNode"])("div",y,[V.categoryDetail?(Object(r["openBlock"])(),Object(r["createElementBlock"])("h1",h,Object(r["toDisplayString"])(V.categoryDetail.name[e.$store.state.language.code]),1)):Object(r["createCommentVNode"])("",!0),V.categoryDetail?(Object(r["openBlock"])(),Object(r["createElementBlock"])("h2",b,Object(r["toDisplayString"])(V.categoryDetail.descriptionShort[e.$store.state.language.code]),1)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("h1",f,"Products"))])],4),V.products&&V.products.length>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",O,[Object(r["createVNode"])(S,{ref:"categoryPaging",total:D.categoryProductsTotalForPaging},null,8,["total"]),"products"==V.itemsToListType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",j,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(V.products,(function(t,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"tile is-ancestor",key:V.groupsLastRefresh+a},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])($,{key:V.groupsLastRefresh+t._id+(a+n),class:"tile is-parent is-4",title:t.descriptionShort[e.$store.state.language.code],to:{name:"productDetail",params:{category:V.categoryDetail.pathSlug,product:t._id,slug:t.slug}}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(T,{product:t,listType:V.itemsToListType,hideBuyButton:"true"},null,8,["product","listType"])]})),_:2},1032,["title","to"])})),128))])})),128))])):Object(r["createCommentVNode"])("",!0),"pages"==V.itemsToListType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",v,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(V.products,(function(t,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"tile is-ancestor",key:V.groupsLastRefresh+a},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])($,{key:V.groupsLastRefresh+t._id+(a+n),class:"tile is-parent is-4",title:t.descriptionShort[e.$store.state.language.code],to:{name:"pageDetailShort",params:{category:V.categoryDetail.pathSlug,slug:t.slug}}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(T,{product:t,listType:V.itemsToListType},null,8,["product","listType"])]})),_:2},1032,["title","to"])})),128))])})),128))])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(S,{ref:"categoryPaging",bottom:!0,total:D.categoryProductsTotalForPaging},null,8,["total"])])):V.page&&V.page.data?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",N,[Object(r["createElementVNode"])("div",k,[Object(r["createElementVNode"])("div",x,[V.page.data&&V.page.data.name?(Object(r["openBlock"])(),Object(r["createElementBlock"])("h1",E,Object(r["toDisplayString"])(V.page.data.name[e.$store.state.language.code]),1)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(B,{content:D.categoryTypePageContent,contentData:D.categoryTypePageData,contentLang:V.language.code},null,8,["content","contentData","contentLang"])])])])):Object(r["createCommentVNode"])("",!0)])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",C,[Object(r["createVNode"])(I)]))])}a("159b"),a("b64b"),a("ac1f"),a("1276"),a("498a"),a("25f0"),a("a434"),a("a15b"),a("4e82");var V=a("5ac7"),D={key:0,class:"mt-6"},M={class:"menu"},$=Object(r["createElementVNode"])("p",{class:"menu-label",translate:"yes"}," Filter ",-1),F={class:"menu-list"},S={class:"control has-text-centered is-size-7"},T={key:0},B=Object(r["createElementVNode"])("span",{id:"products-filter-count-filtered",translate:"yes"},"Filtered",-1),I=Object(r["createTextVNode"])(": "),L=Object(r["createTextVNode"])(" / "),q=Object(r["createElementVNode"])("span",{id:"products-filter-count-total",translate:"yes"},"Total",-1),w=Object(r["createTextVNode"])(": "),R={class:"panel-block pb-4"},_={class:"control has-icons-left"},A=Object(r["createElementVNode"])("span",{class:"icon is-small is-left"},[Object(r["createElementVNode"])("i",{class:"fas fa-search","aria-hidden":"true"})],-1),U={key:0,class:"panel-block py-4"},G={class:"panel-block-multiwrapper"},z=Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("label",{class:"label",id:"filter_price",translate:"yes"},"Price")],-1),J={slider:"",class:"slider-range"},K={class:"slider-range-controls"},Q=Object(r["createElementVNode"])("div",{"inverse-left":"",style:{width:"0%"}},null,-1),W=Object(r["createElementVNode"])("div",{"inverse-right":"",style:{width:"0%"}},null,-1),X=Object(r["createElementVNode"])("div",{range:"",style:{left:"0%",right:"0%"}},null,-1),Y=Object(r["createElementVNode"])("span",{thumb:"left",style:{left:"0%"}},null,-1),H=Object(r["createElementVNode"])("span",{thumb:"right",style:{left:"100%"}},null,-1),Z={sign:"left",style:{left:"0%"}},ee={class:"value"},te={sign:"right",style:{left:"100%"}},ae={class:"value"},re=["value","max","min"],ne=["value","max","min"],oe={key:1,class:"panel-block py-4"},ie={class:"panel-block-multiwrapper"},ce=Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("label",{class:"label"},[Object(r["createElementVNode"])("span",{id:"filter_sortby",translate:"yes"},"Sort by"),Object(r["createTextVNode"])(":")])],-1),le={class:"control has-text-centered"},se={class:"select is-small is-centered"},ue=Object(r["createElementVNode"])("option",{value:"price"},"Price Ascending",-1),de=Object(r["createElementVNode"])("option",{value:"-price"},"Price Descending",-1),ge=Object(r["createElementVNode"])("option",{value:"-dates.dateCreated"},"Latest",-1),pe=Object(r["createElementVNode"])("option",{value:"stockAmount"},"On Stock Amount",-1),me=[ue,de,ge,pe],ye={key:2,class:"panel-block py-4"},he={class:"panel-block-multiwrapper"},be=Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("label",{class:"label"},[Object(r["createElementVNode"])("span",{translate:"yes"},"Sort by"),Object(r["createTextVNode"])(":")])],-1),fe={class:"control has-text-centered"},Oe={class:"select is-small is-centered"},je=Object(r["createElementVNode"])("option",{value:"-dates.dateCreated"},"Latest",-1),ve=Object(r["createElementVNode"])("option",{value:"dates.dateCreated"},"Oldest",-1),Ne=[je,ve];function ke(e,t,a,n,o,i){return i.categoryTotalCount>0?(Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",D,[Object(r["createElementVNode"])("aside",M,[$,Object(r["createElementVNode"])("ul",F,[Object(r["createElementVNode"])("li",null,[Object(r["createElementVNode"])("p",S,[i.countsDoNotMatch?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",T,[B,I,Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(i.filteredCount),1),L])):Object(r["createCommentVNode"])("",!0),q,w,Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(i.categoryTotalCount),1)])]),Object(r["createElementVNode"])("li",R,[Object(r["createElementVNode"])("p",_,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{class:"input is-small",type:"text",translate:"yes",placeholder:"search","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.tempFilter.stringFilter=e}),onKeyup:t[1]||(t[1]=function(){return i.stringFilterChange&&i.stringFilterChange.apply(i,arguments)})},null,544),[[r["vModelText"],o.tempFilter.stringFilter,void 0,{trim:!0}]]),A])]),"products"==a.categoryType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",U,[Object(r["createElementVNode"])("div",G,[z,Object(r["createElementVNode"])("div",J,[Object(r["createElementVNode"])("div",K,[Q,W,X,Y,H,Object(r["createElementVNode"])("div",Z,[Object(r["createElementVNode"])("span",ee,Object(r["toDisplayString"])(i.categoryPriceMin),1)]),Object(r["createElementVNode"])("div",te,[Object(r["createElementVNode"])("span",ae,Object(r["toDisplayString"])(i.categoryPriceMax),1)])]),Object(r["createElementVNode"])("input",{type:"range",position:"left",tabindex:"0",value:i.filterPriceMin,max:i.categoryPriceMax,min:i.categoryPriceMin,step:"1",onInput:t[2]||(t[2]=function(){return i.priceSliderChange&&i.priceSliderChange.apply(i,arguments)})},null,40,re),Object(r["createElementVNode"])("input",{type:"range",position:"right",tabindex:"0",value:i.filterPriceMax,max:i.categoryPriceMax,min:i.categoryPriceMin,step:"1",onInput:t[3]||(t[3]=function(){return i.priceSliderChange&&i.priceSliderChange.apply(i,arguments)})},null,40,ne)])])])):Object(r["createCommentVNode"])("",!0),"products"==a.categoryType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",oe,[Object(r["createElementVNode"])("div",ie,[ce,Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",le,[Object(r["createElementVNode"])("div",se,[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.tempFilter.sort=e}),onChange:t[5]||(t[5]=function(){return i.changeSorting&&i.changeSorting.apply(i,arguments)})},me,544),[[r["vModelSelect"],o.tempFilter.sort]])])])])])])):Object(r["createCommentVNode"])("",!0),"pages"==a.categoryType?(Object(r["openBlock"])(),Object(r["createElementBlock"])("li",ye,[Object(r["createElementVNode"])("div",he,[be,Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",fe,[Object(r["createElementVNode"])("div",Oe,[Object(r["withDirectives"])(Object(r["createElementVNode"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.tempFilter.sort=e}),onChange:t[7]||(t[7]=function(){return i.changeSorting&&i.changeSorting.apply(i,arguments)})},Ne,544),[[r["vModelSelect"],o.tempFilter.sort]])])])])])])):Object(r["createCommentVNode"])("",!0)])])])):Object(r["createCommentVNode"])("",!0)}var xe=a("5b55"),Ee=(a("56d7"),{data:function(){return{eventTimeoutId:null,tempFilter:{page:1,minMaxPrice:{min:0,max:0},stringFilter:"",sort:this.getDefaultSorting()},introMinMaxPrice:{min:null,max:null}}},mounted:function(){console.log("getCategoryType:",this.getCategoryType()),this.eventBus.emit("translateContent",this.$store.getters.getTranslates)},props:["filter","categoryMinMaxPrice","categoryType"],computed:{filterPriceMin:function(){return 0!==this.tempFilter.minMaxPrice.min?this.tempFilter.minMaxPrice.min:this.categoryPriceMin},filterPriceMax:function(){return 0!==this.tempFilter.minMaxPrice.max?this.tempFilter.minMaxPrice.max:this.categoryPriceMax},categoryPriceMin:function(){return"undefined"!==typeof this.categoryMinMaxPrice&&this.categoryMinMaxPrice.min<this.categoryMinMaxPrice.max?this.categoryMinMaxPrice.min:0},categoryPriceMax:function(){return"undefined"!==typeof this.categoryMinMaxPrice&&this.categoryMinMaxPrice.max>this.categoryMinMaxPrice.min?this.categoryMinMaxPrice.max:0},filteredCount:function(){return"undefined"!==typeof this.$parent?this.$parent.getCategoryFilteredCount():0},categoryTotalCount:function(){return"undefined"!==typeof this.$parent&&"undefined"!==typeof this.$parent.categoryDetail&&this.$parent.categoryDetail&&this.$parent.categoryDetail.count&&this.$parent.categoryDetail.count>0?this.$parent.categoryDetail.count:0},countsDoNotMatch:function(){return this.filteredCount>0&&this.filteredCount!==this.categoryTotalCount}},methods:{stringFilterChange:function(e){var t=e.target;this.$parent.filter.stringFilter=t.value,this.requestFilteredProductList()},priceSliderChange:function(e){var t="undefined"!==typeof e.forceValue?e.forceValue:null,a=e.target,r=a.getAttribute("position"),n="",o=0,i=null;"left"===r?(n="right",o=-1,i=a.parentNode.querySelector("input[type=range][position="+n+"]"),a.value=Math.min(a.value,parseInt(i.value)+o)):(r="right",n="left",o=1,i=a.parentNode.querySelector("input[type=range][position="+n+"]"),a.value=Math.max(a.value,parseInt(i.value)+o));var c=null,l=this.$parent.getCategoryMinMax();null!==t?(0===a.min&&"undefined"!==typeof l.min&&(a.min=l.min),0===a.max&&"undefined"!==typeof l.max&&(a.max=l.max),c=100/(parseInt(a.max)-parseInt(a.min))*parseInt(t)-100/(parseInt(a.max)-parseInt(a.min))*parseInt(a.min),a.value=t):(0===a.value&&("left"===r&&l&&(a.value=l.min),"right"===r&&l&&(a.value=l.max)),c=100/(parseInt(a.max)-parseInt(a.min))*parseInt(a.value)-100/(parseInt(a.max)-parseInt(a.min))*parseInt(a.min));var s=a.parentNode.querySelector(".slider-range-controls");"left"===r?(s.querySelector("[inverse-"+r+"]").style.width=c+"%",s.querySelector("[range]").style.left=c+"%"):(s.querySelector("[inverse-"+r+"]").style.width=100-c+"%",s.querySelector("[range]").style.right=100-c+"%"),s.querySelector("[thumb="+r+"]").style.left=c+"%",s.querySelector("[sign="+r+"]").style.left=c+"%",0===a.value?("right"===r&&"undefined"!==typeof l.max&&l.max>0&&(s.querySelector("[sign="+r+"] .value").innerText=l.max),"left"===r&&"undefined"!==typeof l.min&&l.min>0&&(s.querySelector("[sign="+r+"] .value").innerText=l.min)):s.querySelector("[sign="+r+"] .value").innerText=a.value;var u={};"left"===r?(u.min=a.value,u.max=i.value):(u.min=i.value,u.max=a.value),this.tempFilter.minMaxPrice=u,null===t&&!1===this.$parent.introLoading&&this.requestFilteredProductList()},requestFilteredProductList:function(){var e=this;clearTimeout(this.eventTimeoutId),this.eventTimeoutId=setTimeout((function(){e.$root.loadingShow(),e.$httpc.post(e.getCategoryType()+"/filter",e.buildFilterRequestObject(),{timeout:7e3}).then((function(t){var a=e.$parent.categoryDetail;t.data={categories:e.$parent.categories,categoryDetail:a,filter:t.data.filter,results:t.data.results,filteredProductsCount:t.data.filteredProductsCount},e.changeFilterUrl(),e.$parent.processCategoryResponse(t)})).catch((function(e){console.log(e)}))}),1e3)},buildFilterRequestObject:function(e){var t=this.tempFilter;"undefined"!==typeof e&&e&&(t=e);var a=null;if("undefined"!==typeof this.$parent.categoryDetail&&this.$parent.categoryDetail){t.category={_id:this.$parent.categoryDetail._id,pathSlug:this.$parent.categoryDetail.pathSlug,subsSlugs:this.$parent.categoryDetail.subsSlugs};var r=t.category.subsSlugs;r.unshift(t.category.pathSlug),a={$in:r}}var n={query:{categories:a},limit:xe["a"].PER_PAGE,sort:t.sort};if(t.page>1){var o=Math.abs(t.page-1)*xe["a"].PER_PAGE;o>0&&(n.offset=o)}t.stringFilter&&""!==t.stringFilter.trim()&&(n.query["name."+this.$store.state.language.code]={$regex:t.stringFilter});var i="undefined"!==typeof t.minMaxPrice&&"undefined"!==typeof t.minMaxPrice.min?t.minMaxPrice.min:0,c="undefined"!==typeof t.minMaxPrice&&"undefined"!==typeof t.minMaxPrice.max?t.minMaxPrice.max:0;return(i>this.categoryPriceMin||c<this.categoryPriceMax)&&i!==c&&c>0&&(n.query.price={$gte:parseFloat(i),$lte:parseFloat(c)}),n},changeFilterUrl:function(){var e=this.filterObjectToQueryString();""!==e&&history.pushState({},null,e)},filterObjectToQueryString:function(){var e=[],t="";return this.tempFilter.page>1&&e.push("page="+encodeURIComponent(parseInt(this.tempFilter.page))),this.tempFilter.minMaxPrice.min>this.categoryPriceMin&&e.push("price-min="+encodeURIComponent(this.tempFilter.minMaxPrice.min)),this.tempFilter.minMaxPrice.max<this.categoryPriceMax&&e.push("price-max="+encodeURIComponent(this.tempFilter.minMaxPrice.max)),""!==this.tempFilter.stringFilter.trim()&&e.push("string="+encodeURIComponent(this.tempFilter.stringFilter.trim())),""!==this.tempFilter.sort.trim()&&this.tempFilter.sort!==this.filter.sort&&e.push("sort="+encodeURIComponent(this.tempFilter.sort.trim())),e.length>0&&(t=this.$route.path+"?"+e.join("&")),t},setActivePage:function(e){this.tempFilter.page=e,this.requestFilteredProductList()},changeSorting:function(e){this.tempFilter.sort=e.target.value,this.requestFilteredProductList()},setTempFilter:function(e){var t=this,a=!1,r={target:this.$el.querySelector("input[type=range][position=left]")},n={target:this.$el.querySelector("input[type=range][position=right]")};Object.keys(e).forEach((function(o){"undefined"!==typeof t.tempFilter[o]&&(t.tempFilter[o]=e[o],"minMaxPrice"===o&&(r.forceValue=t.tempFilter.minMaxPrice.min,n.forceValue=t.tempFilter.minMaxPrice.max,a=!0))})),a&&(this.priceSliderChange(r),this.priceSliderChange(n))},getCategoryType:function(){return this.categoryType?this.categoryType:"products"},getDefaultSorting:function(){return"pages"===this.getCategoryType()?xe["a"].PRODUCT_DEFAULT_SORTING:xe["a"].PAGE_DEFAULT_SORTING}}}),Ce=(a("b67a"),a("6b0d")),Pe=a.n(Ce);const Ve=Pe()(Ee,[["render",ke]]);var De=Ve,Me={key:0},$e={key:0},Fe=Object(r["createElementVNode"])("button",{class:"button"},"Load More ...",-1),Se=[Fe];function Te(e,t,a,n,o,i){var c=Object(r["resolveComponent"])("o-pagination");return a.total>o.perPage?(Object(r["openBlock"])(),Object(r["createElementBlock"])("section",Me,[Object(r["createVNode"])(c,{total:a.total,current:o.current,"onUpdate:current":t[0]||(t[0]=function(e){return o.current=e}),order:o.order,size:o.size,simple:o.isSimple,rounded:o.isRounded,"per-page":o.perPage,onChange:i.pagingChanged,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},null,8,["total","current","order","size","simple","rounded","per-page","onChange"]),1==a.bottom?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",$e,Se)):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)}a("a9e3");var Be={data:function(){return{current:1,perPage:xe["a"].PER_PAGE,order:"is-centered",size:"is-small",isSimple:!1,isRounded:!0}},props:{bottom:Boolean,total:{type:Number,required:!0}},methods:{pagingChanged:function(e){this.current=e,this.$parent.$refs.categoryFilter.setActivePage(e),console.log("value:",e)}}};const Ie=Pe()(Be,[["render",Te]]);var Le=Ie,qe=a("d509"),we=a("6bbc"),Re={name:"CategoryList",components:{"product-box":V["a"],"category-filter":De,"category-paging":Le,"page-detail-content":qe["a"],"error-page":we["a"]},data:function(){return{categories:[],filteredProductsCount:null,products:[],page:null,itemsToListType:"products",breadcrumbs:[],categoryDetail:null,filter:{minMaxPrice:{min:0,max:0},stringFilter:"",sort:xe["a"].PRODUCT_DEFAULT_SORTING},language:"en",groupsLastRefresh:0,introLoading:!1}},computed:{categoryMinMax:function(){return this.categoryDetail&&"undefined"!==typeof this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:{min:null,max:null}},categoryBackground:function(){return!!(this.categoryDetail&&this.categoryDetail.data&&this.categoryDetail.data.images&&this.categoryDetail.data.images.background)},categoryProductsTotalForPaging:function(){return"undefined"!==typeof this.filteredProductsCount&&null!==this.filteredProductsCount?this.filteredProductsCount:"undefined"!==typeof this.categoryDetail.count&&this.categoryDetail.count?this.categoryDetail.count:0},userCanEdit:function(){return!!(this.$store.state&&this.$store.state.user&&this.$store.state.user.logged&&this.$store.state.user.profile&&this.$store.state.user.profile.type&&"admin"===this.$store.state.user.profile.type)},categoryTypePageContent:function(){return this.page&&this.page.data&&this.page.data.blocks&&this.page.data.blocks[0]&&this.page.data.blocks[0][this.$store.state.language.code]?this.page.data.blocks[0][this.$store.state.language.code]:""},categoryTypePageData:function(){return this.page&&this.page.functions&&this.page.functions.length>0?this.page.functions:null}},mounted:function(){var e=this;this.$store&&this.$store.state&&this.$store.state.language&&this.$store.state.language.code&&this.$store.state.user?this.listCategoryItems(!0):this.eventBus.on("coreDataLoaded",(function(){e.listCategoryItems(!0)}))},methods:{processCategoryResponse:function(e){var t=new Date,a=this;this.groupsLastRefresh=t.getTime();var r=null;if(e.data.categoryDetail&&(this.categoryDetail=e.data.categoryDetail,e.data.categoryDetail.parentCategories&&(this.breadcrumbs=e.data.categoryDetail.parentCategories),r=this.categoryDetail.taxData?this.categoryDetail.taxData:a.$store.state.coredata.settings),e.data.categories&&(this.categories=e.data.categories),e.data.filteredProductsCount&&(this.filteredProductsCount=e.data.filteredProductsCount),e.data.results){var n=e.data.results,o=null;e.data.categoryDetail&&e.data.categoryDetail.pathSlug&&(e.data.categoryDetail.type&&(o=e.data.categoryDetail.type),n.forEach((function(t){t=a.$helpers.getProductTaxData(t,r),t.activeParentCategoryUrl=e.data.categoryDetail.pathSlug}))),null===o&&n&&n[0]&&n[0].type?this.itemsToListType=n[0].type+"s":this.itemsToListType=o,this.products=this.$store.state.chunk(n,xe["a"].PER_ROW)}if(e.data.filter){var i=Object.assign({},this.filter);this.filter=e.data.filter;var c=this;Object.keys(i).forEach((function(e){"undefined"!==typeof c.filter[e]&&null!==c.filter[e]||(c.filter[e]=i[e])}))}this.$root.loadingClose()},listCategoryItems:function(e){e=!("undefined"===typeof e&&!e);var t=this,a=this.$route.path.split("/").filter(Boolean),r="undefined"!==typeof a[1]?a[1]:"products";if(this.$route.params&&this.$route.params.category&&"''"!==this.$route.params.category.toString().trim())if(this.$root.loadingShow(),e&&Object.keys(this.$route.query).length>0){this.queryStringtoFilter();var n=this.categoryDetail&&"pages"===this.categoryDetail.type?"pageCategoryFilter":"categoryFilter";t.$httpc.post(r+"/"+this.$route.params.category,{filter:this.$refs[n].buildFilterRequestObject(this.filter)},{timeout:7e3}).then((function(e){t.processCategoryResponse(e),"undefined"!==typeof t.$refs[n]&&(t.introLoading=!0,t.$refs[n].setTempFilter(t.filter),t.introLoading=!1)})).catch((function(e){console.log(e)})).then((function(){t.eventBus.emit("translateContent",t.$store.getters.getTranslates)}))}else console.log("listCategoryItems no need to analyse"),this.$httpc.get(r+"/"+this.$route.params.category,{timeout:7e3}).then((function(e){t.processCategoryResponse(e)})).catch((function(e){console.log(e)})).then((function(){t.eventBus.emit("translateContent",t.$store.getters.getTranslates)}));else{console.log("listCategoryItems no slug");var o=this.$route.path,i=o.split("/"),c=t.$store.state.language.code;i.length>1&&(c=i[1],i.splice(0,2),o=i.join("/"));var l=o;this.$httpc.post("categories/find",{query:{parentPathSlug:"",type:l},lang:c}).then((function(e){e.data&&(t.categories=e.data.categories,e.data.page&&e.data.page.data&&(t.page=e.data.page.data))})).catch((function(e){console.log(e)})).then((function(){t.eventBus.emit("pageDetailLoaded")}))}},queryStringtoFilter:function(){var e={minMaxPrice:{}};if("undefined"!==typeof this.$route.query["price-min"]){var t=parseFloat(this.$route.query["price-min"]);t>0&&(e.minMaxPrice.min=t)}if("undefined"!==typeof this.$route.query["price-max"]){var a=parseFloat(this.$route.query["price-max"]);a>0&&(e.minMaxPrice.max=a)}if("undefined"!==typeof this.$route.query.string){var r=decodeURIComponent(this.$route.query.string).trim();""!==r&&(e.stringFilter=r)}if("undefined"!==typeof this.$route.query.sort){var n=decodeURIComponent(this.$route.query.sort).trim();""!==n&&(e.sort=n)}this.filter=e},getCategoryMinMax:function(){return this.categoryDetail&&this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:null},getCategoryFilteredCount:function(){return this.filteredProductsCount&&this.filteredProductsCount>0?this.filteredProductsCount:0},getCategoryType:function(){return this.categoryDetail&&this.categoryDetail.type?this.categoryDetail.type:"products"},getCategoryBackground:function(){return this.categoryDetail&&this.categoryDetail.slug&&this.$store.state.coredata&&this.$store.state.coredata.settings&&this.$store.state.coredata.settings.assets&&this.$store.state.coredata.settings.assets.url?this.$helpers.getImagePath("categories",this.$store.state.coredata,this.categoryDetail.slug,this.categoryDetail.slug+".jpg"):""}}};a("25dc");const _e=Pe()(Re,[["render",P]]);t["default"]=_e},b67a:function(e,t,a){"use strict";a("74ff")},d998:function(e,t,a){var r=a("342f");e.exports=/MSIE|Trident/.test(r)},eabb:function(e,t,a){}}]);
//# sourceMappingURL=chunk-07531ed7.cf9d0fe1.js.map