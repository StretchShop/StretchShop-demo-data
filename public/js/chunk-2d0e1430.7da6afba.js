(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1430"],{"7a4d":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container users-login"},[e._m(0),s("div",{staticClass:"column is-4 is-offset-4"},[s("form",{ref:"loginSubmit",on:{submit:function(t){return t.preventDefault(),e.userLogin.apply(null,arguments)}}},[s("div",{staticClass:"field email"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input",attrs:{placeholder:"Email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._m(1)]),s("div",{staticClass:"field password"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"input",attrs:{placeholder:"Password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._m(2)]),s("div",{staticClass:"field"},[s("span",{attrs:{translate:"yes"}},[e._v("Remember my login on this computer")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.remember,expression:"remember"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.remember)?e._i(e.remember,null)>-1:e.remember},on:{change:function(t){var s=e.remember,r=t.target,a=!!r.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);r.checked?o<0&&(e.remember=s.concat([i])):o>-1&&(e.remember=s.slice(0,o).concat(s.slice(o+1)))}else e.remember=a}}})]),s("button",{staticClass:"button is-medium is-primary",attrs:{type:"submit",translate:"yes"}},[e._v("Login")]),e._m(3)])]),s("div",{staticClass:"column is-4 is-offset-4"},[s("p",{attrs:{translate:"yes"}},[e._v("Forgot your password? "),s("router-link",{attrs:{to:{name:"reset"},tag:"a"}},[e._v("Reset your password")])],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1"},[e._v("Login")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"wrong credentials",translate:"yes"}},[e._v("Wrong credentials")]),s("div",{staticClass:"form-message",attrs:{"data-message":"not activated",translate:"yes"}},[e._v("Account not activated. Check your mailbox for activation email.")]),s("div",{staticClass:"form-message",attrs:{"data-message":"is empty",translate:"yes"}},[e._v("This field cannot be empty")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"is empty",translate:"yes"}},[e._v("This field cannot be empty")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v(" This site is protected by reCAPTCHA and the Google"),s("br"),s("a",{attrs:{href:"https://policies.google.com/privacy"}},[e._v("Privacy Policy")]),e._v(" and "),s("a",{attrs:{href:"https://policies.google.com/terms"}},[e._v("Terms of Service")]),e._v(" apply. ")])}],i=(s("ac6a"),s("456d"),s("5b55")),o={name:"UsersLogin",data:function(){return{email:"",password:"",remember:!1}},created:function(){},methods:{userLogin:function(){var e=this,t=this,s=this.$helpers.propertiesRequiredConfirm({email:this.email,password:this.password},["email","password"]);s.result&&""!=this.email&&""!=this.password?this.$helpers.recaptcha(this,"login").then((function(t){return e.$httpc.post("helpers/recaptcha",{token:t},{timeout:3e3}).then((function(e){return e}))})).catch((function(e){if(console.log("RECAPTCHA NOT WORKING! Make sure you have RECAPTCHA variables set in backend enviroment."),confirm("RECAPTCHA NOT WORKING\nAre you sure you want to Login?\n\nSee console for more information"))return{data:!0}})).then((function(s){s&&1==s.data&&e.$httpc.post("users/login",{user:{email:e.email,password:e.password}}).then((function(e){if(e.data.user&&e.data.user._id){i["a"].COOKIE_TIME;1==t.remember&&i["a"].COOKIE_TIME_REMEMBER;t.$store.state.user.logged=!0,t.$store.state.user.remember=t.remember;var s=e.data.user;t.$store.dispatch("setUser",s),t.$router.push({name:"me"})}})).catch((function(e){e.response&&e.response.data&&e.response.data.errors&&Object.keys(e.response.data.errors).length>0&&Object.keys(e.response.data.errors).forEach((function(s){var r=t.$el.querySelector(".field."+s);if(r){var a=r.querySelector('.form-messages .form-message[data-message="'+e.response.data.errors[s]+'"]');if(a&&null!=a){t.$helpers.undecorateFormField(r,"danger");var i=a.innerText;t.$helpers.decorateFormField(r,i,"danger")}}}))})).then((function(e){}))})):this.$helpers.formUndecorateAndDecorateFields(s.fields,s.errors)}}},n=o,l=s("2877"),c=Object(l["a"])(n,r,a,!1,null,"311a8338",null);t["default"]=c.exports}}]);