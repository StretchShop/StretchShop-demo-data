(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d95965c2"],{"0d41":function(t,s,e){"use strict";var a=e("dbb1"),r=e.n(a);r.a},"836a":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.order?e("div",{attrs:{id:"userOrderDetail"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns is-variable is-8 is-centered"},[e("div",{staticClass:"column is-8"},[e("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[e("ul",[e("li",[e("router-link",{attrs:{to:{name:"userOrders"}}},[e("span",{attrs:{translate:"yes"}},[t._v("Orders")])])],1),e("li",{staticClass:"is-active"},[e("a",{attrs:{"aria-current":"page"}},[e("span",{staticClass:"order-word",attrs:{translate:"yes"}},[t._v("Order")]),t._v(" "),e("span",{staticClass:"order-title"},[t._v("#"),e("strong",[t._v(t._s(t.splitTitle(t.order._id)[0]))]),t._v(t._s(t.splitTitle(t.order._id)[1]))])])])])])])])]),e("h2",{staticClass:"title is-2"},[e("span",{attrs:{translate:"yes"}},[t._v("Order")]),e("span",{staticClass:"order-title"},[t._v(" #"),e("strong",[t._v(t._s(t.splitTitle(t.order._id)[0]))]),t._v(t._s(t.splitTitle(t.order._id)[1])+" ")])]),e("div",{staticClass:"container"},[t.order.dates?e("div",{staticClass:"columns is-variable is-8 is-centered orderProgressVisual"},[e("div",{staticClass:"column is-8"},[e("div",{staticClass:"b-steps"},[e("nav",{staticClass:"steps"},[e("ul",{staticClass:"step-items"},[e("li",{class:t.order.dates.dateCreated?"step-item is-previous":"step-item"},[e("a",{staticClass:"step-link"},[e("div",{staticClass:"step-marker"}),e("div",{staticClass:"step-details"},[e("span",{staticClass:"step-title"},[e("span",{attrs:{translate:"yes"}},[t._v("Created")]),e("span",{staticClass:"step-date"},[t._v(t._s(t.order.dates.dateCreated))])])])])]),e("li",{class:t.order.dates.datePaid?"step-item is-previous":"step-item"},[e("a",{staticClass:"step-link"},[e("div",{staticClass:"step-marker"}),e("div",{staticClass:"step-details"},[e("span",{staticClass:"step-title"},[e("span",{attrs:{translate:"yes"}},[t._v("Paid")]),e("span",{staticClass:"step-date"},[t._v(t._s(t.order.dates.datePaid))])])])])]),e("li",{class:t.order.dates.dateExpeded?"step-item is-previous":"step-item"},[e("a",{staticClass:"step-link"},[e("div",{staticClass:"step-marker"}),e("div",{staticClass:"step-details"},[e("span",{staticClass:"step-title"},[e("span",{attrs:{translate:"yes"}},[t._v("Expeded")]),e("span",{staticClass:"step-date"},[t._v(t._s(t.order.dates.dateExpeded))])])])])])])])])])]):t._e()]),e("div",{staticClass:"container order-detail-data"},[e("div",{staticClass:"columns is-variable is-8"},[e("div",{staticClass:"column is-12"},[e("span",{attrs:{translate:"yes"}},[t._v("Your available actions")]),t._v(": "),t.isOrderPaymentCodename("online_paypal_paypal")?e("div",[t.order.dates&&!t.order.dates.datePaid?e("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(s){return t.makePayment()}}},[e("span",{attrs:{translate:"yes"}},[t._v("Pay order")])]):t._e()]):e("div",{attrs:{translate:"yes",id:"order-detail--available-action--none"}},[t._v(" none ")])])])]),e("div",{staticClass:"container order-detail-data"},[e("div",{staticClass:"columns is-variable is-8"},[e("div",{staticClass:"column is-6"},[null!=t.order.items&&t.order.items&&t.order.items.length>0?e("div",[e("div",{staticClass:"columns is-variable is-8"},[e("div",{staticClass:"column is-12"},[e("div",{staticClass:"b-table"},[e("div",{staticClass:"table-wrapper"},[e("table",{staticClass:"table is-hoverable is-striped is-fullwidth"},[t._m(0),e("tbody",t._l(t.order.items,(function(s,a){return e("tr",{key:a},[e("th",[t._v(" "+t._s(s.name[t.$store.state.language.code])+" ")]),e("td",{staticClass:"cartItemAmount has-text-right"},[t._v(" "+t._s(s.amount)+" ")]),e("td",{staticClass:"has-text-right"},[e("span",[t._v(t._s(t.$store.state.numeral(s.price).format("0.00")))]),e("span",[t._v(t._s(t.$store.state.currency.symbol))])])])})),0),e("tfoot",[t.order.prices&&t.order.prices.priceItems?e("tr",[e("td"),t._m(1),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t.$store.state.numeral(t.order.prices.priceItems).format("0.00"))+" "+t._s(t.$store.state.currency.symbol)+" ")])]):t._e(),t.order.prices&&t.order.prices.priceDelivery?e("tr",[e("td"),t._m(2),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t.$store.state.numeral(t.order.prices.priceDelivery).format("0.00"))+" "+t._s(t.$store.state.currency.symbol)+" ")])]):t._e(),t.order.prices&&t.order.prices.pricePayment?e("tr",[e("td"),t._m(3),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t.$store.state.numeral(t.order.prices.pricePayment).format("0.00"))+" "+t._s(t.$store.state.currency.symbol)+" ")])]):t._e(),t.order.prices&&t.order.prices.priceTotal?e("tr",[e("td"),t._m(4),e("td",{staticClass:"has-text-right"},[e("strong",[t._v(t._s(t.$store.state.numeral(t.order.prices.priceTotal).format("0.00")))]),t._v(" "+t._s(t.$store.state.currency.symbol)+" ")])]):t._e()])])])])])])]):e("div",[t._m(5)])]),e("div",{staticClass:"column is-6"},[e("div",{staticClass:"columns is-variable is-2"},[e("div",{staticClass:"column is-6"},[e("h3",{staticClass:"title is-5",attrs:{translate:"yes"}},[t._v("You are ordering to:")]),e("div",{staticClass:"summary-block with-pre-whitespace"},[t._v(t._s(t.invoiceAddress()))])]),t.checkDeliveryAddress()?e("div",{staticClass:"column is-6"},[e("h3",{staticClass:"title is-5",attrs:{translate:"yes"}},[t._v("With delivery to:")]),e("div",{staticClass:"summary-block with-pre-whitespace"},[t._v(t._s(t.deliveryAddress()))])]):e("div",{staticClass:"column is-6"},[e("h3",{staticClass:"title is-5",attrs:{translate:"yes"}},[t._v("With delivery to:")]),e("div",{staticClass:"summary-block",attrs:{translate:"yes"}},[t._v("same as invoice address")])])]),e("div",{staticClass:"columns is-variable is-2"},[e("div",{staticClass:"column is-6",attrs:{id:"order-detail--delivery-settings"}},[e("h3",{staticClass:"title is-5",attrs:{translate:"yes"}},[t._v("Your Delivery settings:")]),t.checkDeliveryData()?e("div",{staticClass:"content summary-block"},t._l(t.deliveryData(),(function(s,a){return e("div",{key:a},[e("p",[e("span",{staticClass:"capitalize"},[t._v(t._s(s.type))]),t._v(" - "),e("strong",[t._v(t._s(s.name))]),t._v(": "+t._s(t.$store.state.numeral(s.price).format("0.00"))+" "+t._s(t.$store.state.currency.symbol)+" ")])])})),0):t._e()]),t.checkPaymentData()?e("div",{staticClass:"column is-6"},[e("div",{attrs:{id:"order-detail--payment-settings"}},[e("h3",{staticClass:"title is-5",attrs:{translate:"yes"}},[t._v("Your Payment settings:")]),t.paymentData()?e("div",{staticClass:"content summary-block"},[e("p",[e("strong",[t._v(t._s(t.paymentData().name))]),t._v(": "+t._s(t.$store.state.numeral(t.paymentData().price).format("0.00"))+" "+t._s(t.$store.state.currency.symbol))])]):t._e()])]):t._e()])])])])]):t._e()},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{},[e("div",{staticClass:"th-wrap",attrs:{translate:"yes"}},[t._v("Name")])]),e("th",{},[e("div",{staticClass:"th-wrap is-pulled-right",attrs:{translate:"yes"}},[t._v("Qty")])]),e("th",{},[e("div",{staticClass:"th-wrap is-pulled-right",attrs:{translate:"yes"}},[t._v("Price")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("td",{staticClass:"has-text-right"},[e("strong",{attrs:{translate:"yes"}},[t._v("Products Total")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("td",{staticClass:"has-text-right"},[e("span",{attrs:{translate:"yes"}},[t._v("Price delivery")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("td",{staticClass:"has-text-right"},[e("span",{attrs:{translate:"yes"}},[t._v("Price payment")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("td",{staticClass:"has-text-right"},[e("strong",{attrs:{translate:"yes"}},[t._v("Total price")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("h3",{staticClass:"title is-3"},[e("span",{attrs:{translate:"yes"}},[t._v("No items in this order")])])}],i=(e("7f7f"),e("ac6a"),e("456d"),e("56d7")),d={name:"userOrderDetail",data:function(){return{order:null}},created:function(){this.getOrder(this.$route.params.id)},methods:{getOrder:function(t){var s=this,e={timeout:3e3,needsAuth:!0},a={query:{_id:t},limit:1};this.$httpc.post("order/list",a,e).then((function(t){t&&t.data&&1==t.data.length&&(s.order=t.data[0])})).catch((function(t){console.log(t)})).then((function(){i["eventBus"].$emit("translateContent",s.$store.getters.getTranslates)}))},splitTitle:function(t){return[t.slice(0,7),t.slice(7)]},checkDeliveryAddress:function(){return!!(this.order&&this.order.addresses&&this.order.addresses.deliveryAddress&&Object.keys(this.order.addresses.deliveryAddress).length>0)},invoiceAddress:function(){if(this.$store.state.coredata)return this.$helpers.addressToString(this.order.addresses.invoiceAddress,this.$store.state.coredata.countries,["type"])},deliveryAddress:function(){return this.order.addresses.deliveryAddress?this.$helpers.addressToString(this.order.addresses.deliveryAddress,this.$store.state.coredata.countries,["type"]):null},checkDeliveryData:function(){return!!(this.order&&this.order.data.deliveryData&&this.order.data.deliveryData.codename)},deliveryData:function(){var t=this,s=[];if(this.order&&this.order.data.deliveryData&&this.order.data.deliveryData.codename){var e=this.order.data.deliveryData.codename;if(console.log("deliveryCodenames: ",e,this.order),this.order.settings&&this.order.settings.deliveryMethods){var a=this.order.settings.deliveryMethods;Object.keys(e).forEach((function(r){if(e&&a&&e[r]&&null!=e[r]){var i=e[r];i["type"]=r,i["name"]=i.value,a[r]&&a[r].forEach((function(s){s.type&&s.codename&&s.type==r&&s.codename==i["value"]&&(i["name"]=s.name[t.$store.getters.getLanguage])})),s.push(i)}}))}return s}},checkPaymentData:function(){return!(!this.order||!this.order.data.paymentData)},paymentData:function(){var t=this,s=null;if(this.order&&this.order.data.paymentData){var e="undefined"!==typeof this.order.data.paymentData.name[t.$store.getters.getLanguage]?this.order.data.paymentData.name[t.$store.getters.getLanguage]:this.order.data.paymentData.codename;s={name:e,price:this.order.data.paymentData.price}}return s},isOrderPaymentCodename:function(t){return!!(this.order&&this.order.data&&this.order.data.paymentData&&this.order.data.paymentData.codename&&this.order.data.paymentData.codename==t)},makePayment:function(){console.log("this.order.data.paymentData.codename",this.order.data.paymentData.codename),this.order.data.paymentData.codename.indexOf("online_paypal")>-1&&this.paymentPayPalCall()},paymentPayPalCall:function(){var t=this;t.$httpc.post("/order/paypalcheckout",{orderId:t.order._id,checkoutData:null},{timeout:5e3}).then((function(t){t&&t.data&&t.data.url&&""!=t.data.url.trim()&&(window.location.href=t.data.url)}))}}},n=d,l=(e("0d41"),e("2877")),o=Object(l["a"])(n,a,r,!1,null,null,null);s["default"]=o.exports},dbb1:function(t,s,e){}}]);
//# sourceMappingURL=chunk-d95965c2.c4217cae.js.map