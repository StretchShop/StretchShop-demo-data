(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329c45f4"],{3918:function(e,t,a){"use strict";a("a1ee")},5627:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),l=function(e){return Object(c["pushScopeId"])("data-v-aed3211a"),e=e(),Object(c["popScopeId"])(),e},n={key:0,class:"container category-list"},o={class:"edit-area"},r={class:"field product-edit-language hidden"},i=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Edit Language",-1)})),s={class:"control select"},d=["value"],u={key:0,class:"category-hidden-properties"},g={class:"title is-3","aria-controls":"contentHiddenProperties",translate:"yes"},m=l((function(){return Object(c["createElementVNode"])("span",{translate:"yes"},"Category's hidden properties",-1)})),b=Object(c["createTextVNode"])(),h={class:"editableByAuthor-hidden collapse-content",id:"contentHiddenProperties","aria-expanded":"true"},p={class:"columns"},y={class:"column is-12"},O={key:0,class:"columns"},j={class:"column is-3"},f={class:"field"},v=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Type",-1)})),E={class:"control"},N={class:"column is-3"},V={class:"field"},D=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Subtype",-1)})),k={class:"control"},C={class:"column is-3"},w={class:"field"},x=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"External Id",-1)})),S={class:"control"},B={class:"columns"},$={class:"column is-12"},T={key:0,class:"columns"},I={class:"column is-3"},L={class:"field"},A=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Slug",-1)})),M={class:"control"},P={class:"column is-6"},F={class:"field"},U=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Note",-1)})),_={class:"control"},G={class:"columns"},H={class:"column is-12"},z={key:0,class:"columns"},R={class:"column is-3"},q={class:"field"},J=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Activity Start",-1)})),K={class:"control"},W={class:"column is-3"},Y={class:"field"},Q=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Activity End",-1)})),X={class:"control"},Z={key:0},ee={class:"title is-3","aria-controls":"contentHiddenProperties",translate:"yes"},te=l((function(){return Object(c["createElementVNode"])("span",{translate:"yes"},"Editable by admin user",-1)})),ae=Object(c["createTextVNode"])(),ce={class:"editableByAdmin-hidden"},le={class:"columns"},ne={class:"column is-4 is-offset-4"},oe={class:"field"},re=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Publisher",-1)})),ie={class:"control"},se={class:"column"},de={class:"category-image-wrapper"},ue={class:"file is-primary action edit"},ge={class:"file-label"},me=l((function(){return Object(c["createElementVNode"])("span",{class:"file-cta"},[Object(c["createElementVNode"])("span",{class:"file-icon"},[Object(c["createElementVNode"])("i",{class:"fa fa-file-upload"})]),Object(c["createElementVNode"])("span",{class:"file-label",translate:"yes"}," Click to upload ")],-1)})),be=l((function(){return Object(c["createElementVNode"])("i",{class:"fa fa-trash"},null,-1)})),he=Object(c["createTextVNode"])("Â  "),pe=l((function(){return Object(c["createElementVNode"])("span",{translate:"yes"},"Click to remove",-1)})),ye=[be,he,pe],Oe={key:0,class:"title is-1"},je={key:1,class:"title is-3"},fe={key:2,class:""},ve={key:3,translate:"yes",class:"title is-1 title-products"},Ee={class:"columns"},Ne={class:"column data-main"},Ve={class:"field"},De=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Name",-1)})),ke={class:"control"},Ce={class:"field"},we=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Description Short",-1)})),xe={class:"control"},Se={class:"field"},Be=l((function(){return Object(c["createElementVNode"])("label",{class:"label",translate:"yes"},"Description Long",-1)})),$e={class:"control"},Te={class:"columns"},Ie={class:"column is-3",id:"category-edit-navigation"},Le={key:0,class:"panel"},Ae=l((function(){return Object(c["createElementVNode"])("p",{class:"panel-heading",translate:"yes"}," Sub-Categories ",-1)})),Me={class:"column is-9"},Pe={key:0,class:"breadcrumb","aria-label":"breadcrumbs"},Fe={class:"is-active"},Ue={key:1,class:"columns category-delete"},_e={class:"column is-12"},Ge=l((function(){return Object(c["createElementVNode"])("p",{translate:"yes"},"Warning: This action cannot be undone! This action does not remove category's content!",-1)}));function He(e,t,a,l,be,he){var pe=Object(c["resolveComponent"])("font-awesome-icon"),He=Object(c["resolveComponent"])("o-autocomplete"),ze=Object(c["resolveComponent"])("o-datepicker"),Re=Object(c["resolveComponent"])("o-collapse"),qe=Object(c["resolveComponent"])("router-link"),Je=Object(c["resolveComponent"])("o-inputitems"),Ke=Object(c["resolveComponent"])("o-field");return be.categoryDetail?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("a",{href:"#confirm",class:"editor-button confirm-button",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(e){return he.saveCategory()}),["prevent"]))},[Object(c["createVNode"])(pe,{icon:"check"})]),Object(c["createElementVNode"])("div",r,[i,Object(c["createElementVNode"])("div",s,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return be.newLanguage=e}),onChange:t[2]||(t[2]=function(e){return he.changeEditedLang()})},[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.$store.state.coredata.langs,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("option",{key:t+"langs",value:e},Object(c["toDisplayString"])(e.name),9,d)})),128))],544),[[c["vModelSelect"],be.newLanguage]])])])]),be.editing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createVNode"])(Re,{open:!1,"aria-id":"contentHiddenProperties"},{trigger:Object(c["withCtx"])((function(e){return[Object(c["createElementVNode"])("h3",g,[m,b,Object(c["createVNode"])(pe,{icon:e.open?"angle-down":"angle-up"},null,8,["icon"])])]})),default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",y,[be.editing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",O,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",f,[v,Object(c["createElementVNode"])("div",E,[Object(c["createVNode"])(He,{modelValue:be.categoryDetail.type,"onUpdate:modelValue":t[3]||(t[3]=function(e){return be.categoryDetail.type=e}),placeholder:"e.g. products","keep-first":!0,"open-on-focus":!0,data:be.categoryTypes,field:"categoryDetail.type",clearable:!1},null,8,["modelValue","data"])])])]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",V,[D,Object(c["createElementVNode"])("div",k,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return be.categoryDetail.subtype=e}),translate:"yes",placeholder:"Subtype"},null,512),[[c["vModelText"],be.categoryDetail.subtype]])])])]),Object(c["createElementVNode"])("div",C,[Object(c["createElementVNode"])("div",w,[x,Object(c["createElementVNode"])("div",S,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return be.categoryDetail.externalId=e}),translate:"yes",placeholder:"External Id"},null,512),[[c["vModelText"],be.categoryDetail.externalId]])])])])])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",B,[Object(c["createElementVNode"])("div",$,[be.editing?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",T,[Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("div",L,[A,Object(c["createElementVNode"])("div",M,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input",type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return be.categoryDetail.slug=e}),translate:"yes",placeholder:"Slug"},null,512),[[c["vModelText"],be.categoryDetail.slug]])])])]),Object(c["createElementVNode"])("div",P,[Object(c["createElementVNode"])("div",F,[U,Object(c["createElementVNode"])("div",_,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"textarea","onUpdate:modelValue":t[7]||(t[7]=function(e){return be.categoryDetail.note=e}),translate:"yes",placeholder:"Note"},null,512),[[c["vModelText"],be.categoryDetail.note]])])])])])):Object(c["createCommentVNode"])("",!0)])]),Object(c["createElementVNode"])("div",G,[Object(c["createElementVNode"])("div",H,[be.categoryDetail?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",z,[Object(c["createElementVNode"])("div",R,[Object(c["createElementVNode"])("div",q,[J,Object(c["createElementVNode"])("div",K,[Object(c["createVNode"])(ze,{value:he.getActivity().start,onInput:t[8]||(t[8]=function(e){return he.setActivity("start",e)}),placeholder:"Activity Start DateTime",icon:"calendar-alt","trap-focus":""},null,8,["value"])])])]),Object(c["createElementVNode"])("div",W,[Object(c["createElementVNode"])("div",Y,[Q,Object(c["createElementVNode"])("div",X,[Object(c["createVNode"])(ze,{value:he.getActivity().end,onInput:t[9]||(t[9]=function(e){return he.setActivity("end",e)}),placeholder:"Activity End DateTime",icon:"calendar-alt","trap-focus":""},null,8,["value"])])])])])):Object(c["createCommentVNode"])("",!0)])])])]})),_:1}),he.user&&null!=he.user&&he.user.type&&"admin"==he.user.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Z,[Object(c["createVNode"])(Re,{open:!1,"aria-id":"contentHiddenPropertiesAdmin"},{trigger:Object(c["withCtx"])((function(e){return[Object(c["createElementVNode"])("h3",ee,[te,ae,Object(c["createVNode"])(pe,{icon:e.open?"angle-down":"angle-up"},null,8,["icon"])])]})),default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",ce,[Object(c["createElementVNode"])("div",le,[Object(c["createElementVNode"])("div",ne,[Object(c["createElementVNode"])("div",oe,[re,Object(c["createElementVNode"])("div",ie,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input",type:"text","onUpdate:modelValue":t[10]||(t[10]=function(e){return be.categoryDetail.publisher=e}),translate:"yes",placeholder:"Publisher"},null,512),[[c["vModelText"],be.categoryDetail.publisher]])])])])])])]})),_:1})])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0),Object(c["createElementVNode"])("div",{class:"columns category-header",style:Object(c["normalizeStyle"])({backgroundImage:"url("+he.getCategoryBackground()+")"})},[Object(c["createElementVNode"])("div",se,[Object(c["createElementVNode"])("div",de,[Object(c["createElementVNode"])("div",ue,[Object(c["createElementVNode"])("label",ge,[Object(c["createElementVNode"])("input",{class:"file-input",type:"file",name:"resume",onInput:t[11]||(t[11]=function(e){return he.categoryMainImageUpload(e)})},null,32),me])]),Object(c["createElementVNode"])("a",{class:"action remove button is-danger is-outlined",onClick:t[12]||(t[12]=Object(c["withModifiers"])((function(e){return he.categoryMainImageDelete()}),["prevent"]))},ye)]),be.categoryDetail?(Object(c["openBlock"])(),Object(c["createElementBlock"])("h1",Oe,Object(c["toDisplayString"])(be.categoryDetail.name[be.language.code]),1)):Object(c["createCommentVNode"])("",!0),be.categoryDetail?(Object(c["openBlock"])(),Object(c["createElementBlock"])("h2",je,Object(c["toDisplayString"])(be.categoryDetail.descriptionShort[be.language.code]),1)):Object(c["createCommentVNode"])("",!0),be.categoryDetail?(Object(c["openBlock"])(),Object(c["createElementBlock"])("p",fe,Object(c["toDisplayString"])(be.categoryDetail.descriptionLong[be.language.code]),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("h1",ve,"Products"))])],4),Object(c["createElementVNode"])("div",Ee,[Object(c["createElementVNode"])("div",Ne,[Object(c["createElementVNode"])("div",Ve,[De,Object(c["createElementVNode"])("div",ke,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input is-size-1 has-text-weight-semibold has-text-centered",type:"text","onUpdate:modelValue":t[13]||(t[13]=function(e){return be.categoryDetail.name[be.language.code]=e}),onKeyup:t[14]||(t[14]=function(e){return he.checkNameDependents()}),translate:"yes",placeholder:"Name"},null,544),[[c["vModelText"],be.categoryDetail.name[be.language.code]]])])]),Object(c["createElementVNode"])("div",Ce,[we,Object(c["createElementVNode"])("div",xe,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input is-size-5 has-text-weight-normal has-text-centered",type:"text","onUpdate:modelValue":t[15]||(t[15]=function(e){return be.categoryDetail.descriptionShort[be.language.code]=e}),translate:"yes",placeholder:"Description Short"},null,512),[[c["vModelText"],be.categoryDetail.descriptionShort[be.language.code]]])])]),Object(c["createElementVNode"])("div",Se,[Be,Object(c["createElementVNode"])("div",$e,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"input is-size-5 has-text-weight-normal has-text-centered",type:"text","onUpdate:modelValue":t[16]||(t[16]=function(e){return be.categoryDetail.descriptionLong[be.language.code]=e}),translate:"yes",placeholder:"Description Long"},null,512),[[c["vModelText"],be.categoryDetail.descriptionLong[be.language.code]]])])])])]),Object(c["createElementVNode"])("div",Te,[Object(c["createElementVNode"])("div",Ie,[be.categoryDetail&&be.categoryDetail.subs?(Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",Le,[Ae,(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(this.categoryDetail.subs,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(qe,{class:"panel-block",key:t,title:e.descriptionShort[be.language.code],to:{name:"categoryList",params:{category:e.pathSlug}}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name[be.language.code]),1)]})),_:2},1032,["title","to"])})),128))])):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",Me,[Object(c["createElementVNode"])("section",null,[Object(c["createVNode"])(Ke,{label:"Enter parent categories' url slugs"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Je,{modelValue:be.categoryDetail.parentPath,"onUpdate:modelValue":t[17]||(t[17]=function(e){return be.categoryDetail.parentPath=e}),data:be.filteredCategoriesSlugs,autocomplete:"","allow-new":!1,field:"user.first_name",icon:"tags",placeholder:"Parent Categories",type:"is-info",onTyping:he.getFilteredCategories},null,8,["modelValue","data","onTyping"])]})),_:1})]),be.breadcrumbs&&null!=be.breadcrumbs&&be.breadcrumbs.length>0?(Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",Pe,[Object(c["createElementVNode"])("ul",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(be.breadcrumbs,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t},[Object(c["createVNode"])(qe,{title:e.name[be.language.code],to:{name:"categoryList",params:{category:e.pathSlug}}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name[be.language.code]),1)]})),_:2},1032,["title","to"])])})),128)),Object(c["createElementVNode"])("li",Fe,[Object(c["createVNode"])(qe,{title:be.categoryDetail.name[be.language.code],to:{name:"categoryList",params:{category:be.categoryDetail.pathSlug}},"aria-current":"page"},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(be.categoryDetail.name[be.language.code]),1)]})),_:1},8,["title","to"])])])])):Object(c["createCommentVNode"])("",!0)])]),this.categoryDetail&&null!=this.categoryDetail?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Ue,[Object(c["createElementVNode"])("div",_e,[Object(c["createElementVNode"])("section",null,[Object(c["createElementVNode"])("button",{class:"button is-danger",onClick:t[18]||(t[18]=function(e){return he.deleteCategory()}),translate:"yes"},"DELETE This Category"),Ge])])])):Object(c["createCommentVNode"])("",!0)])):Object(c["createCommentVNode"])("",!0)}a("498a"),a("d3b7"),a("25f0"),a("ac1f"),a("1276"),a("df7c"),a("5b55");var ze={name:"CategoryNewEdit",data:function(){return{categories:[],filteredProductsCount:null,products:[],categoryMainImageFile:null,breadcrumbs:[],categoryDetail:null,language:{code:"en",longCode:"en-US",name:"English"},newLanguage:null,editing:!1,userEditAllowed:!1,groupsLastRefresh:0,filteredCategoriesSlugs:[],fireCounter:0,dataToGenerateFromName:{slug:!0,externalId:!0},categoryTypes:["products","pages"]}},created:function(){this.language=this.$store.state.language},computed:{user:function(){return this.$store.getters.getUserProfile}},components:{},watch:{user:function(e,t){console.log("new & old",e,t),e&&null!==e&&(this.getUserEditAllowed(),this.userEditAllowed&&this.getCategoryDetail())}},mounted:function(){this.getUserEditAllowed(),console.log("mounted this.userEditAllowed",this.userEditAllowed),this.userEditAllowed&&this.getCategoryDetail()},methods:{getUserEditAllowed:function(){if(this.language=this.$store.state.language,this.user&&null!==this.user&&this.user.type&&"admin"===this.user.type)return this.userEditAllowed=!0,void(this.user.settings.language&&(this.language=this.$store.state.language));this.userEditAllowed=!1},changeEditedLang:function(){this.fireCounter++,this.editing&&this.newLanguage&&this.newLanguage.code&&1===this.fireCounter&&(window.location=window.location.origin+this.$route.path+"?lang="+this.newLanguage.code)},processCategoryResponse:function(e){var t=new Date;this.groupsLastRefresh=t.getTime(),e.data&&(this.categoryDetail=e.data,e.data.parentCategories&&(this.breadcrumbs=e.data.parentCategories),this.editing=!0,this.newLanguage=this.language),e.data.categories&&(this.categories=e.data.categories)},getCategoryDetail:function(){var e=this;this.$route.params&&this.$route.params.category&&""!==this.$route.params.category.toString().trim()&&("---new"===this.$route.params.category.toString().trim()?setTimeout((function(){e.categoryDetail=e.getEmptyCategory(),e.editing=!0}),1e3):this.$httpc.get("category/"+this.$route.params.category,{timeout:7e3}).then((function(t){e.processCategoryResponse(t)})).catch((function(e){console.log(e)})))},getFilteredCategories:function(e){var t=this;return e&&""!==e.toString().trim()?this.$httpc.post("categories/find",{query:{pathSlug:{$regex:e},type:t.categoryDetail&&t.categoryDetail.type?t.categoryDetail.type:"products"}}).then((function(e){return e.data&&e.data.categories?e.data.categories:[]})).then((function(e){console.log("categories:",e,t.categoryDetail.parentPath);for(var a=[],c=0;c<e.length;c++)t.categoryDetail.parentPath.indexOf(e[c].pathSlug)<0&&a.push(e[c].pathSlug);return t.filteredCategoriesSlugs=a,a})).catch((function(e){console.error("CategoryNewEdit getFilteredCategories() error:",e)})):(t.filteredCategoriesSlugs=[],[])},getCategoryBackground:function(){return this.categoryDetail&&this.categoryDetail.slug&&this.$store.state.coredata&&this.$store.state.coredata.settings&&this.$store.state.coredata.settings.assets&&this.$store.state.coredata.settings.assets.url?this.$helpers.getImagePath("categories",this.$store.state.coredata,this.categoryDetail.slug,this.categoryDetail.slug+".jpg"):""},categoryMainImageUpload:function(e){if(this.categoryMainImageFile=e.target.files,console.log("categoryMainImageFile:",this.categoryMainImageFile),this.categoryMainImageFile){var t=this,a=new FormData;if(this.categoryMainImageFile.length&&this.categoryMainImageFile.length>0)for(var c=0;c<this.categoryMainImageFile.length;c++){var l=this.categoryMainImageFile[c];a.append("files["+c+"]",l)}else a.append("files[0]",this.categoryMainImageFile);this.$httpc.post("/categories/upload/"+this.categoryDetail.slug,a,{needsAuth:!0}).then((function(e){if(e&&e.data&&"'"===e.data.substr(0,1)&&"'"===e.data[e.data.length-1]){var a=e.data.length-2;if(e.data=e.data.substr(1,a),e.data=JSON.parse(e.data),e.data.files&&e.data.files.length>0&&e.data.files[0].path&&""!==e.data.files[0].path.trim()){var c=t.$el.querySelector(".category-list .category-header");c&&c.setAttribute("style","background-image: url('"+t.$store.state.coredata.settings.assets.url+"/categories/"+e.data.files[0].path+"')")}}}))}},categoryMainImageDelete:function(){var e=this;if(confirm("Are you sure?")){var t={timeout:15e3,needsAuth:!0},a=this.getCategoryBackground(this.categoryDetail.slug),c="";if(""!==a.trim()){var l=a.split("/");l.length>0&&(c=l[l.length-1])}console.log(this.categoryDetail.slug,a),this.$httpc.delete("user/image/categories/"+this.categoryDetail.slug+"/"+c,t).then((function(t){t&&t.data&&t.data.success&&(console.log("image delete response",t.data),e.$el.querySelector(".category-list .category-header").setAttribute("style",""))}))}},saveCategory:function(){var e=this,t=this.categoryDetail;t&&t._id&&!t.id&&(t.id=t._id),t.parentPath&&t.parentPath.length>0&&(t.parentPathSlug=t.parentPath[t.parentPath.length-1]),t.parentCategories&&delete t.parentCategories,t.subs&&delete t.subs,t.subsSlugs&&delete t.subsSlugs,t.count&&delete t.count,t.minMaxPrice&&delete t.minMaxPrice;var a={categories:[]};a.categories.push(t),this.$httpc.put("categories",a,{needsAuth:!0}).then((function(t){if(t.data&&t.data.length>0){var a=t.data[0],c=e.$router.resolve({name:"categoryNewEdit",params:{category:a.pathSlug}});window.location=c.href}})).catch((function(e){console.log("saveCategory error:",e)}))},deleteCategory:function(){var e=this,t={categories:[{id:e.categoryDetail._id}]};this.categoryDetail&&this.categoryDetail._id&&confirm("Are you sure you want to delete this product?")&&this.$httpc.delete("categories",{data:t}).then((function(e){e&&e.data&&alert("Category has been successfully removed. You will be redirected now")}))},getEmptyCategory:function(){var e=this;return{externalId:null,publisher:e.$store.state.user.profile.email,slug:null,pathSlug:null,parentPath:[],parentPathSlug:null,type:"products",subtype:"physical",name:e.$helpers.getLangsObject(e.$store.state.coredata.langCodes),descriptionShort:e.$helpers.getLangsObject(e.$store.state.coredata.langCodes),descriptionLong:e.$helpers.getLangsObject(e.$store.state.coredata.langCodes),categories:[],dates:{dateCreated:null,dateUpdated:null,dateSynced:null},data:{},note:null}},checkNameDependents:function(){if(this.categoryDetail&&!this.categoryDetail._id){var e=this.language&&this.language.code?this.language.code:null;this.newLanguage&&this.newLanguage.code&&(e=this.newLanguage.code),this.categoryDetail.name&&this.categoryDetail.name[e]&&""!==this.categoryDetail.name[e].trim()&&((this.categoryDetail.slug&&""===this.categoryDetail.slug.trim()||this.dataToGenerateFromName.slug)&&(this.categoryDetail.slug=this.$helpers.stringToSlug(this.categoryDetail.name[e]),this.dataToGenerateFromName.slug=!0),(this.categoryDetail.externalId&&""===this.categoryDetail.externalId.trim()||this.dataToGenerateFromName.externalId)&&(this.categoryDetail.externalId=this.$helpers.stringToSlug(this.categoryDetail.name[e]),this.dataToGenerateFromName.externalId=!0))}},getActivity:function(){var e={start:null,end:null};return this.categoryDetail&&null!==this.categoryDetail&&this.categoryDetail.activity&&null!==this.categoryDetail.activity&&(this.categoryDetail.activity.start&&""!==this.categoryDetail.activity.start.toString().trim()&&(e.start=new Date(this.categoryDetail.activity.start)),this.categoryDetail.activity.end&&""!==this.categoryDetail.activity.end.toString().trim()&&(e.end=new Date(this.categoryDetail.activity.end))),e},setActivity:function(e,t){t&&this.categoryDetail&&null!==this.categoryDetail&&(this.categoryDetail.activity||(this.categoryDetail.activity={start:null,end:null}),this.categoryDetail.activity[e]=t)}}},Re=(a("3918"),a("6b0d")),qe=a.n(Re);const Je=qe()(ze,[["render",He],["__scopeId","data-v-aed3211a"]]);t["default"]=Je},a1ee:function(e,t,a){}}]);
//# sourceMappingURL=chunk-329c45f4.11f74330.js.map